(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{485:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a="",i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!isNaN(t)){t=Number(t);var e=document.querySelector("html"),n=window.getComputedStyle(e).getPropertyValue("font-size");return t*parseFloat(n)}}},486:function(t,e,n){"use strict";n.d(e,"h",(function(){return d})),n.d(e,"a",(function(){return m})),n.d(e,"j",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"g",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"i",(function(){return g})),n.d(e,"k",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return k}));var a=n(490),i=n.n(a),o=n(529),r=n.n(o),s=(n(546),n(485)),c=r.a.create({baseURL:s.a,timeout:5e3,headers:{"Content-Type":"application/x-www-form-urlencoded"}});function l(t,e){return new i.a((function(n,a){c.get(t,{params:e}).then((function(t){var e=t.data;"04"==e.ResultCode?u("异地登录",e.ResultMessage):"01"==e.ResultCode&&u("登录超时",e.ResultMessage),n(e)})).catch((function(t){a(t)}))}))}function u(t,e){jAlert(e,t,(function(){window.location.href=logout}))}c.interceptors.response.use((function(t){return t}));var d=function(t){return l("/Equipment/QueryOverview",t)},m=function(t){return l("/Equipment/IncomeExpenseByDepartment",t)},p=function(t){return l("/Request/Todays",t)},v=function(t){return l("/Request/QueryOverview",t)},h=function(t){return l("/Request/Kpi",t)},f=function(t){return l("/Equipment/EquipmentsDetailsByDepartment",t)},g=function(t){return l("/Equipment/GetRequestCountByID",t)},b=function(t){return l("/Equipment/GetTimeline4Dashboard",t)},x=function(t){return l("/Request/QueryRequestList",t)},y=function(t){return l("/Dispatch/QueryDispatches",t)},k=function(t){return l("/User/QueryUserList",t)}},488:function(t,e,n){"use strict";var a=n(486),i=n(485),o={components:{},model:{},props:["date"],data:function(){return{navList:[{key:"Repair",value:1,name:"紧急维修",icon:"icon-xiuli1",count:9,active:!1},{key:"Recall",value:-1,name:"召回事件",icon:"icon-buhegepinzhaohui",count:2,active:!1},{key:"MandatoryTest",value:3,name:"强检事件",icon:"icon-jingbao1",count:3,active:!1},{key:"OverDue",value:97,name:"超期事件",icon:"icon-rili",count:6,active:!1}],list:[],interval:null,cur_index:0,mockList:[],params:{currentPage:1,status:98,requestType:1,isRecall:!1,department:-1,urgency:2,overDue:!1,filterField:"",filterText:"",field:"r.RequestDate",direction:!1}}},watch:{},created:function(){this.iconClick(this.cur_index),this.autoLoop()},methods:{link:function(){localStorage.removeItem("date"),0==this.cur_index?(this.params.requestType=1,this.params.isRecall=!1,this.params.urgency=2,this.params.overDue=!1):1==this.cur_index?(this.params.requestType=3,this.params.isRecall=!0,this.params.urgency=0,this.params.overDue=!1):2==this.cur_index?(this.params.requestType=3,this.params.isRecall=!1,this.params.urgency=0,this.params.overDue=!1):3==this.cur_index&&(this.params.requestType=0,this.params.isRecall=!1,this.params.urgency=0,this.params.overDue=!0);var t="?a=0";for(var e in this.params)t+="&"+e+"="+this.params[e];window.location.href=i.a+"/Request/RequestList"+t},autoLoop:function(){var t=this;this.interval=setTimeout((function(){t.cur_index++,t.cur_index>t.navList.length-1&&(t.cur_index=0),t.iconClick(t.cur_index)}),3e4)},iconClick:function(t){var e=this.navList[t];this.navList.forEach((function(t){t.active=!1})),e.active=!0,this.cur_index=t,this.getList(e.key),clearTimeout(this.interval),this.autoLoop()},getList:function(t){var e=this,n={date:this.date};Object(a.c)(n).then((function(n){e.navList.forEach((function(t){t.count=n.Data[t.key].length}));var a=n.Data[t].map((function(e){return{content:e.DepartmentName+": "+e.EquipmentName+" ["+e.EquipmentOID+"] 正在等待"+("Recall"==t?"召回":e.RequestType.Name)+"，请优先处理",time:e.RequestDate.split("T")[0]}}));e.mockList=a}))}}},r=(n(549),n(148)),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-event-list-container"},[n("div",{staticClass:"nav"},t._l(t.navList,(function(e,a){return n("div",{key:a,staticClass:"nav-item",class:["nav-item-"+a,{active:e.active}],on:{click:function(e){return t.iconClick(a)}}},[n("div",{staticClass:"iconfont",class:e.icon}),t._v(" "),n("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"count center-center"},[t._v(t._s(e.count))])])})),0),t._v(" "),n("div",{staticClass:"component-event-list",on:{click:t.link}},t._l(t.mockList,(function(e,a){return n("div",{key:a,staticClass:"li"},[n("span",{staticClass:"iconfont icon-jingbao"}),t._v(" "),n("span",{staticClass:"text elip",attrs:{title:e.content}},[t._v("\n          "+t._s(e.content)+"\n          ")]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.time))])])})),0)])}),[],!1,null,"91ee19a4",null);e.a=s.exports},489:function(t,e,n){"use strict";var a=n(146),i=n.n(a),o=n(493),r=n.n(o),s=n(490),c=n.n(s),l=n(494),u=n.n(l),d=(n(495),n(486)),m=n(485),p={components:{},model:{},props:["masterDate"],data:function(){return{chart:{value:0,target:0},chart_origin:{},list:[{key:"Correcting",name:"校准率",value:0,processed:0,total:0,target:0},{key:"Maintain",name:"保养率",value:0,processed:0,total:0,target:0},{key:"OnSiteInspection",name:"巡检率",value:0,processed:0,total:0,target:0}],params:{currentPage:1,status:98,requestType:5,isRecall:!1,department:-1,urgency:0,overDue:!1,filterField:"",filterText:"",field:"r.RequestDate",direction:!1}}},watch:{masterDate:function(t){this.changeDate(t)}},created:function(){this.init()},methods:{changeDate:function(t){this.init()},init:function(){var t=this;this.getList().then((function(){t.renderChart()}))},link:function(t){localStorage.removeItem("date"),"校准率"===t.name&&(this.params.requestType=5),"保养率"===t.name&&(this.params.requestType=2),"巡检率"===t.name&&(this.params.requestType=4);var e="?a=0";for(var n in this.params)e+="&"+n+"="+this.params[n];window.location.href=m.a+"/Request/RequestList"+e},getList:function(){var t=this;console.log(this.masterDate);var e={date:this.masterDate};return new c.a((function(n){Object(d.g)(e).then((function(e){var a=e.Data;t.chart.value=(Math.floor(100*a.BootRate.Present)/10).toFixed(1),t.chart.target=1*(10*a.BootRate.Default).toFixed(1),t.list.forEach((function(t){0==a[t.key].Plans?t.value=0:t.value=1*(100*a[t.key].Done/a[t.key].Plans).toFixed(2),t.processed=a[t.key].Done,t.total=a[t.key].Plans})),n()}))})).catch((function(t){}))},renderChart:function(){var t=Math.max(Math.ceil(this.chart.value),2),e=this;function n(n){var a=[],i=e.chart.value*n/(t-1);return i=i.toFixed(1),a.push({value:1*i}),a}u.a.Shape.registerShape("point","pointer",{drawShape:function(t,e){var n=this.parsePoint({x:0,y:0}),a=t.points[0],i=this.parsePoint({x:a.x,y:1}),o={x:n.x-i.x,y:n.y-i.y},r=Math.sqrt(o.x*o.x+o.y*o.y);o.x*=1/r,o.y*=1/r;var s=-Math.PI/2,c=Math.cos(s)*o.x-Math.sin(s)*o.y,l=Math.sin(s)*o.x+Math.cos(s)*o.y,u=Math.PI/2,d=Math.cos(u)*o.x-Math.sin(u)*o.y,p=Math.sin(u)*o.x+Math.cos(u)*o.y,v=Object(m.b)(.16),h=[["M",i.x+1*c,i.y+1*l],["L",n.x+c*v,n.y+l*v],["L",n.x+d*v,n.y+p*v],["L",i.x+1*d,i.y+1*p],["Z"]];return e.addShape("path",{attrs:{path:h,fill:"#E64340"}}),e.addShape("circle",{attrs:{x:n.x,y:n.y,r:Object(m.b)(.3),stroke:"#E64340",lineWidth:2,fill:"#E64340"}})}}),r()(e.chart_origin).length&&!e.chart_origin.destroyed&&e.chart_origin.destroy(),e.chart_origin=new u.a.Chart({container:"kpi-chart",forceFit:!0,height:document.querySelector("#kpi-chart").clientHeight,padding:"auto",animate:!1});var a=e.chart_origin;a.source(n()),a.coord("polar",{startAngle:-9/8*Math.PI,endAngle:1/9*Math.PI,radius:1}),a.scale("value",{min:0,max:10,tickInterval:1,nice:!1}),a.axis(!1),a.legend(!1),a.point().position("value*1").shape("pointer").color("#1890FF").active(!1);for(var o=function(t){setTimeout((function(){a&&a.guide()&&function(t){var n=t[0].value;a.guide().clear(),a.guide().arc({zIndex:0,top:!1,start:[0,.945],end:[10,.945],style:{stroke:"#eef2f8",lineWidth:Object(m.b)(.5)}}),a.guide().arc({zIndex:1,start:[0,.945],end:[n,.945],style:{stroke:"l(0) 0:#7BCDC8 1:#5579C4",lineWidth:Object(m.b)(.5)}}),a.guide().line({start:[0,0],end:[e.chart.target,.815],lineStyle:{stroke:"#E64340",lineDash:[1],lineWidth:1}});for(var o=0;o<=10;o++)a.guide().line({start:[o,.815],end:[o,.7],lineStyle:{stroke:"#aaa",lineDash:null,lineWidth:1}});if(null!=document.querySelector("#kpi-chart")){var r=document.querySelector("#kpi-chart").parentElement.parentElement.parentElement,s=[].concat(i()(r.classList)).some((function(t){return"top"==t}))?"72%":"75%";a.guide().html({position:["50%",s],html:'<div style="width: 3rem;text-align: center;"><p style="font-size: .8rem;color: #E64340;margin: 0;font-weight: bold">'+10*n+'<span style="font-size: .4rem;">%</span></p><p style="font-size: .4rem; color: #444;margin-top: .1rem;">开机率</p></div>'}),a.changeData(t)}}(n(t))}),100*t)},s=0;s<t;s++)o(s)}}},v=(n(554),n(148)),h=Object(v.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-gauge-container"},[n("div",{attrs:{id:"kpi-chart"}}),t._v(" "),n("div",{staticClass:"list-box"},t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"list",on:{click:function(n){return t.link(e)}}},[n("div",{staticClass:"list-box-left"},[n("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"percent"},[t._v(t._s(e.value)),n("span",{staticStyle:{"font-size":".4rem"}},[t._v("%")])])]),t._v(" "),n("div",{staticClass:"list-box-right"},[n("div",{staticClass:"schedule"},[n("div",{staticClass:"bg",style:{width:e.value+"%"}})]),t._v(" "),n("div",{staticClass:"schedule-text"},[n("span",{staticClass:"label"},[t._v("已完成"),n("span",{staticClass:"count"},[t._v(t._s(e.processed)),n("span",{staticClass:"jian"},[t._v("件")])])]),t._v(" "),n("span",{staticClass:"label"},[t._v("本月计划"),n("span",{staticClass:"count"},[t._v(t._s(e.total)),n("span",{staticClass:"jian"},[t._v("件")])])])])])])})),0)])}),[],!1,null,"794eb15a",null);e.a=h.exports},492:function(t,e,n){var a=n(147),i=n(550);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},496:function(t,e,n){var a=n(147),i=n(555);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},549:function(t,e,n){"use strict";var a=n(492);n.n(a).a},550:function(t,e,n){(e=n(487)(!1)).push([t.i,"/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n[data-v-91ee19a4]::-webkit-scrollbar {\n  width: 0.32rem;\n  height: 0.32rem;\n  background-color: #F5F5F5;\n}\n/*定义滚动条轨道 内阴影+圆角*/\n[data-v-91ee19a4]::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  border-radius: 0.2rem;\n  background-color: #F5F5F5;\n}\n/*定义滑块 内阴影+圆角*/\n[data-v-91ee19a4]::-webkit-scrollbar-thumb {\n  border-radius: 0.2rem;\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n}\n.component-event-list-container[data-v-91ee19a4] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.component-event-list-container .nav[data-v-91ee19a4] {\n  display: flex;\n  padding: 0.5rem 0.9rem;\n  justify-content: space-between;\n}\n.component-event-list-container .nav .nav-item[data-v-91ee19a4] {\n  position: relative;\n  width: 2.9rem;\n  height: 2.8rem;\n  border-radius: 0.16rem;\n  cursor: pointer;\n  background-color: #d9e9f9;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.6rem 0 0.4rem;\n  justify-content: space-between;\n  transition: all 1s;\n}\n.component-event-list-container .nav .nav-item.active[data-v-91ee19a4] {\n  box-shadow: 0 0 0.1rem #aaa;\n  background: #3D6EC0;\n  color: #fff;\n}\n.component-event-list-container .nav .nav-item.active .iconfont[data-v-91ee19a4] {\n  color: #d9e9f9;\n}\n.component-event-list-container .nav .nav-item[data-v-91ee19a4]:hover {\n  box-shadow: 0 0 0.1rem #aaa;\n}\n.component-event-list-container .nav .nav-item .iconfont[data-v-91ee19a4] {\n  font-size: 1.1rem;\n  color: #3D6EC0;\n}\n.component-event-list-container .nav .nav-item .text[data-v-91ee19a4] {\n  font-weight: bold;\n  font-size: 0.4rem;\n}\n.component-event-list-container .nav .nav-item .count[data-v-91ee19a4] {\n  position: absolute;\n  width: 0.8rem;\n  height: 0.8rem;\n  right: -0.24rem;\n  top: -0.24rem;\n  background: #E2340D;\n  font-size: 0.44rem;\n  color: #fff;\n  border-radius: 50%;\n}\n.component-event-list-container .component-event-list[data-v-91ee19a4] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 4.1rem;\n  bottom: 0.6rem;\n  overflow-y: auto;\n  padding: 0 0.95rem;\n  font-size: 0.4rem;\n}\n.component-event-list-container .component-event-list .li[data-v-91ee19a4] {\n  display: flex;\n  margin-bottom: 0.28rem;\n  align-items: center;\n  font-size: 0.4rem;\n  cursor: pointer;\n}\n.component-event-list-container .component-event-list .li[data-v-91ee19a4]:last-of-type {\n  margin-bottom: 0;\n}\n.component-event-list-container .component-event-list .li .iconfont[data-v-91ee19a4] {\n  color: #E2340D;\n  margin-right: 0.2rem;\n  font-weight: bold;\n  font-size: 0.44rem;\n}\n.component-event-list-container .component-event-list .li .text[data-v-91ee19a4] {\n  flex: 1;\n  margin-right: 0.1rem;\n}\n.component-event-list-container .component-event-list .li .time[data-v-91ee19a4] {\n  font-size: 0.36rem;\n  color: #888;\n}\n",""]),t.exports=e},554:function(t,e,n){"use strict";var a=n(496);n.n(a).a},555:function(t,e,n){(e=n(487)(!1)).push([t.i,".component-gauge-container[data-v-794eb15a] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n.component-gauge-container #kpi-chart[data-v-794eb15a] {\n  width: 30%;\n  height: 100%;\n}\n.component-gauge-container .list-box[data-v-794eb15a] {\n  width: 70%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 1.2rem 0.2rem 1.2rem 0.8rem;\n}\n.component-gauge-container .list-box .list[data-v-794eb15a] {\n  display: flex;\n  cursor: pointer;\n}\n.component-gauge-container .list-box .list .list-box-left[data-v-794eb15a] {\n  width: 100px;\n}\n.component-gauge-container .list-box .list .list-box-left .text[data-v-794eb15a] {\n  margin-bottom: 0.1rem;\n}\n.component-gauge-container .list-box .list .list-box-left .percent[data-v-794eb15a] {\n  font-weight: bold;\n  color: #E64340;\n  font-size: 0.6rem;\n}\n.component-gauge-container .list-box .list .list-box-right[data-v-794eb15a] {\n  margin-left: 0.8rem;\n  flex: 1;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule[data-v-794eb15a] {\n  width: 100%;\n  height: 0.4rem;\n  background: #ddd;\n  margin-bottom: 0.4rem;\n  position: relative;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule .bg[data-v-794eb15a] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(to right, #7accc6, #5579c4);\n}\n.component-gauge-container .list-box .list .list-box-right .schedule .target[data-v-794eb15a] {\n  height: 100%;\n  width: 0;\n  border-right: 0.02rem dotted #E64340;\n  /*background: #E64340;*/\n  position: absolute;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule-text[data-v-794eb15a] {\n  display: flex;\n  justify-content: space-between;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule-text .label[data-v-794eb15a] {\n  font-size: 0.36rem;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule-text .count[data-v-794eb15a] {\n  font-size: 0.6rem;\n  font-weight: bold;\n}\n.component-gauge-container .list-box .list .list-box-right .schedule-text .count .jian[data-v-794eb15a] {\n  font-size: 0.4rem;\n}\ncanvas[data-v-794eb15a] {\n  background: #fff;\n  width: 100%;\n  height: 100%;\n}\n",""]),t.exports=e}}]);