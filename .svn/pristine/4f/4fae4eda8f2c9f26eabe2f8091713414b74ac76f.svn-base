(function t(e,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define([],r);else if(typeof exports==="object")exports["G2_3"]=r();else e["G2_3"]=r()})(typeof self!=="undefined"?self:this,function(){return function(r){var a={};function i(t){if(a[t]){return a[t].exports}var e=a[t]={i:t,l:false,exports:{}};r[t].call(e.exports,e,e.exports,i);e.l=true;return e.exports}i.m=r;i.c=a;i.d=function(t,e,r){if(!i.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:r})}};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=390)}([function(t,e,r){var a=r(127);var n=r(16);var o=a.mix({},a,{assign:a.mix,merge:a.deepMix,cloneDeep:a.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:a.isNumberEqual,remove:a.pull,inArray:a.contains,toAllPadding:function t(e){var r=0;var a=0;var i=0;var n=0;if(o.isNumber(e)||o.isString(e)){r=a=i=n=e}else if(o.isArray(e)){r=e[0];i=!o.isNil(e[1])?e[1]:e[0];n=!o.isNil(e[2])?e[2]:e[0];a=!o.isNil(e[3])?e[3]:i}else if(o.isObject(e)){r=e.top||0;i=e.right||0;n=e.bottom||0;a=e.left||0}return[r,i,n,a]},getClipByRange:function t(e){var r=e.tl,a=e.br;var i=new n.Rect({attrs:{x:r.x,y:r.y,width:a.x-r.x,height:a.y-r.y}});return i}});o.Array={groupToMap:a.groupToMap,group:a.group,merge:a.merge,values:a.valuesOfKey,getRange:a.getRange,firstValue:a.firstValue,remove:a.pull};t.exports=o},function(t,e,r){var a=r(81);var n={};a.merge(n,a,{mixin:function t(r,e){var a=r.CFG?"CFG":"ATTRS";if(r&&e){r._mixins=e;r[a]=r[a]||{};var i={};n.each(e,function(t){n.augment(r,t);var e=t[a];if(e){n.merge(i,e)}});r[a]=n.merge(i,r[a])}}});t.exports=n},function(t,e,r){var s=r(25);var l=r(4);var a=function t(e,r){if(!e){return}var a=void 0;if(l(e)){for(var i=0,n=e.length;i<n;i++){a=r(e[i],i);if(a===false){break}}}else if(s(e)){for(var o in e){if(e.hasOwnProperty(o)){a=r(e[o],o);if(a===false){break}}}}};t.exports=a},function(t,e,r){var a=r(20);var i=r(127);var n=i.mix({assign:i.mix,isFinite:isFinite,isNaN:isNaN,Group:a.Group,Event:a.Event},i);t.exports=n},function(t,e,r){var a=r(12);var i=Array.isArray?Array.isArray:function(t){return a(t,"Array")};t.exports=i},function(t,e){var r=function t(e){return e===null||e===undefined};t.exports=r},function(t,e,r){var l=r(1);var a=r(190);var i=r(102);var s=r(55);var n=function t(e){t.superclass.constructor.call(this,e)};n.ATTRS={};l.extend(n,i);var o={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function u(t){var e=[];for(var r=0;r<t.length;r++){if(l.isArray(t[r])){e.push([].concat(t[r]))}else{e.push(t[r])}}return e}l.augment(n,a,{isShape:true,drawInner:function t(e){var r=this;var a=r._attrs;r.createPath(e);var i=e.globalAlpha;if(r.hasFill()){var n=a.fillOpacity;if(!l.isNil(n)&&n!==1){e.globalAlpha=n;e.fill();e.globalAlpha=i}else{e.fill()}}if(r.hasStroke()){var o=r._attrs.lineWidth;if(o>0){var s=a.strokeOpacity;if(!l.isNil(s)&&s!==1){e.globalAlpha=s}e.stroke()}}r.afterPath(e)},afterPath:function t(){},isHitBox:function t(){return true},isHit:function t(e,r){var a=this;var i=[e,r,1];a.invert(i);if(a.isHitBox()){var n=a.getBBox();if(n&&!s.box(n.minX,n.maxX,n.minY,n.maxY,i[0],i[1])){return false}}var o=a._attrs.clip;if(o){o.invert(i,a.get("canvas"));if(o.isPointInPath(i[0],i[1])){return a.isPointInPath(i[0],i[1])}}else{return a.isPointInPath(i[0],i[1])}return false},calculateBox:function t(){return null},getHitLineWidth:function t(){var e=this._attrs;var r=e.lineAppendWidth||0;var a=e.lineWidth||0;return a+r},clearTotalMatrix:function t(){this._cfg.totalMatrix=null;this._cfg.region=null},clearBBox:function t(){this._cfg.box=null;this._cfg.region=null},getBBox:function t(){var e=this._cfg.box;if(!e){e=this.calculateBox();if(e){e.x=e.minX;e.y=e.minY;e.width=e.maxX-e.minX;e.height=e.maxY-e.minY}this._cfg.box=e}return e},clone:function t(){var e=this;var t=null;var r=e._attrs;var a={};l.each(r,function(t,e){if(o[e]&&l.isArray(r[e])){a[e]=u(r[e])}else{a[e]=r[e]}});t=new e.constructor({attrs:a});t._cfg.zIndex=e._cfg.zIndex;return t}});t.exports=n},function(t,e,r){var a=r(0);var i=r(151);var n={version:"3.5.11",renderer:"canvas",trackingInfo:{},animate:true,widthRatio:{column:1/2,rose:.9999999,multiplePie:1/1.3},showSinglePoint:false,connectNulls:false,scales:{},registerTheme:function t(e,r){i[e]=r},setTheme:function t(e){var r={};if(a.isObject(e)){r=e}else if(a.indexOf(Object.keys(i),e)!==-1){r=i[e]}else{r=i.default}a.deepMix(n,r)}};n.setTheme("default");t.exports=n},function(t,e){function n(t,e){for(var r in e){if(e.hasOwnProperty(r)&&r!=="constructor"&&e[r]!==undefined){t[r]=e[r]}}}var r=function t(e,r,a,i){if(r)n(e,r);if(a)n(e,a);if(i)n(e,i);return e};t.exports=r},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Number")};t.exports=i},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"String")};t.exports=i},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Function")};t.exports=i},function(t,e){var a={}.toString;var r=function t(e,r){return a.call(e)==="[object "+r+"]"};t.exports=r},function(t,e){var r=function t(e){return e!==null&&typeof e!=="function"&&isFinite(e.length)};t.exports=r},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var f=r(3);var c=r(156);var i=r(32);var n=["min","max","median","start","end"];var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return f.mix({},e,{xScales:null,yScales:null,el:null})};e.render=function t(){};e.clear=function t(){var e=this;var r=e.get("el");r&&r.remove();this.set("el",null)};e.destroy=function t(){this.clear();r.prototype.destroy.call(this)};e.changeVisible=function t(e){var r=this;r.set("visible",e);var a=r.get("el");if(!a)return;if(a.set){a.set("visible",e)}else{a.style.display=e?"":"none"}};e.parsePoint=function t(e,r){var a=this;var i=a.get("xScales");var n=a.get("yScales");if(f.isFunction(r)){r=r(i,n)}var o;var s;if(f.isArray(r)&&f.isString(r[0])&&r[0].indexOf("%")!==-1){return this._parsePercentPoint(e,r)}if(f.isArray(r)){o=a._getNormalizedValue(r[0],c.getFirstScale(i));s=a._getNormalizedValue(r[1],c.getFirstScale(n))}else{for(var l in r){var u=r[l];if(i[l]){o=a._getNormalizedValue(u,i[l])}if(n[l]){s=a._getNormalizedValue(u,n[l],"y")}}}if(!f.isNil(o)&&!f.isNil(s)&&!isNaN(o)&&!isNaN(s)){return e.convert({x:o,y:s})}return null};e._getNormalizedValue=function t(e,r){var a;if(f.indexOf(n,e)!==-1){var i;if(e==="start"){a=0}else if(e==="end"){a=1}else if(e==="median"){i=r.isCategory?(r.values.length-1)/2:(r.min+r.max)/2;a=r.scale(i)}else{if(r.isCategory){i=e==="min"?0:r.values.length-1}else{i=r[e]}a=r.scale(i)}}else{a=r.scale(e)}return a};e._parsePercentPoint=function t(e,r){var a=parseFloat(r[0])/100;var i=parseFloat(r[1])/100;var n=e.start,o=e.end;var s={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y)};var l=e.width*a+s.x;var u=e.height*i+s.y;return{x:l,y:u}};return t}(i);t.exports=o},function(t,e,r){var a=r(20);t.exports=a},function(t,e,r){var a=r(8);var i=r(2);var n=r(25);var o=r(5);var s=function(){var t=e.prototype;t._initDefaultCfg=function t(){this.type="base";this.formatter=null;this.range=[0,1];this.ticks=null;this.values=[]};function e(t){this._initDefaultCfg();a(this,t);this.init()}t.init=function t(){};t.getTicks=function t(){var r=this;var e=r.ticks;var a=[];i(e,function(t){var e;if(n(t)){e=t}else{e={text:r.getText(t),tickValue:t,value:r.scale(t)}}a.push(e)});return a};t.getText=function t(e,r){var a=this.formatter;e=a?a(e,r):e;if(o(e)||!e.toString){e=""}return e.toString()};t.rangeMin=function t(){return this.range[0]};t.rangeMax=function t(){var e=this.range;return e[e.length-1]};t.invert=function t(e){return e};t.translate=function t(e){return e};t.scale=function t(e){return e};t.clone=function t(){var r=this;var e=r.constructor;var a={};i(r,function(t,e){a[e]=r[e]});return new e(a)};t.change=function t(e){this.ticks=null;a(this,e);this.init();return this};return e}();t.exports=s},function(t,e,r){var o=r(0);var i=r(23);var n=o.PathUtil;var s={};var l={_coord:null,draw:function t(e,r){if(this.drawShape){return this.drawShape(e,r)}return null},setCoord:function t(e){this._coord=e},parsePath:function t(e,r){var a=this._coord;e=n.parsePathString(e);if(a.isPolar&&r!==false){e=i.convertPolarPath(a,e)}else{e=i.convertNormalPath(a,e)}return e},parsePoint:function t(e){var r=this._coord;return r.convertPoint(e)},parsePoints:function t(e){var r=this._coord;var a=[];o.each(e,function(t){a.push(r.convertPoint(t))});return a}};var u={defaultShapeType:null,setCoord:function t(e){this._coord=e},getShape:function t(e){var r=this;if(o.isArray(e)){e=e[0]}var a=r[e]||r[r.defaultShapeType];a._coord=r._coord;return a},getShapePoints:function t(e,r){var a=this.getShape(e);var i=a.getPoints||a.getShapePoints||this.getDefaultPoints;var n=i(r);return n},getDefaultPoints:function t(){return[]},getMarkerCfg:function t(e,r){var a=this.getShape(e);if(!a.getMarkerCfg){var i=this.defaultShapeType;a=this.getShape(i)}return a.getMarkerCfg(r)},getSelectedCfg:function t(){return{}},drawShape:function t(e,r,a){var i=this.getShape(e);var n=i.draw(r,a);if(n){n.setSilent("origin",r.origin);n._id=r.yIndex?r._id+r.yIndex:r._id;n.name=this.name}return n}};s.registerFactory=function(t,e){var r=o.upperFirst(t);var a=o.assign({},u,e);s[r]=a;a.name=t;return a};s.registerShape=function(t,e,r){var a=o.upperFirst(t);var i=s[a];var n=o.assign({},l,r);i[e]=n;return n};s.getShapeFactory=function(t){var e=this;t=t||"point";var r=o.upperFirst(t);return e[r]};t.exports=s},function(t,e,r){"use strict";var a=r(61);r.d(e,"a",function(){return a["e"]});r.d(e,"f",function(){return a["g"]});r.d(e,"d",function(){return a["f"]});var i=r(204);r.d(e,"e",function(){return i["a"]});r.d(e,"c",function(){return i["b"]});var n=r(205);r.d(e,"b",function(){return n["a"]})},function(t,e,r){t.exports={Canvas:r(182),Group:r(101),Shape:r(6),Arc:r(105),Circle:r(106),Dom:r(107),Ellipse:r(108),Fan:r(109),Image:r(110),Line:r(111),Marker:r(57),Path:r(112),Polygon:r(113),Polyline:r(114),Rect:r(115),Text:r(116),PathSegment:r(39),PathUtil:r(58),Event:r(100),version:"3.3.6"}},function(t,e,r){function a(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var x=r(73);var p=r(298);var n=r(148);var b=r(0);var _=r(7);var c=r(306);var o=r(18);var s=r(338);var l=r(339);var u=r(340);var w=r(341);var f=["color","shape","size"];var g="_origin";function v(r){if(b.isString(r)||b.isPlainObject(r)){r=[r]}b.each(r,function(t,e){if(!b.isObject(t)){r[e]={type:t}}});return r}var h=function(r){i(e,r);var t=e.prototype;t.getDefaultCfg=function t(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:false,adjusts:null,shapeType:null,generatePoints:false,sortable:false,labelCfg:null,shareTooltip:true,tooltipCfg:null,animate:true,animateCfg:null,visible:true}};function e(t){var e;e=r.call(this,t)||this;e.viewTheme=e.get("viewTheme");b.assign(a(e),s,l,u);if(e.get("container")){e._initContainer()}e._initOptions();return e}t._initOptions=function t(){var e=this.get("adjusts");if(e){e=v(e);this.set("adjusts",e)}};t._createScale=function t(e,r){var a=this.get("scales");var i=a[e];if(!i){i=this.get("view").createScale(e,r);a[e]=i}return i};t._setAttrOptions=function t(e,r){var a=this.get("attrOptions");a[e]=r};t._createAttrOption=function t(e,r,a,i){var n={};n.field=r;if(a){if(b.isFunction(a)){n.callback=a}else{n.values=a}}else if(e!=="color"){n.values=i}this._setAttrOptions(e,n)};t.position=function t(e){this._setAttrOptions("position",{field:e});return this};t.color=function t(e,r){var a=this.viewTheme||_;this._createAttrOption("color",e,r,a.colors);return this};t.size=function t(e,r){var a=this.viewTheme||_;this._createAttrOption("size",e,r,a.sizes);return this};t.shape=function t(e,r){var a=this.viewTheme||_;var i=this.get("type");var n=a.shapes[i]||[];this._createAttrOption("shape",e,r,n);return this};t.opacity=function t(e,r){var a=this.viewTheme||_;this._createAttrOption("opacity",e,r,a.opacities);return this};t.style=function t(e,r){var a=this.get("styleOptions");if(!a){a={};this.set("styleOptions",a)}if(b.isObject(e)){r=e;e=null}var i;if(e){i=w(e)}a.fields=i;a.style=r;return this};t.label=function t(e,r,a){var i=this;var n=i.get("labelCfg");if(!n){n={};i.set("labelCfg",n)}var o;if(e){o=w(e)}n.fields=o;if(b.isFunction(r)){if(!a){a={}}n.callback=r}else if(b.isObject(r)){a=r}n.globalCfg=a;return this};t.tooltip=function t(e,r){var a=this.get("tooltipCfg");if(!a){a={}}if(e===false){this.set("tooltipCfg",false)}else{var i;if(e){i=w(e)}a.fields=i;a.cfg=r}this.set("tooltipCfg",a);return this};t.animate=function t(e){this.set("animateCfg",e);return this};t.active=function t(e,r){if(e===false){this.set("allowActive",false)}else if(b.isObject(e)){this.set("allowActive",true);this.set("activedOptions",e)}else{this.set("allowActive",true);this.set("activedOptions",r)}return this};t.adjust=function t(e){if(!this.get("hasDefaultAdjust")){if(e){e=v(e)}this.set("adjusts",e)}return this};t.select=function t(e,r){if(e===false){this.set("allowSelect",false)}else if(b.isObject(e)){this.set("allowSelect",true);this.set("selectedOptions",e)}else{this.set("allowSelect",true);this.set("selectedOptions",r)}return this};t.hasAdjust=function t(e){var r=this;var a=r.get("adjusts");if(!e){return false}var i=false;b.each(a,function(t){if(t.type===e){i=true;return false}});return i};t.hasStack=function t(){var e=this.get("isStacked");if(b.isNil(e)){e=this.hasAdjust("stack");this.set("isStacked",e)}return e};t.isInCircle=function t(){var e=this.get("coord");return e&&e.isPolar};t._initContainer=function t(){var e=this;var r=e.get("shapeContainer");if(!r){var a=e.get("container");var i=e.get("view");var n=i&&i.get("_id");r=a.addGroup({viewId:n,visible:e.get("visible")});e.set("shapeContainer",r)}};t.init=function t(){var e=this;e._initContainer();e._initAttrs();if(e.get("tooltipCfg")&&e.get("tooltipCfg").fields){var r=e.get("tooltipCfg").fields;b.each(r,function(t){e._createScale(t)})}var a=e._processData();if(e.get("adjusts")){e._adjust(a)}e.set("dataArray",a)};t._initAttrs=function t(){var e=this;var r=e.get("attrs");var a=e.get("attrOptions");var i=e.get("coord");var n=e.viewTheme||_;var o=false;for(var s in a){if(a.hasOwnProperty(s)){var l=a[s];var u=b.upperFirst(s);var f=w(l.field);if(s==="position"){l.coord=i;if(f.length===1&&i.type==="theta"){f.unshift("1");o=true}}var c=[];for(var v=0;v<f.length;v++){var h=f[v];var p=e._createScale(h);if(s==="color"&&b.isNil(l.values)){if(p.values.length<=8){l.values=o?n.colors_pie:n.colors}else if(p.values.length<=16){l.values=o?n.colors_pie_16:n.colors_16}else{l.values=n.colors_24}if(b.isNil(l.values)){l.values=n.colors}}c.push(p)}if(i.type==="theta"&&s==="position"&&c.length>1){var g=c[1];var d=0;var y=Math.max.apply(null,g.values);if(!isFinite(y)){y=1}g.change({nice:false,min:d,max:y})}l.scales=c;var m=new x[u](l);r[s]=m}}};t._processData=function t(){var e=this;var r=this.get("data");var a=[];var i=this._groupData(r);for(var n=0;n<i.length;n++){var o=i[n];var s=e._saveOrigin(o);a.push(e._numberic(s))}return a};t._groupData=function t(e){var r=this._getGroupScales();var a=r.map(function(t){return t.field});return b.Array.group(e,a)};t._saveOrigin=function t(e){var r=[];for(var a=0;a<e.length;a++){var i=e[a];var n={};for(var o in i){n[o]=i[o]}n[g]=i;r.push(n)}return r};t._numberic=function t(e){var r=this.getAttr("position");var a=r.scales;var i=[];for(var n=0;n<e.length;n++){var o=e[n];var s=true;for(var l=0;l<Math.min(2,a.length);l++){var u=a[l];if(u.isCategory){var f=u.field;o[f]=u.translate(o[f]);if(Number.isNaN(o[f])){s=false}}}if(s){i.push(o)}}return i};t._getGroupScales=function t(){var e=this;var r=e.get("groupScales");if(!r){r=[];var a=e.get("attrs");b.each(a,function(t){if(f.includes(t.type)){var e=t.scales;b.each(e,function(t){if(t.isCategory&&b.indexOf(r,t)===-1){r.push(t)}})}});e.set("groupScales",r)}return r};t._updateStackRange=function t(e,r,a){var i=b.Array.merge(a);var n=r.min;var o=r.max;for(var s=0;s<i.length;s++){var l=i[s];if(!b.isArray(l[e])){continue}var u=Math.min.apply(null,l[e]);var f=Math.max.apply(null,l[e]);if(u<n){n=u}if(f>o){o=f}}if(n<r.min||o>r.max){r.change({min:n,max:o})}};t._adjust=function t(s){if(!s||!s.length){return}var l=this;var e=l.get("adjusts");var u=this.viewTheme||_;var f=l.getYScale();var c=l.getXScale();var v=c.field;var h=f?f.field:null;b.each(e,function(t){var e=b.mix({xField:v,yField:h},t);var r=b.upperFirst(t.type);if(r==="Dodge"){var a=[];if(c.isCategory||c.isIdentity){a.push("x")}else if(!f){a.push("y")}else{throw new Error("dodge is not support linear attribute, please use category attribute!")}e.adjustNames=a;e.dodgeRatio=e.dodgeRatio||u.widthRatio.column}else if(r==="Stack"){var i=l.get("coord");if(!f){e.height=i.getHeight();var n=l.getDefaultValue("size")||3;e.size=n}if(!i.isTransposed&&b.isNil(e.reverseOrder)){e.reverseOrder=true}}var o=new p[r](e);o.processAdjust(s);if(r==="Stack"&&f){l._updateStackRange(h,f,s)}})};t.setCoord=function t(e){this.set("coord",e);var r=this.getAttr("position");var a=this.get("shapeContainer");a.setMatrix(e.matrix);if(r){r.coord=e}};t.paint=function t(){var e=this;var r=e.get("dataArray");var a=[];var i=e.getShapeFactory();i.setCoord(e.get("coord"));e.set("shapeFactory",i);var n=e.get("shapeContainer");e._beforeMapping(r);for(var o=0;o<r.length;o++){var s=r[o];var l=o;s=e._mapping(s);a.push(s);e.draw(s,n,i,l)}if(e.get("labelCfg")){e._addLabels(b.union.apply(null,a),n.get("children"))}if(!e.get("sortable")){e._sort(a)}else{e.set("dataArray",a)}};t._sort=function t(e){var r=this;var a=r.getXScale();var i=a.field;b.each(e,function(t){t.sort(function(t,e){return a.translate(t[g][i])-a.translate(e[g][i])})});r.set("dataArray",e)};t._beforeMapping=function t(a){var e=this;if(e.get("sortable")){var r=e.getXScale();var i=r.field;b.each(a,function(t){t.sort(function(t,e){return r.translate(t[i])-r.translate(e[i])})})}if(e.get("generatePoints")){b.each(a,function(t){e._generatePoints(t)});b.each(a,function(t,e){var r=a[e+1];if(r){t[0].nextPoints=r[0].points}})}};t._addLabels=function t(e,r){var a=this;var i=a.get("type");var n=a.get("viewTheme")||_;var o=a.get("coord");var s=c.getLabelsClass(o.type,i);var l=a.get("container");var u=b.map(a.get("labelCfg").fields,function(t){return a._createScale(t)});var f=l.addGroup(s,{_id:this.get("_id"),labelCfg:b.mix({scales:u},a.get("labelCfg")),coord:o,geom:a,geomType:i,yScale:a.getYScale(),viewTheme:n,visible:a.get("visible")});f.showLabels(e,r);a.set("labelContainer",f)};t.getShapeFactory=function t(){var e=this.get("shapeFactory");if(!e){var r=this.get("shapeType");e=o.getShapeFactory(r);this.set("shapeFactory",e)}return e};t._generatePoints=function t(e){var r=this;var a=r.getShapeFactory();var i=r.getAttr("shape");for(var n=0;n<e.length;n++){var o=e[n];var s=r.createShapePointsCfg(o);var l=i?r._getAttrValues(i,o):null;var u=a.getShapePoints(l,s);o.points=u}};t.createShapePointsCfg=function t(e){var r=this.getXScale();var a=this.getYScale();var i=this._normalizeValues(e[r.field],r);var n;if(a){n=this._normalizeValues(e[a.field],a)}else{n=e.y?e.y:.1}return{x:i,y:n,y0:a?a.scale(this.getYMinValue()):undefined}};t.getYMinValue=function t(){var e=this.getYScale();var r=e.min,a=e.max;var i;if(r>=0){i=r}else if(a<=0){i=a}else{i=0}return i};t._normalizeValues=function t(e,r){var a=[];if(b.isArray(e)){for(var i=0;i<e.length;i++){var n=e[i];a.push(r.scale(n))}}else{a=r.scale(e)}return a};t._mapping=function t(e){var r=this;var a=r.get("attrs");var i=[];for(var n=0;n<e.length;n++){var o=e[n];var s={};s[g]=o[g];s.points=o.points;s.nextPoints=o.nextPoints;for(var l in a){if(a.hasOwnProperty(l)){var u=a[l];var f=u.names;var c=r._getAttrValues(u,o);if(f.length>1){for(var v=0;v<c.length;v++){var h=c[v];var p=f[v];s[p]=b.isArray(h)&&h.length===1?h[0]:h}}else{s[f[0]]=c.length===1?c[0]:c}}}i.push(s)}return i};t._getAttrValues=function t(e,r){var a=e.scales;var i=[];for(var n=0;n<a.length;n++){var o=a[n];var s=o.field;if(o.type==="identity"){i.push(o.value)}else{i.push(r[s])}}var l=e.mapping.apply(e,i);return l};t.getAttrValue=function t(e,r){var a=this.getAttr(e);var i=null;if(a){var n=this._getAttrValues(a,r);i=n[0]}return i};t.getDefaultValue=function t(e){var r=this.get(e);var a=this.getAttr(e);if(a){var i=a.getScale(e);if(i.type==="identity"){r=i.value}}return r};t.draw=function t(e,r,a,i){var n=this;for(var o=0;o<e.length;o++){var s=e[o];n.drawPoint(s,r,a,i+o)}};t.getCallbackCfg=function t(e,r,a){if(!e){return r}var i={};var n=e.map(function(t){return a[t]});b.each(r,function(t,e){if(b.isFunction(t)){i[e]=t.apply(null,n)}else{i[e]=t}});return i};t._getShapeId=function t(r){var a=this.get("_id");var e=this.get("keyFields");if(e&&e.length>0){b.each(e,function(t){a+="-"+r[t]})}else{var i=this.get("type");var n=this.getXScale();var o=this.getYScale();var s=n.field||"x";var l=o.field||"y";var u=r[l];var f;if(n.isIdentity){f=n.value}else{f=r[s]}if(i==="interval"||i==="schema"){a+="-"+f}else if(i==="line"||i==="area"||i==="path"){a+="-"+i}else{a+="-"+f+"-"+u}var c=this._getGroupScales();if(!b.isEmpty(c)){b.each(c,function(t){var e=t.field;if(t.type!=="identity"){a+="-"+r[e]}})}}return a};t.getDrawCfg=function t(e){var r=this;var a={origin:e,x:e.x,y:e.y,color:e.color,size:e.size,shape:e.shape,isInCircle:r.isInCircle(),opacity:e.opacity};var i=r.get("styleOptions");if(i&&i.style){a.style=r.getCallbackCfg(i.fields,i.style,e[g])}if(r.get("generatePoints")){a.points=e.points;a.nextPoints=e.nextPoints}if(r.get("animate")){a._id=r._getShapeId(e[g])}return a};t.appendShapeInfo=function t(e,r){if(e){e.setSilent("index",r);e.setSilent("coord",this.get("coord"));if(this.get("animate")&&this.get("animateCfg")){e.setSilent("animateCfg",this.get("animateCfg"))}}};t._applyViewThemeShapeStyle=function t(e,r,a){var i=this;var n=i.viewTheme||_;var o=a.name;if(r){if(r&&(r.indexOf("hollow")>-1||r.indexOf("liquid")>-1)){o="hollow"+b.upperFirst(o)}}else if(a.defaultShapeType.indexOf("hollow")>-1){o="hollow"+b.upperFirst(o)}var s=n.shape[o]||{};e.style=b.mix({},s,e.style)};t.drawPoint=function t(e,r,a,i){var n=this;var o=e.shape;var s=n.getDrawCfg(e);n._applyViewThemeShapeStyle(s,o,a);var l=a.drawShape(o,s,r);n.appendShapeInfo(l,i)};t.getAttr=function t(e){return this.get("attrs")[e]};t.getXScale=function t(){return this.getAttr("position").scales[0]};t.getYScale=function t(){return this.getAttr("position").scales[1]};t.getShapes=function t(){var e=[];var r=this.get("shapeContainer");var a=r.get("children");b.each(a,function(t){if(t.get("origin")){e.push(t)}});return e};t.getAttrsForLegend=function t(){var e=this.get("attrs");var r=[];b.each(e,function(t){if(f.includes(t.type)){r.push(t)}});return r};t.getFieldsForLegend=function t(){var r=[];var a=this.get("attrOptions");b.each(f,function(t){var e=a[t];if(e&&e.field&&b.isString(e.field)){r=r.concat(e.field.split("*"))}});return b.uniq(r)};t.changeVisible=function t(e,r){var a=this;a.set("visible",e);var i=this.get("shapeContainer");if(i){i.set("visible",e)}var n=this.get("labelContainer");if(n){n.set("visible",e)}if(!r&&i){var o=i.get("canvas");o.draw()}};t.reset=function t(){this.set("attrOptions",{});this.clearInner()};t.clearInner=function t(){this.clearActivedShapes();this.clearSelected();var e=this.get("shapeContainer");e&&e.clear();var r=this.get("labelContainer");r&&r.remove();this.set("attrs",{});this.set("groupScales",null);this.set("labelContainer",null);this.set("xDistance",null);this.set("isStacked",null)};t.clear=function t(){this.clearInner();this.set("scales",{})};t.destroy=function t(){this.clear();var e=this.get("shapeContainer");e&&e.remove();this.offEvents();r.prototype.destroy.call(this)};t.bindEvents=function t(){if(this.get("view")){this._bindActiveAction();this._bindSelectedAction()}};t.offEvents=function t(){if(this.get("view")){this._offActiveAction();this._offSelectedAction()}};return e}(n);t.exports=h},function(t,e,r){t.exports={Axis:r(307),Component:r(67),Guide:r(315),Label:r(324),Legend:r(325),Tooltip:r(331)}},function(t,e,r){var f=r(0);var l=r(335);function a(t,e){if(!t.length){return[]}var r=[];for(var a=0,i=t.length;a<i;a++){var n=t[a];if(a===0){r.push(["M",n.x,n.y])}else{r.push(["L",n.x,n.y])}}if(e){r.push(["Z"])}return r}function y(t,e){var r=t.getCenter();var a=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));return a}function c(t,e){var r=t.length;var a=[t[0]];for(var i=1;i<r;i=i+2){var n=e.convertPoint({x:t[i],y:t[i+1]});a.push(n.x,n.y)}return a}function v(t,e,r){var a=r.isTransposed;var i=r.startAngle;var n=r.endAngle;var o={x:t[1],y:t[2]};var s={x:e[1],y:e[2]};var l=[];var u=a?"y":"x";var f=Math.abs(s[u]-o[u])*(n-i);var c=s[u]>=o[u]?1:0;var v=f>Math.PI?1:0;var h=r.convertPoint(s);var p=y(r,h);if(p>=.5){if(f===Math.PI*2){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2};var d=r.convertPoint(g);l.push(["A",p,p,0,v,c,d.x,d.y]);l.push(["A",p,p,0,v,c,h.x,h.y])}else{l.push(["A",p,p,0,v,c,h.x,h.y])}}return l}function h(n){f.each(n,function(t,e){var r=t;if(r[0].toLowerCase()==="a"){var a=n[e-1];var i=n[e+1];if(i&&i[0].toLowerCase()==="a"){if(a&&a[0].toLowerCase()==="l"){a[0]="M"}}else if(a&&a[0].toLowerCase()==="a"){if(i&&i[0].toLowerCase()==="l"){i[0]="M"}}}})}var u={getLinePath:function t(e,r){return a(e,r)},getSplinePath:function t(e,r,a){var i=[];var n=e[0];var o=null;if(e.length<=2){return u.getLinePath(e,r)}f.each(e,function(t){if(!o||!(o.x===t.x&&o.y===t.y)){i.push(t.x);i.push(t.y);o=t}});a=a||[[0,0],[1,1]];var s=l.catmullRom2bezier(i,r,a);s.unshift(["M",n.x,n.y]);return s},getPointRadius:function t(e,r){var a=y(e,r);return a},getPointAngle:function t(e,r){var a=e.getCenter();var i=Math.atan2(r.y-a.y,r.x-a.x);return i},convertNormalPath:function t(r,e){var a=[];f.each(e,function(t){var e=t[0];switch(e.toLowerCase()){case"m":case"l":case"c":a.push(c(t,r));break;case"z":default:a.push(t);break}});return a},convertPolarPath:function t(a,i){var n=[];var o;var s;var l;var u;f.each(i,function(t,e){var r=t[0];switch(r.toLowerCase()){case"m":case"c":case"q":n.push(c(t,a));break;case"l":o=i[e-1];s=t;l=a.isTransposed;u=l?o[o.length-2]===s[1]:o[o.length-1]===s[2];if(u){n=n.concat(v(o,s,a))}else{n.push(c(t,a))}break;case"z":default:n.push(t);break}});h(n);return n}};t.exports=u},function(t,e,r){var a=r(5);function i(t){if(a(t))return"";return t.toString()}t.exports=i},function(t,e){var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function t(e){var r=typeof e==="undefined"?"undefined":a(e);return e!==null&&r==="object"||r==="function"};t.exports=r},function(t,e,r){var a=r(49);var i=r(12);var n=function t(e){if(!a(e)||!i(e,"Object")){return false}if(Object.getPrototypeOf(e)===null){return true}var r=e;while(Object.getPrototypeOf(r)!==null){r=Object.getPrototypeOf(r)}return Object.getPrototypeOf(e)===r};t.exports=n},function(t,e,r){var o=r(1);var i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;var n=/[^\s\,]+/gi;var s={};t.exports={parseRadius:function t(e){var r=0,a=0,i=0,n=0;if(o.isArray(e)){if(e.length===1){r=a=i=n=e[0]}else if(e.length===2){r=i=e[0];a=n=e[1]}else if(e.length===3){r=e[0];a=n=e[1];i=e[2]}else{r=e[0];a=e[1];i=e[2];n=e[3]}}else{r=a=i=n=e}return{r1:r,r2:a,r3:i,r4:n}},parsePath:function t(a){a=a||[];if(o.isArray(a)){return a}if(o.isString(a)){a=a.match(i);o.each(a,function(r,t){r=r.match(n);if(r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1));r[0]=e}o.each(r,function(t,e){if(!isNaN(t)){r[e]=+t}});a[t]=r});return a}},numberToColor:function t(e){var r=s[e];if(!r){var a=e.toString(16);for(var i=a.length;i<6;i++){a="0"+a}r="#"+a;s[e]=r}return r}}},function(t,e,r){"use strict";e["c"]=o;e["b"]=s;e["a"]=l;var a=r(121);function i(e,r){return function(t){return e+t*r}}function n(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(t){return Math.pow(e+t*r,a)}}function o(t,e){var r=e-t;return r?i(t,r>180||r<-180?r-360*Math.round(r/360):r):Object(a["a"])(isNaN(t)?e:t)}function s(r){return(r=+r)===1?l:function(t,e){return e-t?n(t,e,r):Object(a["a"])(isNaN(t)?e:t)}}function l(t,e){var r=e-t;return r?i(t,r):Object(a["a"])(isNaN(t)?e:t)}},function(t,e,r){var a=r(10);var o=r(4);var l=r(5);var i=r(8);var n=r(2);function s(t,e){if(a(e)){return e}return t.invert(t.scale(e))}var u=function(){function t(t){var n=this;this.type="base";this.name=null;this.method=null;this.values=[];this.scales=[];this.linear=null;var e=null;var o=this.callback;if(t.callback){var s=t.callback;e=function t(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++){r[a]=arguments[a]}var i=s.apply(void 0,r);if(l(i)){i=o.apply(n,r)}return i}}i(this,t);if(e){i(this,{callback:e})}}var e=t.prototype;e._getAttrValue=function t(e,r){var a=this.values;if(e.isCategory&&!this.linear){var i=e.translate(r);return a[i%a.length]}var n=e.scale(r);return this.getLinearValue(n)};e.getLinearValue=function t(e){var r=this.values;var a=r.length-1;var i=Math.floor(a*e);var n=a*e-i;var o=r[i];var s=i===a?o:r[i+1];var l=o+(s-o)*n;return l};e.callback=function t(e){var r=this;var a=r.scales[0];var i=null;if(a.type==="identity"){i=a.value}else{i=r._getAttrValue(a,e)}return i};e.getNames=function t(){var e=this.scales;var r=this.names;var a=Math.min(e.length,r.length);var i=[];for(var n=0;n<a;n++){i.push(r[n])}return i};e.getFields=function t(){var e=this.scales;var r=[];n(e,function(t){r.push(t.field)});return r};e.getScale=function t(e){var r=this.scales;var a=this.names;var i=a.indexOf(e);return r[i]};e.mapping=function t(){var e=this.scales;var r=this.callback;for(var a=arguments.length,i=new Array(a),n=0;n<a;n++){i[n]=arguments[n]}var o=i;if(r){for(var s=0,l=i.length;s<l;s++){i[s]=this._toOriginParam(i[s],e[s])}o=r.apply(this,i)}o=[].concat(o);return o};e._toOriginParam=function t(e,r){var a=e;if(!r.isLinear){if(o(e)){a=[];for(var i=0,n=e.length;i<n;i++){a.push(s(r,e[i]))}}else{a=s(r,e)}}return a};return t}();t.exports=u},function(t,e,r){var a=r(8);var i=function(){var t=e.prototype;t._initDefaultCfg=function t(){this.adjustNames=["x","y"]};function e(t){this._initDefaultCfg();a(this,t)}t.processAdjust=function t(){};return e}();t.exports=i},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(32);var v=r(3);var o=r(153);var s=r(154);var n=r(14),l=n.FONT_FAMILY;var u=function(n){a(t,n);function t(){return n.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=n.prototype.getDefaultCfg.call(this);return v.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:true,autoHide:false,formatter:null},labelItems:[],title:{autoRotate:true,textStyle:{}},autoPaint:true})};e.beforeRender=function t(){var e=this;var r=e.get("title");var a=e.get("label");var i=e.get("grid");if(r){e.set("title",v.deepMix({autoRotate:true,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:l,textAlign:"center"},offset:48},r))}if(a){e.set("label",v.deepMix({autoRotate:true,autoHide:true,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:l},offset:10},a))}if(i){e.set("grid",v.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},i))}};e.render=function t(){var e=this;e.beforeRender();var r=e.get("label");if(r){e.renderLabels()}if(e.get("autoPaint")){e.paint()}if(!v.isNil(e.get("title"))){e.renderTitle()}e.get("group").sort()};e.renderLabels=function t(){var e=this;var r=e.get("group");var a=e.get("label");var i=new s({name:"axis-label"});e.set("labelRenderer",i);i.set("labelCfg",a);var n=["formatter","htmlTemplate","labelLine","textStyle","useHtml"];v.each(n,function(t){if(a[t]){i.set(t,a[t])}});i.set("coord",e.get("coord"));i.set("group",r.addGroup());i.set("canvas",e.get("canvas"))};e._parseTicks=function t(e){e=e||[];var r=e.length;for(var a=0;a<r;a++){var i=e[a];if(!v.isObject(i)){e[a]=this.parseTick(i,a,r)}}this.set("ticks",e);return e};e._addTickItem=function t(e,r,a,i){if(i===void 0){i=""}var n=this.get("tickItems");var o=this.get("subTickItems");var s=this.getTickEnd(r,a,e);var l={x1:r.x,y1:r.y,x2:s.x,y2:s.y};if(!n){n=[]}if(!o){o=[]}if(i==="sub"){o.push(l)}else{n.push(l)}this.set("tickItems",n);this.set("subTickItems",o)};e._renderLine=function t(){var e=this;var r=e.get("line");var a;if(r){a=e.getLinePath();r=v.mix({path:a},r);var i=e.get("group");var n=i.addShape("path",{attrs:r});n.name="axis-line";e.get("appendInfo")&&n.setSilent("appendInfo",e.get("appendInfo"));e.set("lineShape",n)}};e._processCatTicks=function t(){var e=this;var r=e.get("label");var a=e.get("tickLine");var i=e.get("ticks");i=e._parseTicks(i);var n=e._getNormalizedTicks(i);for(var o=0;o<n.length;o+=3){var s=e.getTickPoint(n[o]);var l=e.getTickPoint(n[o+1]);var u=e.getTickPoint(n[o+2]);var f=Math.floor(o/3);var c=i[f];if(a){if(f===0){e._addTickItem(f,l,a.length)}e._addTickItem(f,u,a.length)}if(r){e.addLabel(c,s,f)}}};e._getNormalizedTicks=function t(e){var r=0;if(e.length>1){r=(e[1].value-e[0].value)/2}var a=[];for(var i=0;i<e.length;i++){var n=e[i];var o=n.value;var s=n.value-r;var l=n.value+r;a.push(o,s,l)}var u=v.arrayUtil.getRange(a);return a.map(function(t){var e=(t-u.min)/(u.max-u.min);return e})};e.addLabel=function t(e,r,a){var i=this;var n=i.get("labelItems");var o=i.get("labelRenderer");var s=v.deepMix({},i.get("label"));var l;if(o){var u=i.get("_labelOffset");if(!v.isNil(i.get("label").offset)){u=i.get("label").offset}var f=i.getSideVector(u,r,a);r={x:r.x+f[0]+s.offsetX,y:r.y+f[1]+s.offsetY};s.text=e.text;s.x=r.x;s.y=r.y;s.point=r;s.textAlign=i.getTextAnchor(f);if(r.rotate){s.rotate=r.rotate}n.push(s)}return l};e._processTicks=function t(){var s=this;var a=s.get("label");var l=s.get("subTickCount");var u=s.get("tickLine");var f=s.get("ticks");f=s._parseTicks(f);v.each(f,function(t,e){var r=s.getTickPoint(t.value,e);if(u){s._addTickItem(e,r,u.length)}if(a){s.addLabel(t,r,e)}});if(l){var c=s.get("subTickLine");v.each(f,function(t,e){if(e>0){var r=t.value-f[e-1].value;r=r/(s.get("subTickCount")+1);for(var a=1;a<=l;a++){var i={text:"",value:e?f[e-1].value+a*r:a*r};var n=s.getTickPoint(i.value);var o=void 0;if(c&&c.length){o=c.length}else{o=parseInt(u.length*(3/5),10)}s._addTickItem(a-1,n,o,"sub")}}})}};e._addTickLine=function t(e,r){var a=this;var i=v.mix({},r);var n=[];v.each(e,function(t){n.push(["M",t.x1,t.y1]);n.push(["L",t.x2,t.y2])});delete i.length;i.path=n;var o=a.get("group");var s=o.addShape("path",{attrs:i});s.name="axis-ticks";s._id=a.get("_id")+"-ticks";s.set("coord",a.get("coord"));a.get("appendInfo")&&s.setSilent("appendInfo",a.get("appendInfo"))};e._renderTicks=function t(){var e=this;var r=e.get("tickItems");var a=e.get("subTickItems");if(!v.isEmpty(r)){var i=e.get("tickLine");e._addTickLine(r,i)}if(!v.isEmpty(a)){var n=e.get("subTickLine")||e.get("tickLine");e._addTickLine(a,n)}};e._renderGrid=function t(){var e=this.get("grid");if(!e){return}e.coord=this.get("coord");e.appendInfo=this.get("appendInfo");var r=this.get("group");this.set("gridGroup",r.addGroup(o,e))};e._renderLabels=function t(){var e=this;var r=e.get("labelRenderer");var a=e.get("labelItems");if(r){r.set("items",a);r._dryDraw()}};e.paint=function t(){var e=this;var r=e.get("tickLine");var a=true;if(r&&r.hasOwnProperty("alignWithLabel")){a=r.alignWithLabel}e._renderLine();var i=e.get("type");var n=i==="cat"||i==="timeCat";if(n&&a===false){e._processCatTicks()}else{e._processTicks()}e._renderTicks();e._renderGrid();e._renderLabels();var o=this.get("label");if(o&&o.autoRotate){e.autoRotateLabels()}if(o&&o.autoHide){e.autoHideLabels()}};e.parseTick=function t(e,r,a){return{text:e,value:r/(a-1)}};e.getTextAnchor=function t(e){var r=Math.abs(e[1]/e[0]);var a;if(r>=1){a="center"}else{if(e[0]>0){a="start"}else{a="end"}}return a};e.getMaxLabelWidth=function t(e){var r=e.getLabels();var a=0;v.each(r,function(t){var e=t.getBBox();var r=e.width;if(a<r){a=r}});return a};e.getMaxLabelHeight=function t(e){var r=e.getLabels();var a=0;v.each(r,function(t){var e=t.getBBox();var r=e.height;if(a<r){a=r}});return a};e.destroy=function t(){var e=this;if(!e.destroyed){var r=e.get("gridGroup");r&&r.remove();var a=this.get("labelRenderer");a&&a.destroy();var i=e.get("group");i.destroy();n.prototype.destroy.call(this)}};e.clear=function t(){var e=this;var r=e.get("group");if(!r.get("destroyed")&&r.get("children").length){var a=e.get("gridGroup");a&&a.clear();var i=this.get("labelRenderer");i&&i.clear();var n=e.get("group");n.clear()}};e.autoRotateLabels=function t(){};e.autoHideLabels=function t(){};e.renderTitle=function t(){};e.getLinePath=function t(){};e.getTickPoint=function t(){};e.getTickEnd=function t(){};e.getSideVector=function t(){};return t}(i);t.exports=u},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(67);var n=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.getDefaultCfg=function t(){return{_id:null,canvas:null,container:null,group:null,capture:false,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:true,zIndex:1}};r._init=function t(){};r.clear=function t(){};r.destroy=function t(){e.prototype.destroy.call(this)};r.beforeRender=function t(){};r.render=function t(){};r.afterRender=function t(){};r.beforeDraw=function t(){};r.draw=function t(){};r.afterDraw=function t(){};r.show=function t(){};r.hide=function t(){};r.setOffset=function t(){};r.setPosition=function t(){};r.setVisible=function t(){};r.setZIndex=function t(){};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(5);var i=r(2);var n=r(17);var f=r(175);var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e._initDefaultCfg=function t(){r.prototype._initDefaultCfg.call(this);var e=this;e.type="linear";e.isLinear=true;e.nice=false;e.min=null;e.minLimit=null;e.max=null;e.maxLimit=null;e.tickCount=null;e.tickInterval=null;e.minTickInterval=null;e.snapArray=null};e.init=function t(){var e=this;if(!e.ticks){e.min=e.translate(e.min);e.max=e.translate(e.max);e.initTicks()}else{var r=e.ticks;var a=e.translate(r[0]);var i=e.translate(r[r.length-1]);if(s(e.min)||e.min>a){e.min=a}if(s(e.max)||e.max<i){e.max=i}}};e.calculateTicks=function t(){var e=this.min,r=this.max,a=this.minLimit,i=this.maxLimit,n=this.tickCount,o=this.tickInterval,s=this.minTickInterval,l=this.snapArray;if(n===1){throw new Error("linear scale'tickCount should not be 1")}if(r<e){throw new Error("max: "+r+" should not be less than min: "+e)}var u=f({min:e,max:r,minLimit:a,maxLimit:i,minCount:n,maxCount:n,interval:o,minTickInterval:s,snapArray:l});return u.ticks};e.initTicks=function t(){var e=this;var r=e.calculateTicks();if(e.nice){e.ticks=r;e.min=r[0];e.max=r[r.length-1]}else{var a=[];i(r,function(t){if(t>=e.min&&t<=e.max){a.push(t)}});if(!a.length){a.push(e.min);a.push(e.max)}e.ticks=a}};e.scale=function t(e){if(s(e)){return NaN}var r=this.max;var a=this.min;if(r===a){return 0}var i=(e-a)/(r-a);var n=this.rangeMin();var o=this.rangeMax();return n+i*(o-n)};e.invert=function t(e){var r=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+r*(this.max-this.min)};return t}(n);n.Linear=o;t.exports=o},function(t,e,r){var a=r(13);function i(t){return a(t)?Array.prototype.slice.call(t):[]}t.exports=i},function(t,e){var i=1e-5;t.exports=function t(e,r){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:i;return Math.abs(e-r)<a}},function(t,e,r){var f=r(1).vec2;t.exports={at:function t(e,r,a){return(r-e)*a+e},pointDistance:function t(e,r,a,i,n,o){var s=[a-e,i-r];if(f.exactEquals(s,[0,0])){return NaN}var l=[-s[1],s[0]];f.normalize(l,l);var u=[n-e,o-r];return Math.abs(f.dot(u,l))},box:function t(e,r,a,i,n){var o=n/2;var s=Math.min(e,a);var l=Math.max(e,a);var u=Math.min(r,i);var f=Math.max(r,i);return{minX:s-o,minY:u-o,maxX:l+o,maxY:f+o}},len:function t(e,r,a,i){return Math.sqrt((a-e)*(a-e)+(i-r)*(i-r))}}},function(t,e,r){var d=r(1);function y(t,e,r,a){return{x:Math.cos(a)*r+t,y:Math.sin(a)*r+e}}function n(t,e,r,a){var i;var n;if(a){if(t<e){i=e-t;n=Math.PI*2-r+t}else if(t>r){i=Math.PI*2-t+e;n=t-r}}else{i=t-e;n=r-t}return i>n?r:e}function m(t,e,r,a){var i=0;if(r-e>=Math.PI*2){i=Math.PI*2}e=d.mod(e,Math.PI*2);r=d.mod(r,Math.PI*2)+i;t=d.mod(t,Math.PI*2);if(a){if(e>=r){if(t>r&&t<e){return t}return n(t,r,e,true)}if(t<e||t>r){return t}return n(t,e,r)}if(e<=r){if(e<t&&t<r){return t}return n(t,e,r,true)}if(t>e||t<r){return t}return n(t,r,e)}function f(t,e,r,a,i,n,o,s,l){var u=[o,s];var f=[t,e];var c=[1,0];var v=d.vec2.subtract([],u,f);var h=d.vec2.angleTo(c,v);h=m(h,a,i,n);var p=[r*Math.cos(h)+t,r*Math.sin(h)+e];if(l){l.x=p[0];l.y=p[1]}var g=d.vec2.distance(p,u);return g}function a(t,e,r,a,i,n){var o=0;var s=Math.PI/2;var l=Math.PI;var u=Math.PI*3/2;var f=[];var c=m(o,a,i,n);if(c===o){f.push(y(t,e,r,o))}c=m(s,a,i,n);if(c===s){f.push(y(t,e,r,s))}c=m(l,a,i,n);if(c===l){f.push(y(t,e,r,l))}c=m(u,a,i,n);if(c===u){f.push(y(t,e,r,u))}f.push(y(t,e,r,a));f.push(y(t,e,r,i));var v=Infinity;var h=-Infinity;var p=Infinity;var g=-Infinity;d.each(f,function(t){if(v>t.x){v=t.x}if(h<t.x){h=t.x}if(p>t.y){p=t.y}if(g<t.y){g=t.y}});return{minX:v,minY:p,maxX:h,maxY:g}}t.exports={nearAngle:m,projectPoint:function t(e,r,a,i,n,o,s,l){var u={};f(e,r,a,i,n,o,s,l,u);return u},pointDistance:f,box:a}},function(t,e,r){var s=r(27);var l=r(39);var d=Math.PI;var y=Math.sin;var m=Math.cos;var x=Math.atan2;var b=10;var _=d/3;function u(t,e,r,a,i,n,o){var s;var l;var u;var f;var c;var v;var h;if(!e.fill){var p=e.arrowLength||b;var g=e.arrowAngle?e.arrowAngle*d/180:_;h=x(a-n,r-i);c=Math.abs(e.lineWidth*m(h))/2;v=Math.abs(e.lineWidth*y(h))/2;if(o){c=-c;v=-v}s=i+p*m(h+g/2);l=n+p*y(h+g/2);u=i+p*m(h-g/2);f=n+p*y(h-g/2);t.beginPath();t.moveTo(s-c,l-v);t.lineTo(i-c,n-v);t.lineTo(u-c,f-v);t.moveTo(i-c,n-v);t.lineTo(i+c,n+v);t.moveTo(i,n);t.stroke()}}function g(t){var e=[];var r=s.parsePath(t.path);var a;if(!Array.isArray(r)||r.length===0||r[0][0]!=="M"&&r[0][0]!=="m"){return false}var i=r.length;for(var n=0;n<r.length;n++){var o=r[n];a=new l(o,a,n===i-1);e.push(a)}return e}function f(t,e,r,a,i,n,o){var s=o?e.startArrow:e.endArrow;var l=s.d;var u=0;var f=i-r;var c=n-a;var v=Math.atan(f/c);if(c===0&&f<0){u=Math.PI}else if(f>0&&c>0){u=Math.PI/2-v}else if(f<0&&c<0){u=-Math.PI/2-v}else if(f>=0&&c<0){u=-v-Math.PI/2}else if(f<=0&&c>0){u=Math.PI/2-v}var h=g(s);if(!h){return}if(l){if(o){i=i+Math.sin(Math.abs(v))*l;n=n+Math.cos(Math.abs(v))*l-.5*t.lineWidth}else{i=i-Math.sin(Math.abs(v))*l;n=n-Math.cos(Math.abs(v))*l+.5*t.lineWidth}}t.save();t.beginPath();t.translate(i,n);t.rotate(u);for(var p=0;p<h.length;p++){h[p].draw(t)}t.setTransform(1,0,0,1,0,0);t.fillStyle=t.strokeStyle;t.fill();t.restore()}t.exports={addStartArrow:function t(e,r,a,i,n,o){if(typeof r.startArrow==="object"){f(e,r,a,i,n,o,true)}else if(r.startArrow){u(e,r,a,i,n,o,true)}},addEndArrow:function t(e,r,a,i,n,o){if(typeof r.endArrow==="object"){f(e,r,a,i,n,o,false)}else if(r.endArrow){u(e,r,a,i,n,o,false)}}}},function(t,e,r){var C=r(1);var _=r(55);var O=r(56);var L=r(103);var E=r(104);var w=C.vec3;var S=C.mat3;var M=["m","l","c","a","q","h","v","t","s","z"];function k(t,e,r){return{x:r.x+t,y:r.y+e}}function A(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function P(t,e){return(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e))}function I(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(P(t,e))}function T(t,e,r,a,i,n,o){var s=C.mod(C.toRadian(o),Math.PI*2);var l=t.x;var u=t.y;var f=e.x;var c=e.y;var v=Math.cos(s)*(l-f)/2+Math.sin(s)*(u-c)/2;var h=-1*Math.sin(s)*(l-f)/2+Math.cos(s)*(u-c)/2;var p=v*v/(i*i)+h*h/(n*n);if(p>1){i*=Math.sqrt(p);n*=Math.sqrt(p)}var g=i*i*(h*h)+n*n*(v*v);var d=Math.sqrt((i*i*(n*n)-g)/g);if(r===a){d*=-1}if(isNaN(d)){d=0}var y=d*i*h/n;var m=d*-n*v/i;var x=(l+f)/2+Math.cos(s)*y-Math.sin(s)*m;var b=(u+c)/2+Math.sin(s)*y+Math.cos(s)*m;var _=I([1,0],[(v-y)/i,(h-m)/n]);var w=[(v-y)/i,(h-m)/n];var S=[(-1*v-y)/i,(-1*h-m)/n];var M=I(w,S);if(P(w,S)<=-1){M=Math.PI}if(P(w,S)>=1){M=0}if(a===0&&M>0){M=M-2*Math.PI}if(a===1&&M<0){M=M+2*Math.PI}return[t,x,b,i,n,_,M,s,a]}var i=function t(e,r,a){this.preSegment=r;this.isLast=a;this.init(e,r)};C.augment(i,{init:function t(e,r){var a=e[0];r=r||{endPoint:{x:0,y:0}};var i=M.indexOf(a)>=0;var n=i?a.toUpperCase():a;var o=e;var s;var l;var u;var f;var c=r.endPoint;var v=o[1];var h=o[2];switch(n){default:break;case"M":if(i){f=k(v,h,c)}else{f={x:v,y:h}}this.command="M";this.params=[c,f];this.subStart=f;this.endPoint=f;break;case"L":if(i){f=k(v,h,c)}else{f={x:v,y:h}}this.command="L";this.params=[c,f];this.subStart=r.subStart;this.endPoint=f;this.endTangent=function(){return[f.x-c.x,f.y-c.y]};this.startTangent=function(){return[c.x-f.x,c.y-f.y]};break;case"H":if(i){f=k(v,0,c)}else{f={x:v,y:c.y}}this.command="L";this.params=[c,f];this.subStart=r.subStart;this.endPoint=f;this.endTangent=function(){return[f.x-c.x,f.y-c.y]};this.startTangent=function(){return[c.x-f.x,c.y-f.y]};break;case"V":if(i){f=k(0,v,c)}else{f={x:c.x,y:v}}this.command="L";this.params=[c,f];this.subStart=r.subStart;this.endPoint=f;this.endTangent=function(){return[f.x-c.x,f.y-c.y]};this.startTangent=function(){return[c.x-f.x,c.y-f.y]};break;case"Q":if(i){s=k(v,h,c);l=k(o[3],o[4],c)}else{s={x:v,y:h};l={x:o[3],y:o[4]}}this.command="Q";this.params=[c,s,l];this.subStart=r.subStart;this.endPoint=l;this.endTangent=function(){return[l.x-s.x,l.y-s.y]};this.startTangent=function(){return[c.x-s.x,c.y-s.y]};break;case"T":if(i){l=k(v,h,c)}else{l={x:v,y:h}}if(r.command==="Q"){s=A(r.params[1],c);this.command="Q";this.params=[c,s,l];this.subStart=r.subStart;this.endPoint=l;this.endTangent=function(){return[l.x-s.x,l.y-s.y]};this.startTangent=function(){return[c.x-s.x,c.y-s.y]}}else{this.command="TL";this.params=[c,l];this.subStart=r.subStart;this.endPoint=l;this.endTangent=function(){return[l.x-c.x,l.y-c.y]};this.startTangent=function(){return[c.x-l.x,c.y-l.y]}}break;case"C":if(i){s=k(v,h,c);l=k(o[3],o[4],c);u=k(o[5],o[6],c)}else{s={x:v,y:h};l={x:o[3],y:o[4]};u={x:o[5],y:o[6]}}this.command="C";this.params=[c,s,l,u];this.subStart=r.subStart;this.endPoint=u;this.endTangent=function(){return[u.x-l.x,u.y-l.y]};this.startTangent=function(){return[c.x-s.x,c.y-s.y]};break;case"S":if(i){l=k(v,h,c);u=k(o[3],o[4],c)}else{l={x:v,y:h};u={x:o[3],y:o[4]}}if(r.command==="C"){s=A(r.params[2],c);this.command="C";this.params=[c,s,l,u];this.subStart=r.subStart;this.endPoint=u;this.endTangent=function(){return[u.x-l.x,u.y-l.y]};this.startTangent=function(){return[c.x-s.x,c.y-s.y]}}else{this.command="SQ";this.params=[c,l,u];this.subStart=r.subStart;this.endPoint=u;this.endTangent=function(){return[u.x-l.x,u.y-l.y]};this.startTangent=function(){return[c.x-l.x,c.y-l.y]}}break;case"A":{var p=v;var g=h;var d=o[3];var y=o[4];var m=o[5];if(i){f=k(o[6],o[7],c)}else{f={x:o[6],y:o[7]}}this.command="A";var x=T(c,f,y,m,p,g,d);this.params=x;var b=r.subStart;this.subStart=b;this.endPoint=f;var _=x[5]%(Math.PI*2);if(C.isNumberEqual(_,Math.PI*2)){_=0}var w=x[6]%(Math.PI*2);if(C.isNumberEqual(w,Math.PI*2)){w=0}var S=.001;this.startTangent=function(){if(m===0){S*=-1}var t=x[3]*Math.cos(_-S)+x[1];var e=x[4]*Math.sin(_-S)+x[2];return[t-b.x,e-b.y]};this.endTangent=function(){var t=x[6];if(t-Math.PI*2<1e-4){t=0}var e=x[3]*Math.cos(_+t+S)+x[1];var r=x[4]*Math.sin(_+t-S)+x[2];return[c.x-e,c.y-r]};break}case"Z":{this.command="Z";this.params=[c,r.subStart];this.subStart=r.subStart;this.endPoint=r.subStart}}},isInside:function t(e,r,a){var i=this;var n=i.command;var o=i.params;var s=i.box;if(s){if(!_.box(s.minX,s.maxX,s.minY,s.maxY,e,r)){return false}}switch(n){default:break;case"M":return false;case"TL":case"L":case"Z":return _.line(o[0].x,o[0].y,o[1].x,o[1].y,a,e,r);case"SQ":case"Q":return _.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,a,e,r);case"C":{return _.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,a,e,r)}case"A":{var l=o;var u=l[1];var f=l[2];var c=l[3];var v=l[4];var h=l[5];var p=l[6];var g=l[7];var d=l[8];var y=c>v?c:v;var m=c>v?1:c/v;var x=c>v?v/c:1;l=[e,r,1];var b=[1,0,0,0,1,0,0,0,1];S.translate(b,b,[-u,-f]);S.rotate(b,b,-g);S.scale(b,b,[1/m,1/x]);w.transformMat3(l,l,b);return _.arcline(0,0,y,h,h+p,1-d,a,l[0],l[1])}}return false},draw:function t(e){var r=this.command;var a=this.params;var i;var n;var o;switch(r){default:break;case"M":e.moveTo(a[1].x,a[1].y);break;case"TL":case"L":e.lineTo(a[1].x,a[1].y);break;case"SQ":case"Q":i=a[1];n=a[2];e.quadraticCurveTo(i.x,i.y,n.x,n.y);break;case"C":i=a[1];n=a[2];o=a[3];e.bezierCurveTo(i.x,i.y,n.x,n.y,o.x,o.y);break;case"A":{var s=a;var l=s[1];var u=s[2];var f=l;var c=u;var v=s[3];var h=s[4];var p=s[5];var g=s[6];var d=s[7];var y=s[8];var m=v>h?v:h;var x=v>h?1:v/h;var b=v>h?h/v:1;e.translate(f,c);e.rotate(d);e.scale(x,b);e.arc(0,0,m,p,p+g,1-y);e.scale(1/x,1/b);e.rotate(-d);e.translate(-f,-c);break}case"Z":e.closePath();break}},getBBox:function t(e){var r=e/2;var a=this.params;var i;var n;var o;var s;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(a[0].x,a[1].x)-r,maxX:Math.max(a[0].x,a[1].x)+r,minY:Math.min(a[0].y,a[1].y)-r,maxY:Math.max(a[0].y,a[1].y)+r};break;case"SQ":case"Q":n=L.extrema(a[0].x,a[1].x,a[2].x);for(o=0,s=n.length;o<s;o++){n[o]=L.at(a[0].x,a[1].x,a[2].x,n[o])}n.push(a[0].x,a[2].x);i=L.extrema(a[0].y,a[1].y,a[2].y);for(o=0,s=i.length;o<s;o++){i[o]=L.at(a[0].y,a[1].y,a[2].y,i)}i.push(a[0].y,a[2].y);this.box={minX:Math.min.apply(Math,n)-r,maxX:Math.max.apply(Math,n)+r,minY:Math.min.apply(Math,i)-r,maxY:Math.max.apply(Math,i)+r};break;case"C":n=O.extrema(a[0].x,a[1].x,a[2].x,a[3].x);for(o=0,s=n.length;o<s;o++){n[o]=O.at(a[0].x,a[1].x,a[2].x,a[3].x,n[o])}i=O.extrema(a[0].y,a[1].y,a[2].y,a[3].y);for(o=0,s=i.length;o<s;o++){i[o]=O.at(a[0].y,a[1].y,a[2].y,a[3].y,i[o])}n.push(a[0].x,a[3].x);i.push(a[0].y,a[3].y);this.box={minX:Math.min.apply(Math,n)-r,maxX:Math.max.apply(Math,n)+r,minY:Math.min.apply(Math,i)-r,maxY:Math.max.apply(Math,i)+r};break;case"A":{var l=a;var u=l[1];var f=l[2];var c=l[3];var v=l[4];var h=l[5];var p=l[6];var g=l[7];var d=l[8];var y=h;var m=h+p;var x=E.xExtrema(g,c,v);var b=Infinity;var _=-Infinity;var w=[y,m];for(o=-Math.PI*2;o<=Math.PI*2;o+=Math.PI){var S=x+o;if(d===1){if(y<S&&S<m){w.push(S)}}else{if(m<S&&S<y){w.push(S)}}}for(o=0,s=w.length;o<s;o++){var M=E.xAt(g,c,v,u,w[o]);if(M<b){b=M}if(M>_){_=M}}var C=E.yExtrema(g,c,v);var k=Infinity;var A=-Infinity;var P=[y,m];for(o=-Math.PI*2;o<=Math.PI*2;o+=Math.PI){var I=C+o;if(d===1){if(y<I&&I<m){P.push(I)}}else{if(m<I&&I<y){P.push(I)}}}for(o=0,s=P.length;o<s;o++){var T=E.yAt(g,c,v,f,P[o]);if(T<k){k=T}if(T>A){A=T}}this.box={minX:b-r,maxX:_+r,minY:k-r,maxY:A+r};break}}}});t.exports=i},function(t,e,r){"use strict";e["a"]=function(e,r){return e=+e,r-=e,function(t){return e+r*t}}},function(t,e,r){var a=r(13);var i=Array.prototype.indexOf;var n=function t(e,r){if(!a(e)){return false}return i.call(e,r)>-1};t.exports=n},function(t,e){var r=function t(e){var r=[];for(var a=0;a<e.length;a++){r=r.concat(e[a])}return r};t.exports=r},function(t,e,r){t.exports={mat3:r(52),vec2:r(97),vec3:r(98),transform:r(99)}},function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function i(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function n(t,e,r){if(e)i(t.prototype,e);if(r)i(t,r);return t}var o=r(43);var s=r(8);var l=o.mat3;var u=o.vec3;var f=function(){n(r,[{key:"getDefaultCfg",value:function t(){return{isTransposed:false,matrix:[1,0,0,0,1,0,0,0,1]}}}]);function r(t){a(this,r);var e=this.getDefaultCfg();s(this,e,t);this.init()}n(r,[{key:"init",value:function t(){var e=this.start;var r=this.end;var a={x:(e.x+r.x)/2,y:(e.y+r.y)/2};this.center=a;this.width=Math.abs(r.x-e.x);this.height=Math.abs(r.y-e.y)}},{key:"_swapDim",value:function t(e){var r=this[e];if(r){var a=r.start;r.start=r.end;r.end=a}}},{key:"getCenter",value:function t(){return this.center}},{key:"getWidth",value:function t(){return this.width}},{key:"getHeight",value:function t(){return this.height}},{key:"convertDim",value:function t(e,r){var a=this[r],i=a.start,n=a.end;return i+e*(n-i)}},{key:"invertDim",value:function t(e,r){var a=this[r],i=a.start,n=a.end;return(e-i)/(n-i)}},{key:"convertPoint",value:function t(e){return e}},{key:"invertPoint",value:function t(e){return e}},{key:"applyMatrix",value:function t(e,r){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=this.matrix;var n=[e,r,a];u.transformMat3(n,n,i);return n}},{key:"invertMatrix",value:function t(e,r){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=this.matrix;var n=l.invert([],i);var o=[e,r,a];u.transformMat3(o,o,n);return o}},{key:"convert",value:function t(e){var r=this.convertPoint(e),a=r.x,i=r.y;var n=this.applyMatrix(a,i,1);return{x:n[0],y:n[1]}}},{key:"invert",value:function t(e){var r=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:r[0],y:r[1]})}},{key:"rotate",value:function t(e){var r=this.matrix;var a=this.center;l.translate(r,r,[-a.x,-a.y]);l.rotate(r,r,e);l.translate(r,r,[a.x,a.y]);return this}},{key:"reflect",value:function t(e){switch(e){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function t(e,r){var a=this.matrix;var i=this.center;l.translate(a,a,[-i.x,-i.y]);l.scale(a,a,[e,r]);l.translate(a,a,[i.x,i.y]);return this}},{key:"translate",value:function t(e,r){var a=this.matrix;l.translate(a,a,[e,r]);return this}},{key:"transpose",value:function t(){this.isTransposed=!this.isTransposed;return this}}]);return r}();t.exports=f},function(t,e,r){var n=r(0);var a={splitPoints:function t(e){var a=[];var i=e.x;var r=e.y;r=n.isArray(r)?r:[r];n.each(r,function(t,e){var r={x:n.isArray(i)?i[e]:i,y:t};a.push(r)});return a},addFillAttrs:function t(e,r){if(r.color){e.fill=r.color}if(n.isNumber(r.opacity)){e.opacity=e.fillOpacity=r.opacity}},addStrokeAttrs:function t(e,r){if(r.color){e.stroke=r.color}if(n.isNumber(r.opacity)){e.opacity=e.strokeOpacity=r.opacity}}};t.exports=a},function(t,e,r){"use strict";r.d(e,"c",function(){return p});r.d(e,"d",function(){return g});r.d(e,"b",function(){return i});r.d(e,"a",function(){return m});e["g"]=n;e["h"]=o;e["f"]=f;var a=r(440);var h=r(171);var s=Object(a["a"])("start","end","cancel","interrupt");var l=[];var u=0;var p=1;var g=2;var d=3;var y=4;var i=5;var m=6;e["e"]=function(t,e,r,a,i,n){var o=t.__transition;if(!o)t.__transition={};else if(r in o)return;c(t,r,{name:e,index:a,group:i,on:s,tween:l,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:u})};function n(t,e){var r=f(t,e);if(r.state>u)throw new Error("too late; already scheduled");return r}function o(t,e){var r=f(t,e);if(r.state>d)throw new Error("too late; already running");return r}function f(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function c(n,o,s){var l=n.__transition,u;l[o]=s;s.timer=Object(h["timer"])(t,0,s.time);function t(t){s.state=p;s.timer.restart(f,s.delay,s.time);if(s.delay<=t)f(t-s.delay)}function f(t){var e,r,a,i;if(s.state!==p)return v();for(e in l){i=l[e];if(i.name!==s.name)continue;if(i.state===d)return Object(h["timeout"])(f);if(i.state===y){i.state=m;i.timer.stop();i.on.call("interrupt",n,n.__data__,i.index,i.group);delete l[e]}else if(+e<o){i.state=m;i.timer.stop();i.on.call("cancel",n,n.__data__,i.index,i.group);delete l[e]}}Object(h["timeout"])(function(){if(s.state===d){s.state=y;s.timer.restart(c,s.delay,s.time);c(t)}});s.state=g;s.on.call("start",n,n.__data__,s.index,s.group);if(s.state!==g)return;s.state=d;u=new Array(a=s.tween.length);for(e=0,r=-1;e<a;++e){if(i=s.tween[e].value.call(n,n.__data__,s.index,s.group)){u[++r]=i}}u.length=r+1}function c(t){var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(v),s.state=i,1),r=-1,a=u.length;while(++r<a){u[r].call(n,e)}if(s.state===i){s.on.call("end",n,n.__data__,s.index,s.group);v()}}function v(){s.state=m;s.timer.stop();delete l[o];for(var t in l)return;delete n.__transition}}},function(t,e,r){var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var s=r(4);var a=function t(e){if((typeof e==="undefined"?"undefined":o(e))!=="object"||e===null){return e}var r=void 0;if(s(e)){r=[];for(var a=0,i=e.length;a<i;a++){if(o(e[a])==="object"&&e[a]!=null){r[a]=t(e[a])}else{r[a]=e[a]}}}else{r={};for(var n in e){if(o(e[n])==="object"&&e[n]!=null){r[n]=t(e[n])}else{r[n]=e[n]}}}return r};t.exports=a},function(t,e,r){var o=r(26);var s=r(4);var l=5;function u(t,e,r,a){r=r||0;a=a||l;for(var i in e){if(e.hasOwnProperty(i)){var n=e[i];if(n!==null&&o(n)){if(!o(t[i])){t[i]={}}if(r<a){u(t[i],n,r+1,a)}else{t[i]=e[i]}}else if(s(n)){t[i]=[];t[i]=t[i].concat(n)}else if(n!==undefined){t[i]=n}}}}var a=function t(){var e=new Array(arguments.length);var r=e.length;for(var a=0;a<r;a++){e[a]=arguments[a]}var i=e[0];for(var n=1;n<r;n++){u(i,e[n])}return i};t.exports=a},function(t,e){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a=function t(e){return(typeof e==="undefined"?"undefined":r(e))==="object"&&e!==null};t.exports=a},function(t,e,r){var u=r(49);var f=r(13);var c=r(10);var a=function t(e,r){if(e===r){return true}if(!e||!r){return false}if(c(e)||c(r)){return false}if(f(e)||f(r)){if(e.length!==r.length){return false}var a=true;for(var i=0;i<e.length;i++){a=t(e[i],r[i]);if(!a){break}}return a}if(u(e)||u(r)){var n=Object.keys(e);var o=Object.keys(r);if(n.length!==o.length){return false}var s=true;for(var l=0;l<n.length;l++){s=t(e[n[l]],r[n[l]]);if(!s){break}}return s}return false};t.exports=a},function(t,e){var r=function t(e,r,a){if(e<r){return r}else if(e>a){return a}return e};t.exports=r},function(t,e,r){var i=r(183);i.translate=function(t,e,r){var a=new Array(9);i.fromTranslation(a,r);return i.multiply(t,a,e)};i.rotate=function(t,e,r){var a=new Array(9);i.fromRotation(a,r);return i.multiply(t,a,e)};i.scale=function(t,e,r){var a=new Array(9);i.fromScaling(a,r);return i.multiply(t,a,e)};t.exports=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setMatrixArrayType=o;e.toRadian=l;e.equals=u;var a=e.EPSILON=1e-6;var i=e.ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array;var n=e.RANDOM=Math.random;function o(t){e.ARRAY_TYPE=i=t}var s=Math.PI/180;function l(t){return t*s}function u(t,e){return Math.abs(t-e)<=a*Math.max(1,Math.abs(t),Math.abs(e))}},function(n,t,l){var u;(function(e){"use strict";function r(){}var t=r.prototype;var a=e.EventEmitter;function o(t,e){var r=t.length;while(r--){if(t[r].listener===e){return r}}return-1}function i(e){return function t(){return this[e].apply(this,arguments)}}t.getListeners=function t(e){var r=this._getEvents();var a;var i;if(e instanceof RegExp){a={};for(i in r){if(r.hasOwnProperty(i)&&e.test(i)){a[i]=r[i]}}}else{a=r[e]||(r[e]=[])}return a};t.flattenListeners=function t(e){var r=[];var a;for(a=0;a<e.length;a+=1){r.push(e[a].listener)}return r};t.getListenersAsObject=function t(e){var r=this.getListeners(e);var a;if(r instanceof Array){a={};a[e]=r}return a||r};function s(t){if(typeof t==="function"||t instanceof RegExp){return true}else if(t&&typeof t==="object"){return s(t.listener)}else{return false}}t.addListener=function t(e,r){if(!s(r)){throw new TypeError("listener must be a function")}var a=this.getListenersAsObject(e);var i=typeof r==="object";var n;for(n in a){if(a.hasOwnProperty(n)&&o(a[n],r)===-1){a[n].push(i?r:{listener:r,once:false})}}return this};t.on=i("addListener");t.addOnceListener=function t(e,r){return this.addListener(e,{listener:r,once:true})};t.once=i("addOnceListener");t.defineEvent=function t(e){this.getListeners(e);return this};t.defineEvents=function t(e){for(var r=0;r<e.length;r+=1){this.defineEvent(e[r])}return this};t.removeListener=function t(e,r){var a=this.getListenersAsObject(e);var i;var n;for(n in a){if(a.hasOwnProperty(n)){i=o(a[n],r);if(i!==-1){a[n].splice(i,1)}}}return this};t.off=i("removeListener");t.addListeners=function t(e,r){return this.manipulateListeners(false,e,r)};t.removeListeners=function t(e,r){return this.manipulateListeners(true,e,r)};t.manipulateListeners=function t(e,r,a){var i;var n;var o=e?this.removeListener:this.addListener;var s=e?this.removeListeners:this.addListeners;if(typeof r==="object"&&!(r instanceof RegExp)){for(i in r){if(r.hasOwnProperty(i)&&(n=r[i])){if(typeof n==="function"){o.call(this,i,n)}else{s.call(this,i,n)}}}}else{i=a.length;while(i--){o.call(this,r,a[i])}}return this};t.removeEvent=function t(e){var r=typeof e;var a=this._getEvents();var i;if(r==="string"){delete a[e]}else if(e instanceof RegExp){for(i in a){if(a.hasOwnProperty(i)&&e.test(i)){delete a[i]}}}else{delete this._events}return this};t.removeAllListeners=i("removeEvent");t.emitEvent=function t(e,r){var a=this.getListenersAsObject(e);var i;var n;var o;var s;var l;for(s in a){if(a.hasOwnProperty(s)){i=a[s].slice(0);for(o=0;o<i.length;o++){n=i[o];if(n.once===true){this.removeListener(e,n.listener)}l=n.listener.apply(this,r||[]);if(l===this._getOnceReturnValue()){this.removeListener(e,n.listener)}}}}return this};t.trigger=i("emitEvent");t.emit=function t(e){var r=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,r)};t.setOnceReturnValue=function t(e){this._onceReturnValue=e;return this};t._getOnceReturnValue=function t(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};t._getEvents=function t(){return this._events||(this._events={})};r.noConflict=function t(){e.EventEmitter=a;return r};if(true){!(u=function(){return r}.call(e,l,e,n),u!==undefined&&(n.exports=u))}else if(typeof n==="object"&&n.exports){n.exports=r}else{e.EventEmitter=r}})(this||{})},function(t,e,r){var f=r(36);var c=r(103);var v=r(56);var h=r(37);t.exports={line:function t(e,r,a,i,n,o,s){var l=f.box(e,r,a,i,n);if(!this.box(l.minX,l.maxX,l.minY,l.maxY,o,s)){return false}var u=f.pointDistance(e,r,a,i,o,s);if(isNaN(u)){return false}return u<=n/2},polyline:function t(e,r,a,i){var n=e.length-1;if(n<1){return false}for(var o=0;o<n;o++){var s=e[o][0];var l=e[o][1];var u=e[o+1][0];var f=e[o+1][1];if(this.line(s,l,u,f,r,a,i)){return true}}return false},cubicline:function t(e,r,a,i,n,o,s,l,u,f,c){return v.pointDistance(e,r,a,i,n,o,s,l,f,c)<=u/2},quadraticline:function t(e,r,a,i,n,o,s,l,u){return c.pointDistance(e,r,a,i,n,o,l,u)<=s/2},arcline:function t(e,r,a,i,n,o,s,l,u){return h.pointDistance(e,r,a,i,n,o,l,u)<=s/2},rect:function t(e,r,a,i,n,o){return e<=n&&n<=e+a&&r<=o&&o<=r+i},circle:function t(e,r,a,i,n){return Math.pow(i-e,2)+Math.pow(n-r,2)<=Math.pow(a,2)},box:function t(e,r,a,i,n,o){return e<=n&&n<=r&&a<=o&&o<=i}}},function(t,e,r){var x=r(1);var M=x.vec2;function C(t,e,r,a,i){var n=1-i;return n*n*(n*a+3*i*r)+i*i*(i*t+3*n*e)}function a(t,e,r,a,i){var n=1-i;return 3*(((e-t)*n+2*(r-e)*i)*n+(a-r)*i*i)}function v(t,e,r,a,i,n,o,s,l,u,f){var c;var v=.005;var h=Infinity;var p;var g;var d;var y;var m;var x;var b;var _=1e-4;var w=[l,u];for(p=0;p<1;p+=.05){g=[C(t,r,i,o,p),C(e,a,n,s,p)];d=M.squaredDistance(w,g);if(d<h){c=p;h=d}}h=Infinity;for(var S=0;S<32;S++){if(v<_){break}x=c-v;b=c+v;g=[C(t,r,i,o,x),C(e,a,n,s,x)];d=M.squaredDistance(w,g);if(x>=0&&d<h){c=x;h=d}else{m=[C(t,r,i,o,b),C(e,a,n,s,b)];y=M.squaredDistance(w,m);if(b<=1&&y<h){c=b;h=y}else{v*=.5}}}if(f){f.x=C(t,r,i,o,c);f.y=C(e,a,n,s,c)}return Math.sqrt(h)}function i(t,e,r,a){var i=3*t-9*e+9*r-3*a;var n=6*e-12*r+6*a;var o=3*r-3*a;var s=[];var l;var u;var f;if(x.isNumberEqual(i,0)){if(!x.isNumberEqual(n,0)){l=-o/n;if(l>=0&&l<=1){s.push(l)}}}else{var c=n*n-4*i*o;if(x.isNumberEqual(c,0)){s.push(-n/(2*i))}else if(c>0){f=Math.sqrt(c);l=(-n+f)/(2*i);u=(-n-f)/(2*i);if(l>=0&&l<=1){s.push(l)}if(u>=0&&u<=1){s.push(u)}}}return s}function b(t,e,r,a,i){var n=-3*e+9*r-9*a+3*i;var o=t*n+6*e-12*r+6*a;return t*o-3*e+3*r}function n(t,e,r,a,i,n,o,s,l){if(x.isNil(l)){l=1}l=l>1?1:l<0?0:l;var u=l/2;var f=12;var c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];var v=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];var h=0;for(var p=0;p<f;p++){var g=u*c[p]+u;var d=b(g,t,r,i,o);var y=b(g,e,a,n,s);var m=d*d+y*y;h+=v[p]*Math.sqrt(m)}return u*h}t.exports={at:C,derivativeAt:a,projectPoint:function t(e,r,a,i,n,o,s,l,u,f){var c={};v(e,r,a,i,n,o,s,l,u,f,c);return c},pointDistance:v,extrema:i,len:n}},function(t,e,r){var s=r(1);var a=r(6);var l=r(27);var u=r(39);var f=function t(e){t.superclass.constructor.call(this,e)};f.Symbols={circle:function t(e,r,a){return[["M",e,r],["m",-a,0],["a",a,a,0,1,0,a*2,0],["a",a,a,0,1,0,-a*2,0]]},square:function t(e,r,a){return[["M",e-a,r-a],["L",e+a,r-a],["L",e+a,r+a],["L",e-a,r+a],["Z"]]},diamond:function t(e,r,a){return[["M",e-a,r],["L",e,r-a],["L",e+a,r],["L",e,r+a],["Z"]]},triangle:function t(e,r,a){var i=a*Math.sin(1/3*Math.PI);return[["M",e-a,r+i],["L",e,r-i],["L",e+a,r+i],["z"]]},"triangle-down":function t(e,r,a){var i=a*Math.sin(1/3*Math.PI);return[["M",e-a,r-i],["L",e+a,r-i],["L",e,r+i],["Z"]]}};f.ATTRS={path:null,lineWidth:1};s.extend(f,a);s.augment(f,{type:"marker",canFill:true,canStroke:true,getDefaultAttrs:function t(){return{x:0,y:0,lineWidth:1}},calculateBox:function t(){var e=this._attrs;var r=e.x;var a=e.y;var i=e.radius;var n=this.getHitLineWidth();var o=n/2+i;return{minX:r-o,minY:a-o,maxX:r+o,maxY:a+o}},_getPath:function t(){var e=this._attrs;var r=e.x;var a=e.y;var i=e.radius||e.r;var n=e.symbol||"circle";var o;if(s.isFunction(n)){o=n}else{o=f.Symbols[n]}if(!o){console.warn(n+" marker is not supported.");return null}return o(r,a,i)},createPath:function t(e){var r=this._cfg.segments;if(r&&!this._cfg.hasUpdate){e.beginPath();for(var a=0;a<r.length;a++){r[a].draw(e)}return}var i=l.parsePath(this._getPath());e.beginPath();var n;r=[];for(var o=0;o<i.length;o++){var s=i[o];n=new u(s,n,o===i.length-1);r.push(n);n.draw(e)}this._cfg.segments=r;this._cfg.hasUpdate=false}});t.exports=f},function(t,e,r){var f=r(81);var a="\t\n\v\f\r \u2028\u2029";var i=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig");var s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");var _=function t(e){if(!e){return null}if(typeof e===typeof[]){return e}var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0};var o=[];String(e).replace(i,function(t,e,r){var a=[];var i=e.toLowerCase();r.replace(s,function(t,e){e&&a.push(+e)});if(i==="m"&&a.length>2){o.push([e].concat(a.splice(0,2)));i="l";e=e==="m"?"l":"L"}if(i==="o"&&a.length===1){o.push([e,a[0]])}if(i==="r"){o.push([e].concat(a))}else{while(a.length>=n[i]){o.push([e].concat(a.splice(0,n[i])));if(!n[i]){break}}}});return o};var w=function t(e,r){var a=[];for(var i=0,n=e.length;n-2*!r>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];if(r){if(!i){o[0]={x:+e[n-2],y:+e[n-1]}}else if(n-4===i){o[3]={x:+e[0],y:+e[1]}}else if(n-2===i){o[2]={x:+e[0],y:+e[1]};o[3]={x:+e[2],y:+e[3]}}}else{if(n-4===i){o[3]=o[2]}else if(!i){o[0]={x:+e[i],y:+e[i+1]}}}a.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return a};var S=function t(e,r,a,i,n){var o=[];if(n===null&&i===null){i=a}e=+e;r=+r;a=+a;i=+i;if(n!==null){var s=Math.PI/180;var l=e+a*Math.cos(-i*s);var u=e+a*Math.cos(-n*s);var f=r+a*Math.sin(-i*s);var c=r+a*Math.sin(-n*s);o=[["M",l,f],["A",a,a,0,+(n-i>180),0,u,c]]}else{o=[["M",e,r],["m",0,-i],["a",a,i,0,1,1,0,2*i],["a",a,i,0,1,1,0,-2*i],["z"]]}return o};var b=function t(e){e=_(e);if(!e||!e.length){return[["M",0,0]]}var r=[];var a=0;var i=0;var n=0;var o=0;var s=0;var l;var u;if(e[0][0]==="M"){a=+e[0][1];i=+e[0][2];n=a;o=i;s++;r[0]=["M",a,i]}var f=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z";for(var c,v,h=s,p=e.length;h<p;h++){r.push(c=[]);v=e[h];l=v[0];if(l!==l.toUpperCase()){c[0]=l.toUpperCase();switch(c[0]){case"A":c[1]=v[1];c[2]=v[2];c[3]=v[3];c[4]=v[4];c[5]=v[5];c[6]=+v[6]+a;c[7]=+v[7]+i;break;case"V":c[1]=+v[1]+i;break;case"H":c[1]=+v[1]+a;break;case"R":u=[a,i].concat(v.slice(1));for(var g=2,d=u.length;g<d;g++){u[g]=+u[g]+a;u[++g]=+u[g]+i}r.pop();r=r.concat(w(u,f));break;case"O":r.pop();u=S(a,i,v[1],v[2]);u.push(u[0]);r=r.concat(u);break;case"U":r.pop();r=r.concat(S(a,i,v[1],v[2],v[3]));c=["U"].concat(r[r.length-1].slice(-2));break;case"M":n=+v[1]+a;o=+v[2]+i;break;default:for(var y=1,m=v.length;y<m;y++){c[y]=+v[y]+(y%2?a:i)}}}else if(l==="R"){u=[a,i].concat(v.slice(1));r.pop();r=r.concat(w(u,f));c=["R"].concat(v.slice(-2))}else if(l==="O"){r.pop();u=S(a,i,v[1],v[2]);u.push(u[0]);r=r.concat(u)}else if(l==="U"){r.pop();r=r.concat(S(a,i,v[1],v[2],v[3]));c=["U"].concat(r[r.length-1].slice(-2))}else{for(var x=0,b=v.length;x<b;x++){c[x]=v[x]}}l=l.toUpperCase();if(l!=="O"){switch(c[0]){case"Z":a=+n;i=+o;break;case"H":a=c[1];break;case"V":i=c[1];break;case"M":n=c[c.length-2];o=c[c.length-1];break;default:a=c[c.length-2];i=c[c.length-1]}}}return r};var M=function t(e,r,a,i){return[e,r,a,i,a,i]};var C=function t(e,r,a,i,n,o){var s=1/3;var l=2/3;return[s*e+l*a,s*r+l*i,s*n+l*a,s*o+l*i,n,o]};var k=function t(e,r,a,i,n,o,s,l,u,f){if(a===i){a+=1}var c=Math.PI*120/180;var v=Math.PI/180*(+n||0);var h=[];var p;var g;var d;var y;var m;var x=function t(e,r,a){var i=e*Math.cos(a)-r*Math.sin(a);var n=e*Math.sin(a)+r*Math.cos(a);return{x:i,y:n}};if(!f){p=x(e,r,-v);e=p.x;r=p.y;p=x(l,u,-v);l=p.x;u=p.y;if(e===l&&r===u){l+=1;u+=1}var b=(e-l)/2;var _=(r-u)/2;var w=b*b/(a*a)+_*_/(i*i);if(w>1){w=Math.sqrt(w);a=w*a;i=w*i}var S=a*a;var M=i*i;var C=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));y=C*a*_/i+(e+l)/2;m=C*-i*b/a+(r+u)/2;g=Math.asin(((r-m)/i).toFixed(9));d=Math.asin(((u-m)/i).toFixed(9));g=e<y?Math.PI-g:g;d=l<y?Math.PI-d:d;g<0&&(g=Math.PI*2+g);d<0&&(d=Math.PI*2+d);if(s&&g>d){g=g-Math.PI*2}if(!s&&d>g){d=d-Math.PI*2}}else{g=f[0];d=f[1];y=f[2];m=f[3]}var k=d-g;if(Math.abs(k)>c){var A=d;var P=l;var I=u;d=g+c*(s&&d>g?1:-1);l=y+a*Math.cos(d);u=m+i*Math.sin(d);h=t(l,u,a,i,n,0,s,P,I,[d,A,y,m])}k=d-g;var T=Math.cos(g);var O=Math.sin(g);var L=Math.cos(d);var E=Math.sin(d);var D=Math.tan(k/4);var F=4/3*a*D;var B=4/3*i*D;var R=[e,r];var j=[e+F*O,r-B*T];var N=[l+F*E,u-B*L];var z=[l,u];j[0]=2*R[0]-j[0];j[1]=2*R[1]-j[1];if(f){return[j,N,z].concat(h)}h=[j,N,z].concat(h).join().split(",");var Y=[];for(var V=0,H=h.length;V<H;V++){Y[V]=V%2?x(h[V-1],h[V],v).y:x(h[V],h[V+1],v).x}return Y};var A=function t(e,r){var o=b(e);var s=r&&b(r);var a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var n=[];var l=[];var u="";var f="";var c;var v=function t(e,r,a){var i,n;if(!e){return["C",r.x,r.y,r.x,r.y,r.x,r.y]}!(e[0]in{T:1,Q:1})&&(r.qx=r.qy=null);switch(e[0]){case"M":r.X=e[1];r.Y=e[2];break;case"A":e=["C"].concat(k.apply(0,[r.x,r.y].concat(e.slice(1))));break;case"S":if(a==="C"||a==="S"){i=r.x*2-r.bx;n=r.y*2-r.by}else{i=r.x;n=r.y}e=["C",i,n].concat(e.slice(1));break;case"T":if(a==="Q"||a==="T"){r.qx=r.x*2-r.qx;r.qy=r.y*2-r.qy}else{r.qx=r.x;r.qy=r.y}e=["C"].concat(C(r.x,r.y,r.qx,r.qy,e[1],e[2]));break;case"Q":r.qx=e[1];r.qy=e[2];e=["C"].concat(C(r.x,r.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(M(r.x,r.y,e[1],e[2]));break;case"H":e=["C"].concat(M(r.x,r.y,e[1],r.y));break;case"V":e=["C"].concat(M(r.x,r.y,r.x,e[1]));break;case"Z":e=["C"].concat(M(r.x,r.y,r.X,r.Y));break;default:break}return e};var h=function t(e,r){if(e[r].length>7){e[r].shift();var a=e[r];while(a.length){n[r]="A";s&&(l[r]="A");e.splice(r++,0,["C"].concat(a.splice(0,6)))}e.splice(r,1);c=Math.max(o.length,s&&s.length||0)}};var p=function t(e,r,a,i,n){if(e&&r&&e[n][0]==="M"&&r[n][0]!=="M"){r.splice(n,0,["M",i.x,i.y]);a.bx=0;a.by=0;a.x=e[n][1];a.y=e[n][2];c=Math.max(o.length,s&&s.length||0)}};c=Math.max(o.length,s&&s.length||0);for(var g=0;g<c;g++){o[g]&&(u=o[g][0]);if(u!=="C"){n[g]=u;g&&(f=n[g-1])}o[g]=v(o[g],a,f);if(n[g]!=="A"&&u==="C")n[g]="C";h(o,g);if(s){s[g]&&(u=s[g][0]);if(u!=="C"){l[g]=u;g&&(f=l[g-1])}s[g]=v(s[g],i,f);if(l[g]!=="A"&&u==="C"){l[g]="C"}h(s,g)}p(o,s,a,i,g);p(s,o,i,a,g);var d=o[g];var y=s&&s[g];var m=d.length;var x=s&&y.length;a.x=d[m-2];a.y=d[m-1];a.bx=parseFloat(d[m-4])||a.x;a.by=parseFloat(d[m-3])||a.y;i.bx=s&&(parseFloat(y[x-4])||i.x);i.by=s&&(parseFloat(y[x-3])||i.y);i.x=s&&y[x-2];i.y=s&&y[x-1]}return s?[o,s]:o};var n=/,?([a-z]),?/gi;var l=function t(e){return e.join(",").replace(n,"$1")};var P=function t(e,r,a,i,n){var o=-3*r+9*a-9*i+3*n;var s=e*o+6*r-12*a+6*i;return e*s-3*r+3*a};var I=function t(e,r,a,i,n,o,s,l,u){if(u===null){u=1}u=u>1?1:u<0?0:u;var f=u/2;var c=12;var v=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];var h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];var p=0;for(var g=0;g<c;g++){var d=f*v[g]+f;var y=P(d,e,a,n,s);var m=P(d,r,i,o,l);var x=y*y+m*m;p+=h[g]*Math.sqrt(x)}return f*p};var c=function t(e,r,a,i,n,o,s,l){var u=[];var f=[[],[]];var c;var v;var h;var p;for(var g=0;g<2;++g){if(g===0){v=6*e-12*a+6*n;c=-3*e+9*a-9*n+3*s;h=3*a-3*e}else{v=6*r-12*i+6*o;c=-3*r+9*i-9*o+3*l;h=3*i-3*r}if(Math.abs(c)<1e-12){if(Math.abs(v)<1e-12){continue}p=-h/v;if(p>0&&p<1){u.push(p)}continue}var d=v*v-4*h*c;var y=Math.sqrt(d);if(d<0){continue}var m=(-v+y)/(2*c);if(m>0&&m<1){u.push(m)}var x=(-v-y)/(2*c);if(x>0&&x<1){u.push(x)}}var b=u.length;var _=b;var w;while(b--){p=u[b];w=1-p;f[0][b]=w*w*w*e+3*w*w*p*a+3*w*p*p*n+p*p*p*s;f[1][b]=w*w*w*r+3*w*w*p*i+3*w*p*p*o+p*p*p*l}f[0][_]=e;f[1][_]=r;f[0][_+1]=s;f[1][_+1]=l;f[0].length=f[1].length=_+2;return{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}};var T=function t(e,r,a,i,n,o,s,l){if(Math.max(e,a)<Math.min(n,s)||Math.min(e,a)>Math.max(n,s)||Math.max(r,i)<Math.min(o,l)||Math.min(r,i)>Math.max(o,l)){return}var u=(e*i-r*a)*(n-s)-(e-a)*(n*l-o*s);var f=(e*i-r*a)*(o-l)-(r-i)*(n*l-o*s);var c=(e-a)*(o-l)-(r-i)*(n-s);if(!c){return}var v=u/c;var h=f/c;var p=+v.toFixed(2);var g=+h.toFixed(2);if(p<+Math.min(e,a).toFixed(2)||p>+Math.max(e,a).toFixed(2)||p<+Math.min(n,s).toFixed(2)||p>+Math.max(n,s).toFixed(2)||g<+Math.min(r,i).toFixed(2)||g>+Math.max(r,i).toFixed(2)||g<+Math.min(o,l).toFixed(2)||g>+Math.max(o,l).toFixed(2)){return}return{x:v,y:h}};var o=function t(e,r,a){return r>=e.x&&r<=e.x+e.width&&a>=e.y&&a<=e.y+e.height};var u=function t(e,r,a,i,n){if(n){return[["M",+e+ +n,r],["l",a-n*2,0],["a",n,n,0,0,1,n,n],["l",0,i-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-a,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-i],["a",n,n,0,0,1,n,-n],["z"]]}var o=[["M",e,r],["l",a,0],["l",0,i],["l",-a,0],["z"]];o.parsePathArray=l;return o};var v=function t(e,r,a,i){if(e===null){e=r=a=i=0}if(r===null){r=e.y;a=e.width;i=e.height;e=e.x}return{x:e,y:r,width:a,w:a,height:i,h:i,x2:e+a,y2:r+i,cx:e+a/2,cy:r+i/2,r1:Math.min(a,i)/2,r2:Math.max(a,i)/2,r0:Math.sqrt(a*a+i*i)/2,path:u(e,r,a,i),vb:[e,r,a,i].join(" ")}};var O=function t(e,r){e=v(e);r=v(r);return o(r,e.x,e.y)||o(r,e.x2,e.y)||o(r,e.x,e.y2)||o(r,e.x2,e.y2)||o(e,r.x,r.y)||o(e,r.x2,r.y)||o(e,r.x,r.y2)||o(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)};var L=function t(e,r,a,i,n,o,s,l){if(!f.isArray(e)){e=[e,r,a,i,n,o,s,l]}var u=c.apply(null,e);return v(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)};var E=function t(e,r,a,i,n,o,s,l,u){var f=1-u;var c=Math.pow(f,3);var v=Math.pow(f,2);var h=u*u;var p=h*u;var g=c*e+v*3*u*a+f*3*u*u*n+p*s;var d=c*r+v*3*u*i+f*3*u*u*o+p*l;var y=e+2*u*(a-e)+h*(n-2*a+e);var m=r+2*u*(i-r)+h*(o-2*i+r);var x=a+2*u*(n-a)+h*(s-2*n+a);var b=i+2*u*(o-i)+h*(l-2*o+i);var _=f*e+u*a;var w=f*r+u*i;var S=f*n+u*s;var M=f*o+u*l;var C=90-Math.atan2(y-x,m-b)*180/Math.PI;return{x:g,y:d,m:{x:y,y:m},n:{x:x,y:b},start:{x:_,y:w},end:{x:S,y:M},alpha:C}};var D=function t(e,r,a){var i=L(e);var n=L(r);if(!O(i,n)){return a?0:[]}var o=I.apply(0,e);var s=I.apply(0,r);var l=~~(o/8);var u=~~(s/8);var f=[];var c=[];var v={};var h=a?0:[];for(var p=0;p<l+1;p++){var g=E.apply(0,e.concat(p/l));f.push({x:g.x,y:g.y,t:p/l})}for(var d=0;d<u+1;d++){var y=E.apply(0,r.concat(d/u));c.push({x:y.x,y:y.y,t:d/u})}for(var m=0;m<l;m++){for(var x=0;x<u;x++){var b=f[m];var _=f[m+1];var w=c[x];var S=c[x+1];var M=Math.abs(_.x-b.x)<.001?"y":"x";var C=Math.abs(S.x-w.x)<.001?"y":"x";var k=T(b.x,b.y,_.x,_.y,w.x,w.y,S.x,S.y);if(k){if(v[k.x.toFixed(4)]===k.y.toFixed(4)){continue}v[k.x.toFixed(4)]=k.y.toFixed(4);var A=b.t+Math.abs((k[M]-b[M])/(_[M]-b[M]))*(_.t-b.t);var P=w.t+Math.abs((k[C]-w[C])/(S[C]-w[C]))*(S.t-w.t);if(A>=0&&A<=1&&P>=0&&P<=1){if(a){h++}else{h.push({x:k.x,y:k.y,t1:A,t2:P})}}}}}return h};var h=function t(e,r,a){e=A(e);r=A(r);var i;var n;var o;var s;var l;var u;var f;var c;var v;var h;var p=a?0:[];for(var g=0,d=e.length;g<d;g++){var y=e[g];if(y[0]==="M"){i=l=y[1];n=u=y[2]}else{if(y[0]==="C"){v=[i,n].concat(y.slice(1));i=v[6];n=v[7]}else{v=[i,n,i,n,l,u,l,u];i=l;n=u}for(var m=0,x=r.length;m<x;m++){var b=r[m];if(b[0]==="M"){o=f=b[1];s=c=b[2]}else{if(b[0]==="C"){h=[o,s].concat(b.slice(1));o=h[6];s=h[7]}else{h=[o,s,o,s,f,c,f,c];o=f;s=c}var _=D(v,h,a);if(a){p+=_}else{for(var w=0,S=_.length;w<S;w++){_[w].segment1=g;_[w].segment2=m;_[w].bez1=v;_[w].bez2=h}p=p.concat(_)}}}}}return p};var p=function t(e,r){return h(e,r)};function g(t,e){var i=[];var n=[];function o(t,e){if(t.length===1){i.push(t[0]);n.push(t[0])}else{var r=[];for(var a=0;a<t.length-1;a++){if(a===0){i.push(t[0])}if(a===t.length-2){n.push(t[a+1])}r[a]=[(1-e)*t[a][0]+e*t[a+1][0],(1-e)*t[a][1]+e*t[a+1][1]]}o(r,e)}}if(t.length){o(t,e)}return{left:i,right:n.reverse()}}function d(t,e,r){var a=[[t[1],t[2]]];r=r||2;var i=[];if(e[0]==="A"){a.push(e[6]);a.push(e[7])}else if(e[0]==="C"){a.push([e[1],e[2]]);a.push([e[3],e[4]]);a.push([e[5],e[6]])}else if(e[0]==="S"||e[0]==="Q"){a.push([e[1],e[2]]);a.push([e[3],e[4]])}else{a.push([e[1],e[2]])}var n=a;var o=1/r;for(var s=0;s<r-1;s++){var l=o/(1-o*s);var u=g(n,l);i.push(u.left);n=u.right}i.push(n);var f=i.map(function(t){var e=[];if(t.length===4){e.push("C");e=e.concat(t[2])}if(t.length>=3){if(t.length===3){e.push("Q")}e=e.concat(t[1])}if(t.length===2){e.push("L")}e=e.concat(t[t.length-1]);return e});return f}var y=function t(e,r,a){if(a===1){return[[].concat(e)]}var i=[];if(r[0]==="L"||r[0]==="C"||r[0]==="Q"){i=i.concat(d(e,r,a))}else{var n=[].concat(e);if(n[0]==="M"){n[0]="L"}for(var o=0;o<=a-1;o++){i.push(n)}}return i};var m=function t(a,e){if(a.length===1){return a}var i=a.length-1;var r=e.length-1;var n=i/r;var o=[];if(a.length===1&&a[0][0]==="M"){for(var s=0;s<r-i;s++){a.push(a[0])}return a}for(var l=0;l<r;l++){var u=Math.floor(n*l);o[u]=(o[u]||0)+1}var f=o.reduce(function(t,e,r){if(r===i){return t.concat(a[i])}return t.concat(y(a[r],a[r+1],e))},[]);f.unshift(a[0]);if(e[r]==="Z"||e[r]==="z"){f.push("Z")}return f};var x=function t(e,r){if(e.length!==r.length){return false}var a=true;f.each(e,function(t,e){if(t!==r[e]){a=false;return false}});return a};function F(t,e,r){var a=null;var i=r;if(e<i){i=e;a="add"}if(t<i){i=t;a="del"}return{type:a,min:i}}var B=function t(e,r){var a=e.length;var i=r.length;var n,o;var s=0;if(a===0||i===0){return null}var l=[];for(var u=0;u<=a;u++){l[u]=[];l[u][0]={min:u}}for(var f=0;f<=i;f++){l[0][f]={min:f}}for(var c=1;c<=a;c++){n=e[c-1];for(var v=1;v<=i;v++){o=r[v-1];if(x(n,o)){s=0}else{s=1}var h=l[c-1][v].min+1;var p=l[c][v-1].min+1;var g=l[c-1][v-1].min+s;l[c][v]=F(h,p,g)}}return l};var R=function t(e,r){var a=B(e,r);var i=e.length;var n=r.length;var o=[];var s=1;var l=1;if(a[i][n]!==i){for(var u=1;u<=i;u++){var f=a[u][u].min;l=u;for(var c=s;c<=n;c++){if(a[u][c].min<f){f=a[u][c].min;l=c}}s=l;if(a[u][s].type){o.push({index:u-1,type:a[u][s].type})}}for(var v=o.length-1;v>=0;v--){s=o[v].index;if(o[v].type==="add"){e.splice(s,0,[].concat(e[s]))}else{e.splice(s,1)}}}i=e.length;var h=n-i;if(i<n){for(var p=0;p<h;p++){if(e[i-1][0]==="z"||e[i-1][0]==="Z"){e.splice(i-2,0,e[i-2])}else{e.push(e[i-1])}i+=1}}return e};function j(t,e,r){var a=[].concat(t);var i;var n=1/(r+1);var o=N(e)[0];for(var s=1;s<=r;s++){n*=s;i=Math.floor(t.length*n);if(i===0){a.unshift([o[0]*n+t[i][0]*(1-n),o[1]*n+t[i][1]*(1-n)])}else{a.splice(i,0,[o[0]*n+t[i][0]*(1-n),o[1]*n+t[i][1]*(1-n)])}}return a}function N(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]);e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]);e.push([t[1],t[2]]);e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]);e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break;default:}return e}var z=function t(e,r){if(e.length<=1){return e}var a;for(var i=0;i<r.length;i++){if(e[i][0]!==r[i][0]){a=N(e[i]);switch(r[i][0]){case"M":e[i]=["M"].concat(a[0]);break;case"L":e[i]=["L"].concat(a[0]);break;case"A":e[i]=[].concat(r[i]);e[i][6]=a[0][0];e[i][7]=a[0][1];break;case"Q":if(a.length<2){if(i>0){a=j(a,e[i-1],1)}else{e[i]=r[i];break}}e[i]=["Q"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;case"T":e[i]=["T"].concat(a[0]);break;case"C":if(a.length<3){if(i>0){a=j(a,e[i-1],2)}else{e[i]=r[i];break}}e[i]=["C"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(a.length<2){if(i>0){a=j(a,e[i-1],1)}else{e[i]=r[i];break}}e[i]=["S"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;default:e[i]=r[i]}}}return e};t.exports={parsePathString:_,parsePathArray:l,pathTocurve:A,pathToAbsolute:b,catmullRomToBezier:w,rectPath:u,fillPath:m,fillPathByDiff:R,formatPath:z,intersection:p}},function(t,e,r){"use strict";e["b"]=p;e["a"]=d;e["c"]=y;e["d"]=m;var a=0,i=0,n=0,o=1e3,s,l,u=0,f=0,c=0,v=typeof performance==="object"&&performance.now?performance:Date,h=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return f||(h(g),f=v.now()+c)}function g(){f=0}function d(){this._call=this._time=this._next=null}d.prototype=y.prototype={constructor:d,restart:function(t,e,r){if(typeof t!=="function")throw new TypeError("callback is not a function");r=(r==null?p():+r)+(e==null?0:+e);if(!this._next&&l!==this){if(l)l._next=this;else s=this;l=this}this._call=t;this._time=r;w()},stop:function(){if(this._call){this._call=null;this._time=Infinity;w()}}};function y(t,e,r){var a=new d;a.restart(t,e,r);return a}function m(){p();++a;var t=s,e;while(t){if((e=f-t._time)>=0)t._call.call(null,e);t=t._next}--a}function x(){f=(u=v.now())+c;a=i=0;try{m()}finally{a=0;_();f=0}}function b(){var t=v.now(),e=t-u;if(e>o)c-=e,u=t}function _(){var t,e=s,r,a=Infinity;while(e){if(e._call){if(a>e._time)a=e._time;t=e,e=e._next}else{r=e._next,e._next=null;e=t?t._next=r:s=r}}l=t;w(a)}function w(t){if(a)return;if(i)i=clearTimeout(i);var e=t-f;if(e>24){if(t<Infinity)i=setTimeout(x,t-v.now()-c);if(n)n=clearInterval(n)}else{if(!n)u=v.now(),n=setInterval(b,o);a=1,h(x)}}},function(t,e,r){"use strict";var i=r(19);var n=r(119);var o=r(122);var s=r(123);var l=r(40);var u=r(124);var f=r(125);var c=r(121);e["a"]=function(t,e){var r=typeof e,a;return e==null||r==="boolean"?Object(c["a"])(e):(r==="number"?l["a"]:r==="string"?(a=Object(i["a"])(e))?(e=a,n["a"]):f["a"]:e instanceof i["a"]?n["a"]:e instanceof Date?s["a"]:Array.isArray(e)?o["a"]:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?u["a"]:l["a"])(t,e)}},function(t,e,r){"use strict";e["a"]=u;r.d(e,"d",function(){return i});r.d(e,"c",function(){return n});e["e"]=_;e["h"]=M;e["g"]=C;e["b"]=k;e["f"]=L;var a=r(62);function u(){}var i=.7;var n=1/i;var o="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),v=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),g=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),d=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$");var y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(a["a"])(u,_,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:x,formatRgb:b,toString:b});function m(){return this.rgb().formatHex()}function x(){return O(this).formatHsl()}function b(){return this.rgb().formatRgb()}function _(t){var e,r;t=(t+"").trim().toLowerCase();return(e=f.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?w(e):r===3?new k(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?new k(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?new k(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=c.exec(t))?new k(e[1],e[2],e[3],1):(e=v.exec(t))?new k(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h.exec(t))?S(e[1],e[2],e[3],e[4]):(e=p.exec(t))?S(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=g.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=d.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?w(y[t]):t==="transparent"?new k(NaN,NaN,NaN,0):null}function w(t){return new k(t>>16&255,t>>8&255,t&255,1)}function S(t,e,r,a){if(a<=0)t=e=r=NaN;return new k(t,e,r,a)}function M(t){if(!(t instanceof u))t=_(t);if(!t)return new k;t=t.rgb();return new k(t.r,t.g,t.b,t.opacity)}function C(t,e,r,a){return arguments.length===1?M(t):new k(t,e,r,a==null?1:a)}function k(t,e,r,a){this.r=+t;this.g=+e;this.b=+r;this.opacity=+a}Object(a["a"])(k,C,Object(a["b"])(u,{brighter:function(t){t=t==null?n:Math.pow(n,t);return new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?i:Math.pow(i,t);return new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:P,toString:P}));function A(){return"#"+I(this.r)+I(this.g)+I(this.b)}function P(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function I(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function T(t,e,r,a){if(a<=0)t=e=r=NaN;else if(r<=0||r>=1)t=e=NaN;else if(e<=0)t=NaN;return new E(t,e,r,a)}function O(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(!(t instanceof u))t=_(t);if(!t)return new E;if(t instanceof E)return t;t=t.rgb();var e=t.r/255,r=t.g/255,a=t.b/255,i=Math.min(e,r,a),n=Math.max(e,r,a),o=NaN,s=n-i,l=(n+i)/2;if(s){if(e===n)o=(r-a)/s+(r<a)*6;else if(r===n)o=(a-e)/s+2;else o=(e-r)/s+4;s/=l<.5?n+i:2-n-i;o*=60}else{s=l>0&&l<1?0:o}return new E(o,s,l,t.opacity)}function L(t,e,r,a){return arguments.length===1?O(t):new E(t,e,r,a==null?1:a)}function E(t,e,r,a){this.h=+t;this.s=+e;this.l=+r;this.opacity=+a}Object(a["a"])(E,L,Object(a["b"])(u,{brighter:function(t){t=t==null?n:Math.pow(n,t);return new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?i:Math.pow(i,t);return new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*e,i=2*r-a;return new k(D(t>=240?t-240:t+120,i,a),D(t,i,a),D(t<120?t+240:t-120,i,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function D(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}},function(t,e,r){"use strict";e["b"]=a;e["a"]=function(t,e,r){t.prototype=e.prototype=r;r.constructor=t};function a(t,e){var r=Object.create(t.prototype);for(var a in e)r[a]=e[a];return r}},function(t,e,r){"use strict";e["a"]=l;function l(t,e,r,a,i){var n=t*t,o=n*t;return((1-3*t+3*n-o)*e+(4-6*n+3*o)*r+(1+3*t+3*n-3*o)*a+o*i)/6}e["b"]=function(o){var s=o.length-1;return function(t){var e=t<=0?t=0:t>=1?(t=1,s-1):Math.floor(t*s),r=o[e],a=o[e+1],i=e>0?o[e-1]:2*r-a,n=e<s-1?o[e+2]:2*a-r;return l((t-e/s)*s,i,r,a,n)}}},function(t,e,r){var i=r(2);var n=r(13);var a=function t(e,r){if(!n(e)){return e}var a=[];i(e,function(t,e){if(r(t,e)){a.push(t)}});return a};t.exports=a},function(t,e,r){var l=r(5);var u=r(4);var f=r(2);t.exports=function t(e,r){var a=[];var i={};for(var n=0;n<e.length;n++){var o=e[n];var s=o[r];if(!l(s)){if(!u(s)){s=[s]}f(s,function(t){if(!i[t]){a.push(t);i[t]=true}})}}return a}},function(t,e,r){var a=r(16),i=a.Group;var n=r(22),o=n.Label;var s=r(7);var p=r(0);var l=["line","point","path"];var g="_origin";function v(t){var e=0;p.each(t,function(t){e+=t});return e/t.length}function h(t,e){if(p.isNumber(t)&&p.isNumber(e)){return[t,e]}var r=-1,a=0,i=0;var n,o=t.length-1;var s,l=0;while(++r<t.length){n=o;o=r;l+=s=t[n]*e[o]-t[o]*e[n];a+=(t[n]+t[o])*s;i+=(e[n]+e[o])*s}l*=3;return[a/l,i/l]}var u=function t(e){t.superclass.constructor.call(this,e)};p.extend(u,i);p.augment(u,{getDefaultCfg:function t(){return{label:s.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function t(){u.superclass._renderUI.call(this);this.initLabelsCfg();var e=this.addGroup();var r=this.addGroup({elCls:"x-line-group"});var a=this.get("labelRenderer");this.set("labelsGroup",e);this.set("lineGroup",r);this.get("labelRenderer").set("group",e);a.set("group",e);a.set("lineGroup",r)},initLabelsCfg:function t(){var e=this;var r=new o;var a=e.getDefaultLabelCfg();var i=e.get("labelCfg");p.deepMix(a,i.globalCfg||i.cfg);r.set("config",false);if(a.labelLine){r.set("labelLine",a.labelLine)}r.set("coord",e.get("coord"));this.set("labelRenderer",r);e.set("label",a)},getDefaultLabelCfg:function t(){var e=this;var r=e.get("labelCfg").cfg||e.get("labelCfg").globalCfg;var a=e.get("geomType");var i=e.get("viewTheme")||s;if(a==="polygon"||r&&r.offset<0&&p.indexOf(l,a)===-1){return p.deepMix({},e.get("label"),i.innerLabels,r)}return p.deepMix({},e.get("label"),i.label,r)},getLabelsItems:function t(e,r){var s=this;var l=[];var u=s.get("geom");var f=s.get("coord");s._getLabelCfgs(e,r);var c=s.get("labelItemCfgs");p.each(e,function(a,t){var i=a[g];var n=c[t];if(!n){l.push(null);return}if(!p.isArray(n.text)){n.text=[n.text]}var o=n.text.length;p.each(n.text,function(t,e){if(p.isNil(t)||t===""){l.push(null);return}var r=s.getLabelPoint(n,a,e);r=p.mix({},n,r);if(!r.textAlign){r.textAlign=s.getLabelAlign(r,e,o)}if(u){r._id=u._getShapeId(i)+"-glabel-"+e+"-"+r.text}r.coord=f;l.push(r)})});return l},adjustItems:function t(e){p.each(e,function(t){if(!t){return}if(t.offsetX){t.x+=t.offsetX}if(t.offsetY){t.y+=t.offsetY}});return e},drawLines:function t(e){var r=this;p.each(e,function(t){if(!t){return}if(t.offset>0){r.lineToLabel(t)}})},lineToLabel:function t(){},getLabelPoint:function t(r,e,a){var i=this;var n=i.get("coord");var o=r.text.length;function s(t,e){if(p.isArray(t)){if(r.text.length===1){if(t.length<=2){t=t[t.length-1]}else{t=v(t)}}else{t=t[e]}}return t}var l={text:r.text[a]};if(e&&this.get("geomType")==="polygon"){var u=h(e.x,e.y);l.x=u[0];l.y=u[1]}else{l.x=s(e.x,a);l.y=s(e.y,a)}if(e&&e.nextPoints&&(e.shape==="funnel"||e.shape==="pyramid")){var f=-Infinity;e.nextPoints.forEach(function(t){t=n.convert(t);if(t.x>f){f=t.x}});l.x=(l.x+f)/2}if(e.shape==="pyramid"&&!e.nextPoints&&e.points){e.points.forEach(function(t){t=n.convert(t);if(p.isArray(t.x)&&!e.x.includes(t.x)||p.isNumber(t.x)&&e.x!==t.x){l.x=(l.x+t.x)/2}})}if(r.position){i.setLabelPosition(l,e,a,r.position)}var c=i.getLabelOffset(r,a,o);if(r.offsetX){c.x+=r.offsetX}if(r.offsetY){c.y+=r.offsetY}i.transLabelPoint(l);l.start={x:l.x,y:l.y};l.x+=c.x;l.y+=c.y;l.color=e.color;return l},setLabelPosition:function t(){},transLabelPoint:function t(e){var r=this;var a=r.get("coord");var i=a.applyMatrix(e.x,e.y,1);e.x=i[0];e.y=i[1]},getOffsetVector:function t(e){var r=this;var a=e.offset||0;var i=r.get("coord");var n;if(i.isTransposed){n=i.applyMatrix(a,0)}else{n=i.applyMatrix(0,a)}return n},getDefaultOffset:function t(e){var r=this;var a=0;var i=r.get("coord");var n=r.getOffsetVector(e);if(i.isTransposed){a=n[0]}else{a=n[1]}var o=this.get("yScale");if(o&&e.point){var s=e.point[o.field];if(s<0){a=a*-1}}return a},getLabelOffset:function t(e,r,a){var i=this;var n=i.getDefaultOffset(e);var o=i.get("coord");var s=o.isTransposed;var l=s?"x":"y";var u=s?1:-1;var f={x:0,y:0};if(r>0||a===1){f[l]=n*u}else{f[l]=n*u*-1}return f},getLabelAlign:function t(e,r,a){var i=this;var n="center";var o=i.get("coord");if(o.isTransposed){var s=i.getDefaultOffset(e);if(s<0){n="right"}else if(s===0){n="center"}else{n="left"}if(a>1&&r===0){if(n==="right"){n="left"}else if(n==="left"){n="right"}}}return n},_getLabelValue:function t(a,e){if(!p.isArray(e)){e=[e]}var i=[];p.each(e,function(e){var t=a[e.field];if(p.isArray(t)){var r=[];p.each(t,function(t){r.push(e.getText(t))});t=r}else{t=e.getText(t)}if(p.isNil(t)||t===""){i.push(null)}i.push(t)});return i},_getLabelCfgs:function t(e){var l=this;var u=this.get("labelCfg");var f=u.scales;var c=this.get("label");var v=l.get("viewTheme")||s;var h=[];if(u.globalCfg&&u.globalCfg.type){l.set("type",u.globalCfg.type)}p.each(e,function(t,e){var r={};var a=t[g];var i=l._getLabelValue(a,f);if(u.callback){var n=f.map(function(t){return a[t.field]});r=u.callback.apply(null,[].concat(n,[t,e]))}if(!r&&r!==0){h.push(null);return}if(p.isString(r)||p.isNumber(r)){r={text:r}}else{r.text=r.content||i[0];delete r.content}r=p.mix({},c,u.globalCfg||{},r);t.point=a;r.point=a;if(r.htmlTemplate){r.useHtml=true;r.text=r.htmlTemplate.call(null,r.text,t,e);delete r.htmlTemplate}if(r.formatter){r.text=r.formatter.call(null,r.text,t,e);delete r.formatter}if(r.label){var o=r.label;delete r.label;r=p.mix(r,o)}if(r.textStyle){delete r.textStyle.offset;var s=r.textStyle;if(p.isFunction(s)){r.textStyle=s.call(null,r.text,t,e)}}if(r.labelLine){r.labelLine=p.mix({},c.labelLine,r.labelLine)}r.textStyle=p.mix({},c.textStyle,v.label.textStyle,r.textStyle);delete r.items;h.push(r)});this.set("labelItemCfgs",h)},showLabels:function t(e,r){var a=this;var i=a.get("labelRenderer");var n=a.getLabelsItems(e,r);r=[].concat(r);var o=a.get("type");n=a.adjustItems(n,r);a.drawLines(n);i.set("items",n.filter(function(t,e){if(!t){r.splice(e,1);return false}return true}));if(o){i.set("shapes",r);i.set("type",o);i.set("points",e)}i.set("canvas",this.get("canvas"));i.draw()},destroy:function t(){this.get("labelRenderer").destroy();u.superclass.destroy.call(this)}});t.exports=u},function(t,e,r){function o(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(54);var s=r(3);var n=function(n){a(e,n);var t=e.prototype;t.getDefaultCfg=function t(){return{}};function e(t){var e;e=n.call(this)||this;var r=o(e);var a={visible:true};var i=r.getDefaultCfg();r._attrs=a;s.deepMix(a,i,t);return e}t.get=function t(e){return this._attrs[e]};t.set=function t(e,r){this._attrs[e]=r};t.changeVisible=function t(){};t.destroy=function t(){var e=this;e._attrs={};e.removeAllListeners();e.destroyed=true};return e}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var y=r(3);var i=r(158);var l=r(328);var n=r(14),o=n.FONT_FAMILY;var c=8;var u=y.Event;var f=y.Group;var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return y.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:o},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:true,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})};e._calStartPoint=function t(){var e={x:10,y:this.get("titleGap")-c};var r=this.get("titleShape");if(r){var a=r.getBBox();e.y+=a.height}return e};e.beforeRender=function t(){var e=this.get("items");if(!y.isArray(e)||y.isEmpty(e)){return}r.prototype.beforeRender.call(this);this.set("firstItem",e[0]);this.set("lastItem",e[e.length-1])};e._formatItemValue=function t(e){var r=this.get("formatter")||this.get("itemFormatter");if(r){e=r.call(this,e)}return e};e.render=function t(){r.prototype.render.call(this);if(this.get("slidable")){this._renderSlider()}else{this._renderUnslidable()}};e._renderSlider=function t(){var e=new f;var r=new f;var a=new f;var i=this._calStartPoint();var n=this.get("group");var o=n.addGroup(l,{minHandleElement:e,maxHandleElement:r,backgroundElement:a,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});o.translate(i.x,i.y);this.set("slider",o);var s=this._renderSliderShape();s.attr("clip",o.get("middleHandleElement"));this._renderTrigger()};e._addMiddleBar=function t(e,r,a){e.addShape(r,{attrs:y.mix({},a,this.get("middleBackgroundStyle"))});return e.addShape(r,{attrs:a})};e._renderTrigger=function t(){var e=this.get("firstItem");var r=this.get("lastItem");var a=this.get("layout");var i=this.get("textStyle");var n=this.get("triggerAttr");var o=y.mix({},n);var s=y.mix({},n);var l=y.mix({text:this._formatItemValue(e.value)+""},i);var u=y.mix({text:this._formatItemValue(r.value)+""},i);if(a==="vertical"){this._addVerticalTrigger("min",o,l);this._addVerticalTrigger("max",s,u)}else{this._addHorizontalTrigger("min",o,l);this._addHorizontalTrigger("max",s,u)}};e._addVerticalTrigger=function t(e,r,a){var i=this.get("slider");var n=i.get(e+"HandleElement");var o=this.get("width");var s=n.addShape("rect",{attrs:y.mix({x:o/2-c-2,y:e==="min"?0:-c,width:2*c+2,height:c},r)});var l=n.addShape("text",{attrs:y.mix(a,{x:o+this.get("textOffset"),y:e==="max"?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})});var u=this.get("layout");var f=u==="vertical"?"ns-resize":"ew-resize";s.attr("cursor",f);l.attr("cursor",f);this.set(e+"ButtonElement",s);this.set(e+"TextElement",l)};e._addHorizontalTrigger=function t(e,r,a){var i=this.get("slider");var n=i.get(e+"HandleElement");var o=n.addShape("rect",{attrs:y.mix({x:e==="min"?-c:0,y:-c-this.get("height")/2,width:c,height:2*c},r)});var s=n.addShape("text",{attrs:y.mix(a,{x:e==="min"?-c-4:c+4,y:c/2+this.get("textOffset")+10,textAlign:e==="min"?"end":"start",textBaseline:"middle"})});var l=this.get("layout");var u=l==="vertical"?"ns-resize":"ew-resize";o.attr("cursor",u);s.attr("cursor",u);this.set(e+"ButtonElement",o);this.set(e+"TextElement",s)};e._bindEvents=function t(){var s=this;if(this.get("slidable")){var e=this.get("slider");e.on("sliderchange",function(t){var e=t.range;var r=s.get("firstItem").value;var a=s.get("lastItem").value;var i=r+e[0]/100*(a-r);var n=r+e[1]/100*(a-r);s._updateElement(i,n);var o=new u("itemfilter",t,true,true);o.range=[i,n];s.emit("itemfilter",o)})}if(this.get("hoverable")){this.get("group").on("mousemove",y.wrapBehavior(this,"_onMouseMove"));this.get("group").on("mouseleave",y.wrapBehavior(this,"_onMouseLeave"))}};e._updateElement=function t(e,r){var a=this.get("minTextElement");var i=this.get("maxTextElement");if(r>1){e=parseInt(e,10);r=parseInt(r,10)}a.attr("text",this._formatItemValue(e)+"");i.attr("text",this._formatItemValue(r)+"")};e._onMouseLeave=function t(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var r=this.get("group").findById("hoverText");r&&r.destroy();this.get("canvas").draw()};e._onMouseMove=function t(e){var r=this.get("height");var a=this.get("width");var i=this.get("items");var n=this.get("canvas").get("el");var o=n.getBoundingClientRect();var s=this.get("group").getBBox();var l;if(this.get("layout")==="vertical"){var u=5;if(this.get("type")==="color-legend"){u=30}var f=this.get("titleGap");var c=this.get("titleShape");if(c)f+=c.getBBox().maxY-c.getBBox().minY;var v=e.clientY||e.event.clientY;v=v-o.y-this.get("group").attr("matrix")[7]+s.y-u+f;l=i[0].value+(1-v/r)*(i[i.length-1].value-i[0].value)}else{var h=e.clientX||e.event.clientX;h=h-o.x-this.get("group").attr("matrix")[6];l=i[0].value+h/a*(i[i.length-1].value-i[0].value)}l=l.toFixed(2);this.activate(l);this.emit("mousehover",{value:l})};e.activate=function t(e){if(!e){return}var r=this.get("group").findById("hoverPointer");var a=this.get("group").findById("hoverText");var i=this.get("items");if(e<i[0].value||e>i[i.length-1].value){return}var n=this.get("height");var o=this.get("width");var s=this.get("titleShape");var l=this.get("titleGap");var u=[];var f=(e-i[0].value)/(i[i.length-1].value-i[0].value);var c;if(this.get("layout")==="vertical"){var v=0,h=0;if(this.get("type")==="color-legend"){v=l;if(s)v+=s.getBBox().height}if(this.get("slidable")){if(this.get("type")==="color-legend"){v-=13}else{v=l-15;if(s)v+=s.getBBox().height}h+=10}f=(1-f)*n;u=[[h,f+v],[h-10,f+v-5],[h-10,f+v+5]];c=y.mix({},{x:o+this.get("textOffset")/2+h,y:f+v,text:this._formatItemValue(e)+""},this.get("textStyle"),{textAlign:"start"})}else{var p=0,g=0;if(this.get("type")==="color-legend"){p=l;if(s)p+=s.getBBox().height}if(this.get("slidable")){if(this.get("type")==="color-legend"){p-=7}else{p=l;if(!s)p-=7}g+=10}f*=o;u=[[f+g,p],[f+g-5,p-10],[f+g+5,p-10]];c=y.mix({},{x:f-5,y:n+this.get("textOffset")+p,text:this._formatItemValue(e)+""},this.get("textStyle"))}var d=y.mix(c,this.get("hoverTextStyle"));if(!a){a=this.get("group").addShape("text",{attrs:d});a.set("id","hoverText")}else{a.attr(d)}if(!r){r=this.get("group").addShape("Polygon",{attrs:y.mix({points:u},this.get("pointerStyle"))});r.set("id","hoverPointer")}else{r.attr(y.mix({points:u},this.get("pointerStyle")))}this.get("canvas").draw()};e.deactivate=function t(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var r=this.get("group").findById("hoverText");r&&r.destroy();this.get("canvas").draw()};return t}(i);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(67);var o=r(3);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return o.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:true,plotRange:null,offset:10,timeStamp:0,inPlot:true,crosshairs:null})};e.isContentChange=function t(e,r){var a=this.get("titleContent");var i=this.get("items");var n=!(e===a&&i.length===r.length);if(!n){o.each(r,function(t,e){var r=i[e];for(var a in t){if(t.hasOwnProperty(a)){if(!o.isObject(t[a])&&t[a]!==r[a]){n=true;break}}}if(n){return false}})}return n};e.setContent=function t(e,r){var a=(new Date).valueOf();this.set("items",r);this.set("titleContent",e);this.set("timeStamp",a);this.render();return this};e.setPosition=function t(e,r){this.set("x",e);this.set("y",r)};e.render=function t(){};e.clear=function t(){};e.show=function t(){this.set("visible",true)};e.hide=function t(){this.set("visible",false)};return t}(i);t.exports=n},function(t,e,r){"use strict";r.d(e,"c",function(){return D});e["a"]=F;var a=r(403);var i=r(404);var n=r(405);var o=r(406);var s=r(383);var l=r(408);var u=r(409);var f=r(410);var c=r(411);var v=r(412);var h=r(413);var p=r(414);var g=r(415);var d=r(416);var y=r(417);var m=r(418);var x=r(419);var b=r(385);var _=r(420);var w=r(421);var S=r(422);var M=r(423);var C=r(424);var k=r(425);var A=r(426);var P=r(427);var I=r(428);var T=r(429);var O=r(430);var L=r(375);var E=r(431);var D=[null];function F(t,e){this._groups=t;this._parents=e}function B(){return new F([[document.documentElement]],D)}F.prototype=B.prototype={constructor:F,select:a["a"],selectAll:i["a"],filter:n["a"],data:o["a"],enter:s["b"],exit:l["a"],join:u["a"],merge:f["a"],order:c["a"],sort:v["a"],call:h["a"],nodes:p["a"],node:g["a"],size:d["a"],empty:y["a"],each:m["a"],attr:x["a"],style:b["a"],property:_["a"],classed:w["a"],text:S["a"],html:M["a"],raise:C["a"],lower:k["a"],append:A["a"],insert:P["a"],remove:I["a"],clone:T["a"],datum:O["a"],on:L["b"],dispatch:E["a"]};e["b"]=B},function(t,e,r){var a=r(10);var i=r(80);t.exports={toTimeStamp:function t(e){if(a(e)){if(e.indexOf("T")>0){e=new Date(e).getTime()}else{e=new Date(e.replace(/-/gi,"/")).getTime()}}if(i(e)){e=e.getTime()}return e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=r(402);r.d(e,"create",function(){return a["a"]});var i=r(361);r.d(e,"creator",function(){return i["a"]});var n=r(432);r.d(e,"local",function(){return n["a"]});var o=r(382);r.d(e,"matcher",function(){return o["a"]});var s=r(433);r.d(e,"mouse",function(){return s["a"]});var l=r(371);r.d(e,"namespace",function(){return l["a"]});var u=r(372);r.d(e,"namespaces",function(){return u["a"]});var f=r(362);r.d(e,"clientPoint",function(){return f["a"]});var c=r(380);r.d(e,"select",function(){return c["a"]});var v=r(434);r.d(e,"selectAll",function(){return v["a"]});var h=r(70);r.d(e,"selection",function(){return h["b"]});var p=r(373);r.d(e,"selector",function(){return p["a"]});var g=r(381);r.d(e,"selectorAll",function(){return g["a"]});var d=r(385);r.d(e,"style",function(){return d["b"]});var y=r(435);r.d(e,"touch",function(){return y["a"]});var m=r(436);r.d(e,"touches",function(){return m["a"]});var x=r(374);r.d(e,"window",function(){return x["a"]});var b=r(375);r.d(e,"event",function(){return b["c"]});r.d(e,"customEvent",function(){return b["a"]})},function(t,e,r){t.exports={Position:r(293),Color:r(294),Shape:r(295),Size:r(296),Opacity:r(297),ColorUtil:r(149)}},function(t,e,r){var a=r(75);var i=r(17);i.Linear=r(33);i.Identity=r(176);i.Cat=r(77);i.Time=r(177);i.TimeCat=r(179);i.Log=r(180);i.Pow=r(181);var n=function t(e){if(i.hasOwnProperty(e)){var r=a(e);i[r]=function(t){return new i[e](t)}}};for(var o in i){n(o)}var s=["cat","timeCat"];i.isCategory=function(t){return s.indexOf(t)>=0};t.exports=i},function(t,e,r){var a=r(24);var i=function t(e){var r=a(e);return r.charAt(0).toLowerCase()+r.substring(1)};t.exports=i},function(t,e){var u=12;function f(t){var e=1;if(t===Infinity||t===-Infinity){throw new Error("Not support Infinity!")}if(t<1){var r=0;while(t<1){e=e/10;t=t*10;r++}if(e.toString().length>u){e=parseFloat(e.toFixed(r))}}else{while(t>10){e=e*10;t=t/10}}return e}function o(t,e){var r=t.length;if(r===0){return NaN}var a=t[0];if(e<t[0]){return NaN}if(e>=t[r-1]){return t[r-1]}for(var i=1;i<t.length;i++){if(e<t[i]){break}a=t[i]}return a}function s(t,e){var r=t.length;if(r===0){return NaN}var a;if(e>t[r-1]){return NaN}if(e<t[0]){return t[0]}for(var i=1;i<t.length;i++){if(e<=t[i]){a=t[i];break}}return a}var c={snapFactorTo:function t(e,r,a){if(isNaN(e)){return NaN}var i=1;if(e!==0){if(e<0){i=-1}e=e*i;var n=f(e);i=i*n;e=e/n}if(a==="floor"){e=c.snapFloor(r,e)}else if(a==="ceil"){e=c.snapCeiling(r,e)}else{e=c.snapTo(r,e)}var o=parseFloat((e*i).toPrecision(u));if(Math.abs(i)<1&&o.toString().length>u){var s=parseInt(1/i);var l=i>0?1:-1;o=e/s*l}return o},snapMultiple:function t(e,r,a){var i;if(a==="ceil"){i=Math.ceil(e/r)}else if(a==="floor"){i=Math.floor(e/r)}else{i=Math.round(e/r)}return i*r},snapTo:function t(e,r){var a=o(e,r);var i=s(e,r);if(isNaN(a)||isNaN(i)){if(e[0]>=r){return e[0]}var n=e[e.length-1];if(n<=r){return n}}if(Math.abs(r-a)<Math.abs(i-r)){return a}return i},snapFloor:function t(e,r){return o(e,r)},snapCeiling:function t(e,r){return s(e,r)},fixedBase:function t(e,r){var a=r.toString();var i=a.indexOf(".");var n=a.indexOf("e-");if(i<0&&n<0){return Math.round(e)}var o=n>=0?parseInt(a.substr(n+2),10):a.substr(i+1).length;if(o>20){o=20}return parseFloat(e.toFixed(o))}};t.exports=c},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(17);var o=r(78);var s=r(2);var n=r(9);var l=r(10);var u=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e._initDefaultCfg=function t(){r.prototype._initDefaultCfg.call(this);this.type="cat";this.isCategory=true;this.isRounding=true};e.init=function t(){var e=this;var r=e.values;var a=e.tickCount;s(r,function(t,e){r[e]=t.toString()});if(!e.ticks){var i=r;if(a){var n=o({maxCount:a,data:r,isRounding:e.isRounding});i=n.ticks}this.ticks=i}};e.getText=function t(e){if(this.values.indexOf(e)===-1&&n(e)){e=this.values[Math.round(e)]}return r.prototype.getText.call(this,e)};e.translate=function t(e){var r=this.values.indexOf(e);if(r===-1&&n(e)){r=e}else if(r===-1){r=NaN}return r};e.scale=function t(e){var r=this.rangeMin();var a=this.rangeMax();var i;if(l(e)||this.values.indexOf(e)!==-1){e=this.translate(e)}if(this.values.length>1){i=e/(this.values.length-1)}else{i=e}return r+i*(a-r)};e.invert=function t(e){if(l(e)){return e}var r=this.rangeMin();var a=this.rangeMax();if(e<r){e=r}if(e>a){e=a}var i=(e-r)/(a-r);var n=Math.round(i*(this.values.length-1))%this.values.length;n=n||0;return this.values[n]};return t}(i);i.Cat=u;t.exports=u},function(t,e,r){var a=r(2);var h=8;var p=4;function g(t){var e=[];a(t,function(t){e=e.concat(t)});return e}function d(t,e){var r;for(r=e;r>0;r--){if(t%r===0){break}}if(r===1){for(r=e;r>0;r--){if((t-1)%r===0){break}}}return r}t.exports=function(t){var e={};var r=[];var a=t.isRounding;var i=g(t.data);var n=i.length;var o=t.maxCount||h;var s;if(a){s=d(n-1,o-1)+1;if(s===2){s=o}else if(s<o-p){s=o-p}}else{s=o}if(!a&&n<=s+s/2){r=[].concat(i)}else{var l=parseInt(n/(s-1),10);var u=i.map(function(t,e){return e%l===0?i.slice(e,e+l):null}).filter(function(t){return t});for(var f=1,c=u.length;f<c&&(a?f*l<n-l:f<s-1);f++){r.push(u[f][0])}if(i.length){r.unshift(i[0]);var v=i[n-1];if(r.indexOf(v)===-1){r.push(v)}}}e.categories=i;e.ticks=r;return e}},function(m,x,b){var _;(function(t){"use strict";var l={};var u=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g;var e=/\d\d?/;var r=/\d{3}/;var a=/\d{4}/;var i=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var n=/\[([^]*?)\]/gm;var o=function(){};function s(t,e){var r=[];for(var a=0,i=t.length;a<i;a++){r.push(t[a].substr(0,e))}return r}function f(i){return function(t,e,r){var a=r[i].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());if(~a){t.month=a}}}function c(t,e){t=String(t);e=e||2;while(t.length<e){t="0"+t}return t}var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var h=["January","February","March","April","May","June","July","August","September","October","November","December"];var p=s(h,3);var g=s(v,3);l.i18n={dayNamesShort:g,dayNames:v,monthNamesShort:p,monthNames:h,amPm:["am","pm"],DoFn:function t(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}};var d={D:function(t){return t.getDate()},DD:function(t){return c(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return c(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return c(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return c(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return c(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return c(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return c(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return c(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return c(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return c(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+c(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}};var y={D:[e,function(t,e){t.day=e}],Do:[new RegExp(e.source+i.source),function(t,e){t.day=parseInt(e,10)}],M:[e,function(t,e){t.month=e-1}],YY:[e,function(t,e){var r=new Date,a=+(""+r.getFullYear()).substr(0,2);t.year=""+(e>68?a-1:a)+e}],h:[e,function(t,e){t.hour=e}],m:[e,function(t,e){t.minute=e}],s:[e,function(t,e){t.second=e}],YYYY:[a,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=e*100}],SS:[/\d{2}/,function(t,e){t.millisecond=e*10}],SSS:[r,function(t,e){t.millisecond=e}],d:[e,o],ddd:[i,o],MMM:[i,f("monthNamesShort")],MMMM:[i,f("monthNames")],a:[i,function(t,e,r){var a=e.toLowerCase();if(a===r.amPm[0]){t.isPm=false}else if(a===r.amPm[1]){t.isPm=true}}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){if(e==="Z")e="+00:00";var r=(e+"").match(/([\+\-]|\d\d)/gi),a;if(r){a=+(r[1]*60)+parseInt(r[2],10);t.timezoneOffset=r[0]==="+"?a:-a}}]};y.dd=y.d;y.dddd=y.ddd;y.DD=y.D;y.mm=y.m;y.hh=y.H=y.HH=y.h;y.MM=y.M;y.ss=y.s;y.A=y.a;l.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};l.format=function(e,t,r){var a=r||l.i18n;if(typeof e==="number"){e=new Date(e)}if(Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime())){throw new Error("Invalid Date in fecha.format")}t=l.masks[t]||t||l.masks["default"];var i=[];t=t.replace(n,function(t,e){i.push(e);return"??"});t=t.replace(u,function(t){return t in d?d[t](e,a):t.slice(1,t.length-1)});return t.replace(/\?\?/g,function(){return i.shift()})};l.parse=function(a,t,e){var i=e||l.i18n;if(typeof t!=="string"){throw new Error("Invalid format in fecha.parse")}t=l.masks[t]||t;if(a.length>1e3){return false}var n=true;var o={};t.replace(u,function(t){if(y[t]){var e=y[t];var r=a.search(e[0]);if(!~r){n=false}else{a.replace(e[0],function(t){e[1](o,t,i);a=a.substr(r+t.length);return t})}}return y[t]?"":t.slice(1,t.length-1)});if(!n){return false}var r=new Date;if(o.isPm===true&&o.hour!=null&&+o.hour!==12){o.hour=+o.hour+12}else if(o.isPm===false&&+o.hour===12){o.hour=0}var s;if(o.timezoneOffset!=null){o.minute=+(o.minute||0)-+o.timezoneOffset;s=new Date(Date.UTC(o.year||r.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))}else{s=new Date(o.year||r.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0)}return s};if(typeof m!=="undefined"&&m.exports){m.exports=l}else if(true){!(_=function(){return l}.call(x,b,x,m),_!==undefined&&(m.exports=_))}else{t.fecha=l}})(this)},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Date")};t.exports=i},function(t,e,r){t.exports={isFunction:r(11),isObject:r(25),isBoolean:r(82),isNil:r(5),isString:r(10),isArray:r(4),isNumber:r(9),isEmpty:r(83),uniqueId:r(86),clone:r(47),deepMix:r(48),assign:r(8),merge:r(48),upperFirst:r(87),each:r(2),isEqual:r(50),toArray:r(34),extend:r(88),augment:r(89),remove:r(90),isNumberEqual:r(35),toRadian:r(91),toDegree:r(92),mod:r(93),clamp:r(51),createDom:r(94),modifyCSS:r(95),requestAnimationFrame:r(96),getRatio:function t(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:r(52),vec2:r(97),vec3:r(98),transform:r(99)}},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Boolean")};t.exports=i},function(t,e,r){var a=r(5);var i=r(13);var n=r(84);var o=r(85);var s=Object.prototype.hasOwnProperty;function l(t){if(a(t)){return true}if(i(t)){return!t.length}var e=n(t);if(e==="Map"||e==="Set"){return!t.size}if(o(t)){return!Object.keys(t).length}for(var r in t){if(s.call(t,r)){return false}}return true}t.exports=l},function(t,e){var r={}.toString;var a=function t(e){return r.call(e).replace(/^\[object /,"").replace(/\]$/,"")};t.exports=a},function(t,e){var i=Object.prototype;var r=function t(e){var r=e&&e.constructor;var a=typeof r==="function"&&r.prototype||i;return e===a};t.exports=r},function(t,e){var r=function(){var e={};return function(t){t=t||"g";if(!e[t]){e[t]=1}else{e[t]+=1}return t+e[t]}}();t.exports=r},function(t,e,r){var a=r(24);var i=function t(e){var r=a(e);return r.charAt(0).toUpperCase()+r.substring(1)};t.exports=i},function(t,e,r){var s=r(11);var l=r(8);var a=function t(e,r,a,i){if(!s(r)){a=r;r=e;e=function t(){}}var n=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function r(){}r.prototype=t;var a=new r;a.constructor=e;return a};var o=n(r.prototype,e);e.prototype=l(o,e.prototype);e.superclass=n(r.prototype,r);l(o,a);l(e,i);return e};t.exports=a},function(t,e,r){var n=r(11);var o=r(34);var s=r(8);var a=function t(e){var r=o(arguments);for(var a=1;a<r.length;a++){var i=r[a];if(n(i)){i=i.prototype}s(e.prototype,i)}};t.exports=a},function(t,e){var r=Array.prototype;var o=r.splice;var s=r.indexOf;var l=r.slice;var a=function t(e){var r=l.call(arguments,1);for(var a=0;a<r.length;a++){var i=r[a];var n=-1;while((n=s.call(e,i))>-1){o.call(e,n,1)}}return e};t.exports=a},function(t,e){var r=Math.PI/180;var a=function t(e){return r*e};t.exports=a},function(t,e){var r=180/Math.PI;var a=function t(e){return r*e};t.exports=a},function(t,e){var r=function t(e,r){return(e%r+r)%r};t.exports=r},function(t,e){var r=document.createElement("table");var a=document.createElement("tr");var n=/^\s*<(\w+|!)[^>]*>/;var o={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:a,th:a,"*":document.createElement("div")};t.exports=function t(e){var r=n.test(e)&&RegExp.$1;if(!(r in o)){r="*"}var a=o[r];e=e.replace(/(^\s*)|(\s*$)/g,"");a.innerHTML=""+e;var i=a.childNodes[0];a.removeChild(i);return i}},function(t,e){t.exports=function t(e,r){if(e){for(var a in r){if(r.hasOwnProperty(a)){e.style[a]=r[a]}}}return e}},function(t,e){t.exports=function t(e){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)};return r(e)}},function(t,e,r){var n=r(184);var a=r(51);n.angle=function(t,e){var r=n.dot(t,e)/(n.length(t)*n.length(e));return Math.acos(a(r,-1,1))};n.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]};n.angleTo=function(t,e,r){var a=n.angle(t,e);var i=n.direction(t,e)>=0;if(r){if(i){return Math.PI*2-a}return a}if(i){return a}return Math.PI*2-a};n.vertical=function(t,e,r){if(r){t[0]=e[1];t[1]=-1*e[0]}else{t[0]=-1*e[1];t[1]=e[0]}return t};t.exports=n},function(t,e,r){var a=r(185);t.exports=a},function(t,e,r){var a=r(47);var i=r(2);var n=r(52);t.exports=function t(e,r){e=a(e);i(r,function(t){switch(t[0]){case"t":n.translate(e,e,[t[1],t[2]]);break;case"s":n.scale(e,e,[t[1],t[2]]);break;case"r":n.rotate(e,e,t[1]);break;case"m":n.multiply(e,e,t[1]);break;default:return false}});return e}},function(t,e,r){var a=r(1);var i=function t(e,r,a,i){this.type=e;this.target=null;this.currentTarget=null;this.bubbles=a;this.cancelable=i;this.timeStamp=(new Date).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.removed=false;this.event=r};a.augment(i,{preventDefault:function t(){this.defaultPrevented=this.cancelable&&true},stopPropagation:function t(){this.propagationStopped=true},remove:function t(){this.remove=true},clone:function t(){return a.clone(this)},toString:function t(){return"[Event (type="+this.type+")]"}});t.exports=i},function(t,e,r){var l=r(1);var a=r(102);var u=r(189);var f={};var i="_INDEX";function n(a){return function(t,e){var r=a(t,e);return r===0?t[i]-e[i]:r}}function c(t,e,r){var a;for(var i=t.length-1;i>=0;i--){var n=t[i];if(n._cfg.visible&&n._cfg.capture){if(n.isGroup){a=n.getShape(e,r)}else if(n.isHit(e,r)){a=n}}if(a){break}}return a}var o=function t(e){t.superclass.constructor.call(this,e);this.set("children",[]);this.set("tobeRemoved",[]);this._beforeRenderUI();this._renderUI();this._bindUI()};function s(t){if(t._cfg||t===o){return}var e=t.superclass.constructor;if(e&&!e._cfg){s(e)}t._cfg={};l.merge(t._cfg,e._cfg);l.merge(t._cfg,t.CFG)}l.extend(o,a);l.augment(o,{isGroup:true,type:"group",canFill:true,canStroke:true,getDefaultCfg:function t(){s(this.constructor);return l.merge({},this.constructor._cfg)},_beforeRenderUI:function t(){},_renderUI:function t(){},_bindUI:function t(){},addShape:function t(e,r){var a=this.get("canvas");r=r||{};var i=f[e];if(!i){i=l.upperFirst(e);f[e]=i}if(r.attrs&&a){var n=r.attrs;if(e==="text"){var o=a.get("fontFamily");if(o){n.fontFamily=n.fontFamily?n.fontFamily:o}}}r.canvas=a;r.type=e;var s=new u[i](r);this.add(s);return s},addGroup:function t(e,r){var a=this.get("canvas");var i;r=l.merge({},r);if(l.isFunction(e)){if(r){r.canvas=a;r.parent=this;i=new e(r)}else{i=new e({canvas:a,parent:this})}this.add(i)}else if(l.isObject(e)){e.canvas=a;i=new o(e);this.add(i)}else if(e===undefined){i=new o;this.add(i)}else{return false}return i},renderBack:function t(e,r){var a=this.get("backShape");var i=this.getBBox();l.merge(r,{x:i.minX-e[3],y:i.minY-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2]});if(a){a.attr(r)}else{a=this.addShape("rect",{zIndex:-1,attrs:r})}this.set("backShape",a);this.sort();return a},removeChild:function t(e,r){if(arguments.length>=2){if(this.contain(e)){e.remove(r)}}else{if(arguments.length===1){if(l.isBoolean(e)){r=e}else{if(this.contain(e)){e.remove(true)}return this}}if(arguments.length===0){r=true}o.superclass.remove.call(this,r)}return this},add:function t(e){var r=this;var a=r.get("children");if(l.isArray(e)){l.each(e,function(t){var e=t.get("parent");if(e){e.removeChild(t,false)}r._setCfgProperty(t)});r._cfg.children=a.concat(e)}else{var i=e;var n=i.get("parent");if(n){n.removeChild(i,false)}r._setCfgProperty(i);a.push(i)}return r},_setCfgProperty:function t(e){var r=this._cfg;e.set("parent",this);e.set("canvas",r.canvas);if(r.timeline){e.set("timeline",r.timeline)}},contain:function t(e){var r=this.get("children");return r.indexOf(e)>-1},getChildByIndex:function t(e){var r=this.get("children");return r[e]},getFirst:function t(){return this.getChildByIndex(0)},getLast:function t(){var e=this.get("children").length-1;return this.getChildByIndex(e)},getBBox:function t(){var e=this;var f=Infinity;var c=-Infinity;var v=Infinity;var h=-Infinity;var r=e.get("children");if(r.length>0){l.each(r,function(t){if(t.get("visible")){if(t.isGroup&&t.get("children").length===0){return}var e=t.getBBox();if(!e){return true}var r=[e.minX,e.minY,1];var a=[e.minX,e.maxY,1];var i=[e.maxX,e.minY,1];var n=[e.maxX,e.maxY,1];t.apply(r);t.apply(a);t.apply(i);t.apply(n);var o=Math.min(r[0],a[0],i[0],n[0]);var s=Math.max(r[0],a[0],i[0],n[0]);var l=Math.min(r[1],a[1],i[1],n[1]);var u=Math.max(r[1],a[1],i[1],n[1]);if(o<f){f=o}if(s>c){c=s}if(l<v){v=l}if(u>h){h=u}}})}else{f=0;c=0;v=0;h=0}var a={minX:f,minY:v,maxX:c,maxY:h};a.x=a.minX;a.y=a.minY;a.width=a.maxX-a.minX;a.height=a.maxY-a.minY;return a},getCount:function t(){return this.get("children").length},sort:function t(){var e=this.get("children");l.each(e,function(t,e){t[i]=e;return t});e.sort(n(function(t,e){return t.get("zIndex")-e.get("zIndex")}));return this},findById:function t(e){return this.find(function(t){return t.get("id")===e})},find:function t(e){if(l.isString(e)){return this.findById(e)}var r=this.get("children");var a=null;l.each(r,function(t){if(e(t)){a=t}else if(t.find){a=t.find(e)}if(a){return false}});return a},findAll:function t(e){var r=this.get("children");var a=[];var i=[];l.each(r,function(t){if(e(t)){a.push(t)}if(t.findAllBy){i=t.findAllBy(e);a=a.concat(i)}});return a},findBy:function t(e){var r=this.get("children");var a=null;l.each(r,function(t){if(e(t)){a=t}else if(t.findBy){a=t.findBy(e)}if(a){return false}});return a},findAllBy:function t(e){var r=this.get("children");var a=[];var i=[];l.each(r,function(t){if(e(t)){a.push(t)}if(t.findAllBy){i=t.findAllBy(e);a=a.concat(i)}});return a},getShape:function t(e,r){var a=this;var i=a._attrs.clip;var n=a._cfg.children;var o;if(i){var s=[e,r,1];i.invert(s,a.get("canvas"));if(i.isPointInPath(s[0],s[1])){o=c(n,e,r)}}else{o=c(n,e,r)}return o},clearTotalMatrix:function t(){var e=this.get("totalMatrix");if(e){this.setSilent("totalMatrix",null);var r=this._cfg.children;for(var a=0;a<r.length;a++){var i=r[a];i.clearTotalMatrix()}}},clear:function t(e){var r=this._cfg.children;for(var a=r.length-1;a>=0;a--){r[a].remove(true,e)}this._cfg.children=[];return this},destroy:function t(){if(this.get("destroyed")){return}this.clear();o.superclass.destroy.call(this)},clone:function e(){var t=this;var r=t._cfg.children;var e=new o;l.each(r,function(t){e.add(t.clone())});return e}});t.exports=o},function(t,e,r){var s=r(1);var a=r(186);var i=r(187);var n=r(188);var o=r(54);var l=function t(e){this._cfg={zIndex:0,capture:true,visible:true,destroyed:false};s.assign(this._cfg,this.getDefaultCfg(),e);this.initAttrs(this._cfg.attrs);this._cfg.attrs={};this.initTransform();this.init()};l.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:true,context:null,visible:true,destroyed:false};s.augment(l,a,i,o,n,{init:function t(){this.setSilent("animable",true);this.setSilent("animating",false)},getParent:function t(){return this._cfg.parent},getDefaultCfg:function t(){return{}},set:function t(e,r){if(e==="zIndex"&&this._beforeSetZIndex){this._beforeSetZIndex(r)}if(e==="loading"&&this._beforeSetLoading){this._beforeSetLoading(r)}this._cfg[e]=r;return this},setSilent:function t(e,r){this._cfg[e]=r},get:function t(e){return this._cfg[e]},show:function t(){this._cfg.visible=true;return this},hide:function t(){this._cfg.visible=false;return this},remove:function t(e,r){var a=this._cfg;var i=a.parent;var n=a.el;if(i){s.remove(i.get("children"),this)}if(n){if(r){i&&i._cfg.tobeRemoved.push(n)}else{n.parentNode.removeChild(n)}}if(e||e===undefined){this.destroy()}return this},destroy:function t(){var e=this.get("destroyed");if(e){return}this._attrs=null;this.removeEvent();this._cfg={destroyed:true}},toFront:function t(){var e=this._cfg;var r=e.parent;if(!r){return}var a=r._cfg.children;var i=e.el;var n=a.indexOf(this);a.splice(n,1);a.push(this);if(i){i.parentNode.removeChild(i);e.el=null}},toBack:function t(){var e=this._cfg;var r=e.parent;if(!r){return}var a=r._cfg.children;var i=e.el;var n=a.indexOf(this);a.splice(n,1);a.unshift(this);if(i){var o=i.parentNode;o.removeChild(i);o.insertBefore(i,o.firstChild)}},_beforeSetZIndex:function t(e){var r=this._cfg.parent;this._cfg.zIndex=e;if(!s.isNil(r)){r.sort()}var a=this._cfg.el;if(a){var i=r._cfg.children;var n=i.indexOf(this);var o=a.parentNode;o.removeChild(a);if(n===i.length-1){o.appendChild(a)}else{o.insertBefore(a,o.childNodes[n])}}return e},_setAttrs:function t(e){this.attr(e);return e},setZIndex:function t(e){this._cfg.zIndex=e;return this._beforeSetZIndex(e)},clone:function t(){return s.clone(this)},getBBox:function t(){}});t.exports=l},function(t,e,r){var n=r(1);var w=n.vec2;function S(t,e,r,a){var i=1-a;return i*(i*t+2*a*e)+a*a*r}function f(t,e,r,a,i,n,o,s,l){var u;var f=.005;var c=Infinity;var v;var h;var p;var g;var d;var y;var m=1e-4;var x=[o,s];for(g=0;g<1;g+=.05){h=[S(t,r,i,g),S(e,a,n,g)];v=w.squaredDistance(x,h);if(v<c){u=g;c=v}}c=Infinity;for(y=0;y<32;y++){if(f<m){break}var b=u-f;var _=u+f;h=[S(t,r,i,b),S(e,a,n,b)];v=w.squaredDistance(x,h);if(b>=0&&v<c){u=b;c=v}else{p=[S(t,r,i,_),S(e,a,n,_)];d=w.squaredDistance(x,p);if(_<=1&&d<c){u=_;c=d}else{f*=.5}}}if(l){l.x=S(t,r,i,u);l.y=S(e,a,n,u)}return Math.sqrt(c)}function a(t,e,r){var a=t+r-2*e;if(n.isNumberEqual(a,0)){return[.5]}var i=(t-e)/a;if(i<=1&&i>=0){return[i]}return[]}t.exports={at:S,projectPoint:function t(e,r,a,i,n,o,s,l){var u={};f(e,r,a,i,n,o,s,l,u);return u},pointDistance:f,extrema:a}},function(t,e){t.exports={xAt:function t(e,r,a,i,n){return r*Math.cos(e)*Math.cos(n)-a*Math.sin(e)*Math.sin(n)+i},yAt:function t(e,r,a,i,n){return r*Math.sin(e)*Math.cos(n)+a*Math.cos(e)*Math.sin(n)+i},xExtrema:function t(e,r,a){return Math.atan(-a/r*Math.tan(e))},yExtrema:function t(e,r,a){return Math.atan(a/(r*Math.tan(e)))}}},function(t,e,r){var a=r(1);var i=r(6);var c=r(37);var n=r(38);function h(t,e,r){return t+e*Math.cos(r)}function p(t,e,r){return t+e*Math.sin(r)}var o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:false,lineWidth:1,startArrow:false,endArrow:false};a.extend(o,i);a.augment(o,{canStroke:true,type:"arc",getDefaultAttrs:function t(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:false,lineWidth:1,startArrow:false,endArrow:false}},calculateBox:function t(){var e=this._attrs;var r=e.x,a=e.y,i=e.r,n=e.startAngle,o=e.endAngle,s=e.clockwise;var l=this.getHitLineWidth();var u=l/2;var f=c.box(r,a,i,n,o,s);f.minX-=u;f.minY-=u;f.maxX+=u;f.maxY+=u;return f},getStartTangent:function t(){var e=this._attrs;var r=e.x,a=e.y,i=e.startAngle,n=e.r,o=e.clockwise;var s=Math.PI/180;if(o){s*=-1}var l=[];var u=h(r,n,i+s);var f=p(a,n,i+s);var c=h(r,n,i);var v=p(a,n,i);l.push([u,f]);l.push([c,v]);return l},getEndTangent:function t(){var e=this._attrs;var r=e.x,a=e.y,i=e.endAngle,n=e.r,o=e.clockwise;var s=Math.PI/180;var l=[];if(o){s*=-1}var u=h(r,n,i+s);var f=p(a,n,i+s);var c=h(r,n,i);var v=p(a,n,i);l.push([c,v]);l.push([u,f]);return l},createPath:function t(e){var r=this._attrs;var a=r.x,i=r.y,n=r.r,o=r.startAngle,s=r.endAngle,l=r.clockwise;e=e||self.get("context");e.beginPath();e.arc(a,i,n,o,s,l)},afterPath:function t(e){var r=this._attrs;e=e||this.get("context");if(r.startArrow){var a=this.getStartTangent();n.addStartArrow(e,r,a[0][0],a[0][1],a[1][0],a[1][1])}if(r.endArrow){var i=this.getEndTangent();n.addEndArrow(e,r,i[0][0],i[0][1],i[1][0],i[1][1])}}});t.exports=o},function(t,e,r){var a=r(1);var i=r(6);var n=function t(e){t.superclass.constructor.call(this,e)};n.ATTRS={x:0,y:0,r:0,lineWidth:1};a.extend(n,i);a.augment(n,{canFill:true,canStroke:true,type:"circle",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs;var r=e.x;var a=e.y;var i=e.r;var n=this.getHitLineWidth();var o=n/2+i;return{minX:r-o,minY:a-o,maxX:r+o,maxY:a+o}},createPath:function t(e){var r=this._attrs;var a=r.x;var i=r.y;var n=r.r;e.beginPath();e.arc(a,i,n,0,Math.PI*2,false);e.closePath()}});t.exports=n},function(t,e,r){var a=r(1);var i=r(6);var n=function t(e){t.superclass.constructor.call(this,e)};a.extend(n,i);a.augment(n,{canFill:true,canStroke:true,type:"dom",calculateBox:function t(){var e=this;var r=e._attrs;var a=r.x;var i=r.y;var n=r.width;var o=r.height;var s=this.getHitLineWidth();var l=s/2;return{minX:a-l,minY:i-l,maxX:a+n+l,maxY:i+o+l}}});t.exports=n},function(t,e,r){var c=r(1);var a=r(6);var i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1};c.extend(i,a);c.augment(i,{canFill:true,canStroke:true,type:"ellipse",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs;var r=e.x;var a=e.y;var i=e.rx;var n=e.ry;var o=this.getHitLineWidth();var s=i+o/2;var l=n+o/2;return{minX:r-s,minY:a-l,maxX:r+s,maxY:a+l}},createPath:function t(e){var r=this._attrs;var a=r.x;var i=r.y;var n=r.rx;var o=r.ry;e=e||self.get("context");var s=n>o?n:o;var l=n>o?1:n/o;var u=n>o?o/n:1;var f=[1,0,0,0,1,0,0,0,1];c.mat3.scale(f,f,[l,u]);c.mat3.translate(f,f,[a,i]);e.beginPath();e.save();e.transform(f[0],f[1],f[3],f[4],f[6],f[7]);e.arc(0,0,s,0,Math.PI*2);e.restore();e.closePath()}});t.exports=i},function(t,e,r){var a=r(1);var i=r(6);var m=r(37);var n=function t(e){t.superclass.constructor.call(this,e)};n.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:false,lineWidth:1};a.extend(n,i);a.augment(n,{canFill:true,canStroke:true,type:"fan",getDefaultAttrs:function t(){return{clockwise:false,lineWidth:1,rs:0,re:0}},calculateBox:function t(){var e=this;var r=e._attrs;var a=r.x;var i=r.y;var n=r.rs;var o=r.re;var s=r.startAngle;var l=r.endAngle;var u=r.clockwise;var f=this.getHitLineWidth();var c=m.box(a,i,n,s,l,u);var v=m.box(a,i,o,s,l,u);var h=Math.min(c.minX,v.minX);var p=Math.min(c.minY,v.minY);var g=Math.max(c.maxX,v.maxX);var d=Math.max(c.maxY,v.maxY);var y=f/2;return{minX:h-y,minY:p-y,maxX:g+y,maxY:d+y}},createPath:function t(e){var r=this._attrs;var a=r.x;var i=r.y;var n=r.rs;var o=r.re;var s=r.startAngle;var l=r.endAngle;var u=r.clockwise;var f={x:Math.cos(s)*n+a,y:Math.sin(s)*n+i};var c={x:Math.cos(s)*o+a,y:Math.sin(s)*o+i};var v={x:Math.cos(l)*n+a,y:Math.sin(l)*n+i};e=e||self.get("context");e.beginPath();e.moveTo(f.x,f.y);e.lineTo(c.x,c.y);e.arc(a,i,o,s,l,u);e.lineTo(v.x,v.y);e.arc(a,i,n,l,s,!u);e.closePath()}});t.exports=n},function(t,e,r){var h=r(1);var a=r(6);var i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,img:undefined,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null};h.extend(i,a);h.augment(i,{type:"image",isHitBox:function t(){return false},calculateBox:function t(){var e=this._attrs;if(!this._cfg.attrs||this._cfg.attrs.img!==e.img){this._setAttrImg()}var r=e.x;var a=e.y;var i=e.width;var n=e.height;return{minX:r,minY:a,maxX:r+i,maxY:a+n}},_beforeSetLoading:function t(e){var r=this.get("canvas");if(e===false&&this.get("toDraw")===true){this._cfg.loading=false;r.draw()}return e},_setAttrImg:function t(){var e=this;var r=e._attrs;var a=r.img;if(h.isString(a)){var i=new Image;i.onload=function(){if(e.get("destroyed"))return false;e.attr("imgSrc",a);e.attr("img",i);var t=e.get("callback");if(t){t.call(e)}e.set("loading",false)};i.src=a;i.crossOrigin="Anonymous";e.set("loading",true)}else if(a instanceof Image){if(!r.width){e.attr("width",a.width)}if(!r.height){e.attr("height",a.height)}return a}else if(a instanceof HTMLElement&&h.isString(a.nodeName)&&a.nodeName.toUpperCase()==="CANVAS"){if(!r.width){e.attr("width",Number(a.getAttribute("width")))}if(!r.height){e.attr("height",Number(a.getAttribute("height")))}return a}else if(a instanceof ImageData){if(!r.width){e.attr("width",a.width)}if(!r.height){e.attr("height",a.height)}return a}else{return null}},drawInner:function t(e){if(this._cfg.hasUpdate){this._setAttrImg()}if(this.get("loading")){this.set("toDraw",true);return}this._drawImage(e);this._cfg.hasUpdate=false},_drawImage:function t(e){var r=this._attrs;var a=r.x;var i=r.y;var n=r.img;var o=r.width;var s=r.height;var l=r.sx;var u=r.sy;var f=r.swidth;var c=r.sheight;this.set("toDraw",false);var v=n;if(v instanceof ImageData){v=new Image;v.src=n}if(v instanceof Image||v instanceof HTMLElement&&h.isString(v.nodeName)&&v.nodeName.toUpperCase()==="CANVAS"){if(h.isNil(l)||h.isNil(u)||h.isNil(f)||h.isNil(c)){e.drawImage(v,a,i,o,s);return}if(!h.isNil(l)&&!h.isNil(u)&&!h.isNil(f)&&!h.isNil(c)){e.drawImage(v,l,u,f,c,a,i,o,s);return}}return}});t.exports=i},function(t,e,r){var a=r(1);var i=r(6);var s=r(38);var l=r(36);var n=function t(e){t.superclass.constructor.call(this,e)};n.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:false,endArrow:false};a.extend(n,i);a.augment(n,{canStroke:true,type:"line",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:false,endArrow:false}},calculateBox:function t(){var e=this._attrs;var r=e.x1,a=e.y1,i=e.x2,n=e.y2;var o=this.getHitLineWidth();return l.box(r,a,i,n,o)},createPath:function t(e){var r=this._attrs;var a=r.x1,i=r.y1,n=r.x2,o=r.y2;e=e||self.get("context");e.beginPath();e.moveTo(a,i);e.lineTo(n,o)},afterPath:function t(e){var r=this._attrs;var a=r.x1,i=r.y1,n=r.x2,o=r.y2;e=e||this.get("context");if(r.startArrow){s.addStartArrow(e,r,n,o,a,i)}if(r.endArrow){s.addEndArrow(e,r,a,i,n,o)}},getPoint:function t(e){var r=this._attrs;return{x:l.at(r.x1,r.x2,e),y:l.at(r.y1,r.y2,e)}}});t.exports=n},function(t,e,r){var f=r(1);var a=r(6);var u=r(39);var c=r(27);var l=r(38);var i=r(58);var v=r(56);var n=function t(e){t.superclass.constructor.call(this,e)};n.ATTRS={path:null,lineWidth:1,startArrow:false,endArrow:false};f.extend(n,a);f.augment(n,{canFill:true,canStroke:true,type:"path",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:false,endArrow:false}},_afterSetAttrPath:function t(e){var r=this;if(f.isNil(e)){r.setSilent("segments",null);r.setSilent("box",undefined);return}var a=c.parsePath(e);var i;var n=[];if(!f.isArray(a)||a.length===0||a[0][0]!=="M"&&a[0][0]!=="m"){return}var o=a.length;for(var s=0;s<a.length;s++){var l=a[s];i=new u(l,i,s===o-1);n.push(i)}r.setSilent("segments",n);r.setSilent("tCache",null);r.setSilent("box",null)},calculateBox:function t(){var e=this;var r=e.get("segments");if(!r){return null}var a=this.getHitLineWidth();var i=Infinity;var n=-Infinity;var o=Infinity;var s=-Infinity;f.each(r,function(t){t.getBBox(a);var e=t.box;if(e){if(e.minX<i){i=e.minX}if(e.maxX>n){n=e.maxX}if(e.minY<o){o=e.minY}if(e.maxY>s){s=e.maxY}}});if(i===Infinity||o===Infinity){return{minX:0,minY:0,maxX:0,maxY:0}}return{minX:i,minY:o,maxX:n,maxY:s}},_setTcache:function t(){var r=0;var a=0;var i=[];var n;var o;var s;var l;var u=this._cfg.curve;if(!u){return}f.each(u,function(t,e){s=u[e+1];l=t.length;if(s){r+=v.len(t[l-2],t[l-1],s[1],s[2],s[3],s[4],s[5],s[6])}});f.each(u,function(t,e){s=u[e+1];l=t.length;if(s){n=[];n[0]=a/r;o=v.len(t[l-2],t[l-1],s[1],s[2],s[3],s[4],s[5],s[6]);a+=o;n[1]=a/r;i.push(n)}});this._cfg.tCache=i},_calculateCurve:function t(){var e=this;var r=e._attrs;var a=r.path;this._cfg.curve=i.pathTocurve(a)},getStartTangent:function t(){var e=this.get("segments");var r,a,i,n;if(e.length>1){r=e[0].endPoint;a=e[1].endPoint;i=e[1].startTangent;n=[];if(f.isFunction(i)){var o=i();n.push([r.x-o[0],r.y-o[1]]);n.push([r.x,r.y])}else{n.push([a.x,a.y]);n.push([r.x,r.y])}}return n},getEndTangent:function t(){var e=this.get("segments");var r=e.length;var a,i,n,o;if(r>1){a=e[r-2].endPoint;i=e[r-1].endPoint;n=e[r-1].endTangent;o=[];if(f.isFunction(n)){var s=n();o.push([i.x-s[0],i.y-s[1]]);o.push([i.x,i.y])}else{o.push([a.x,a.y]);o.push([i.x,i.y])}}return o},getPoint:function t(r){var e=this._cfg.tCache;var a;var i;if(!e){this._calculateCurve();this._setTcache();e=this._cfg.tCache}var n=this._cfg.curve;if(!e){if(n){return{x:n[0][1],y:n[0][2]}}return null}f.each(e,function(t,e){if(r>=t[0]&&r<=t[1]){a=(r-t[0])/(t[1]-t[0]);i=e}});var o=n[i];if(f.isNil(o)||f.isNil(i)){return null}var s=o.length;var l=n[i+1];return{x:v.at(o[s-2],l[1],l[3],l[5],1-a),y:v.at(o[s-1],l[2],l[4],l[6],1-a)}},createPath:function t(e){var r=this;var a=r.get("segments");if(!f.isArray(a)){return}e=e||r.get("context");e.beginPath();var i=a.length;for(var n=0;n<i;n++){a[n].draw(e)}},afterPath:function t(e){var r=this;var a=r._attrs;var i=r.get("segments");var n=a.path;e=e||r.get("context");if(!f.isArray(i)){return}if(i.length===1){return}if(!a.startArrow&&!a.endArrow){return}if(n[n.length-1]==="z"||n[n.length-1]==="Z"||a.fill){return}var o=r.getStartTangent();l.addStartArrow(e,a,o[0][0],o[0][1],o[1][0],o[1][1]);var s=r.getEndTangent();l.addEndArrow(e,a,s[0][0],s[0][1],s[1][0],s[1][1])}});t.exports=n},function(t,e,r){var f=r(1);var a=r(6);var i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={points:null,lineWidth:1};f.extend(i,a);f.augment(i,{canFill:true,canStroke:true,type:"polygon",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this;var r=e._attrs;var a=r.points;var i=this.getHitLineWidth();if(!a||a.length===0){return null}var n=Infinity;var o=Infinity;var s=-Infinity;var l=-Infinity;f.each(a,function(t){var e=t[0];var r=t[1];if(e<n){n=e}if(e>s){s=e}if(r<o){o=r}if(r>l){l=r}});var u=i/2;return{minX:n-u,minY:o-u,maxX:s+u,maxY:l+u}},createPath:function t(r){var e=this;var a=e._attrs;var i=a.points;if(i.length<2){return}r=r||e.get("context");r.beginPath();f.each(i,function(t,e){if(e===0){r.moveTo(t[0],t[1])}else{r.lineTo(t[0],t[1])}});r.closePath()}});t.exports=i},function(t,e,r){var f=r(1);var a=r(6);var o=r(38);var u=r(36);var i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={points:null,lineWidth:1,startArrow:false,endArrow:false,tCache:null};f.extend(i,a);f.augment(i,{canStroke:true,type:"polyline",tCache:null,getDefaultAttrs:function t(){return{lineWidth:1,startArrow:false,endArrow:false}},calculateBox:function t(){var e=this;var r=e._attrs;var a=this.getHitLineWidth();var i=r.points;if(!i||i.length===0){return null}var n=Infinity;var o=Infinity;var s=-Infinity;var l=-Infinity;f.each(i,function(t){var e=t[0];var r=t[1];if(e<n){n=e}if(e>s){s=e}if(r<o){o=r}if(r>l){l=r}});var u=a/2;return{minX:n-u,minY:o-u,maxX:s+u,maxY:l+u}},_setTcache:function t(){var e=this;var r=e._attrs;var a=r.points;var i=0;var n=0;var o=[];var s;var l;if(!a||a.length===0){return}f.each(a,function(t,e){if(a[e+1]){i+=u.len(t[0],t[1],a[e+1][0],a[e+1][1])}});if(i<=0){return}f.each(a,function(t,e){if(a[e+1]){s=[];s[0]=n/i;l=u.len(t[0],t[1],a[e+1][0],a[e+1][1]);n+=l;s[1]=n/i;o.push(s)}});this.tCache=o},createPath:function t(e){var r=this;var a=r._attrs;var i=a.points;var n;var o;if(i.length<2){return}e=e||r.get("context");e.beginPath();e.moveTo(i[0][0],i[0][1]);for(o=1,n=i.length-1;o<n;o++){e.lineTo(i[o][0],i[o][1])}e.lineTo(i[n][0],i[n][1])},getStartTangent:function t(){var e=this.__attrs.points;var r=[];r.push([e[1][0],e[1][1]]);r.push([e[0][0],e[0][1]]);return r},getEndTangent:function t(){var e=this.__attrs.points;var r=e.length-1;var a=[];a.push([e[r-1][0],e[r-1][1]]);a.push([e[r][0],e[r][1]]);return a},afterPath:function t(e){var r=this;var a=r._attrs;var i=a.points;var n=i.length-1;e=e||r.get("context");if(a.startArrow){o.addStartArrow(e,a,i[1][0],i[1][1],i[0][0],i[0][1])}if(a.endArrow){o.addEndArrow(e,a,i[n-1][0],i[n-1][1],i[n][0],i[n][1])}},getPoint:function t(r){var e=this._attrs;var a=e.points;var i=this.tCache;var n;var o;if(!i){this._setTcache();i=this.tCache}f.each(i,function(t,e){if(r>=t[0]&&r<=t[1]){n=(r-t[0])/(t[1]-t[0]);o=e}});return{x:u.at(a[o][0],a[o+1][0],n),y:u.at(a[o][1],a[o+1][1],n)}}});t.exports=i},function(t,e,r){var a=r(1);var i=r(27),f=i.parseRadius;var n=r(6);var o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1};a.extend(o,n);a.augment(o,{canFill:true,canStroke:true,type:"rect",getDefaultAttrs:function t(){return{lineWidth:1,radius:0}},calculateBox:function t(){var e=this;var r=e._attrs;var a=r.x;var i=r.y;var n=r.width;var o=r.height;var s=this.getHitLineWidth();var l=s/2;return{minX:a-l,minY:i-l,maxX:a+n+l,maxY:i+o+l}},createPath:function t(e){var r=this;var a=r._attrs;var i=a.x;var n=a.y;var o=a.width;var s=a.height;var l=a.radius;e=e||r.get("context");e.beginPath();if(l===0){e.rect(i,n,o,s)}else{var u=f(l);e.moveTo(i+u.r1,n);e.lineTo(i+o-u.r2,n);u.r2!==0&&e.arc(i+o-u.r2,n+u.r2,u.r2,-Math.PI/2,0);e.lineTo(i+o,n+s-u.r3);u.r3!==0&&e.arc(i+o-u.r3,n+s-u.r3,u.r3,0,Math.PI/2);e.lineTo(i+u.r4,n+s);u.r4!==0&&e.arc(i+u.r4,n+s-u.r4,u.r4,Math.PI/2,Math.PI);e.lineTo(i,n+u.r1);u.r1!==0&&e.arc(i+u.r1,n+u.r1,u.r1,Math.PI,Math.PI*1.5);e.closePath()}}});t.exports=o},function(t,e,r){var v=r(1);var a=r(6);var i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null};v.extend(i,a);v.augment(i,{canFill:true,canStroke:true,type:"text",getDefaultAttrs:function t(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function t(){var e=this._attrs.fontSize;if(e&&+e<12){this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+e/12,+e/12],["t",this._attrs.x,this._attrs.y]])}},_assembleFont:function t(){var e=this._attrs;var r=e.fontSize;var a=e.fontFamily;var i=e.fontWeight;var n=e.fontStyle;var o=e.fontVariant;e.font=[n,o,i,r+"px",a].join(" ")},_setAttrText:function t(){var e=this._attrs;var r=e.text;var a=null;if(v.isString(r)&&r.indexOf("\n")!==-1){a=r.split("\n");var i=a.length;e.lineCount=i}e.textArr=a},_getTextHeight:function t(){var e=this._attrs;var r=e.lineCount;var a=e.fontSize*1;if(r>1){var i=this._getSpaceingY();return a*r+i*(r-1)}return a},isHitBox:function t(){return false},calculateBox:function t(){var e=this;var r=e._attrs;var a=this._cfg;if(!a.attrs||a.hasUpdate){this._assembleFont();this._setAttrText()}if(!r.textArr){this._setAttrText()}var i=r.x;var n=r.y;var o=e.measureText();if(!o){return{minX:i,minY:n,maxX:i,maxY:n}}var s=e._getTextHeight();var l=r.textAlign;var u=r.textBaseline;var f=e.getHitLineWidth();var c={x:i,y:n-s};if(l){if(l==="end"||l==="right"){c.x-=o}else if(l==="center"){c.x-=o/2}}if(u){if(u==="top"){c.y+=s}else if(u==="middle"){c.y+=s/2}}this.set("startPoint",c);var v=f/2;return{minX:c.x-v,minY:c.y-v,maxX:c.x+o+v,maxY:c.y+s+v}},_getSpaceingY:function t(){var e=this._attrs;var r=e.lineHeight;var a=e.fontSize*1;return r?r-a:a*.14},drawInner:function t(e){var r=this;var a=r._attrs;var i=this._cfg;if(!i.attrs||i.hasUpdate){this._assembleFont();this._setAttrText()}e.font=a.font;var n=a.text;if(!n){return}var o=a.textArr;var s=a.x;var l=a.y;e.beginPath();if(r.hasStroke()){var u=a.strokeOpacity;if(!v.isNil(u)&&u!==1){e.globalAlpha=u}if(o){r._drawTextArr(e,false)}else{e.strokeText(n,s,l)}e.globalAlpha=1}if(r.hasFill()){var f=a.fillOpacity;if(!v.isNil(f)&&f!==1){e.globalAlpha=f}if(o){r._drawTextArr(e,true)}else{e.fillText(n,s,l)}}i.hasUpdate=false},_drawTextArr:function t(r,a){var e=this._attrs.textArr;var i=this._attrs.textBaseline;var n=this._attrs.fontSize*1;var o=this._getSpaceingY();var s=this._attrs.x;var l=this._attrs.y;var u=this.getBBox();var f=u.maxY-u.minY;var c;v.each(e,function(t,e){c=l+e*(o+n)-f+n;if(i==="middle")c+=f-n-(f-n)/2;if(i==="top")c+=f-n;if(a){r.fillText(t,s,c)}else{r.strokeText(t,s,c)}})},measureText:function t(){var e=this;var r=e._attrs;var a=r.text;var i=r.font;var n=r.textArr;var o;var s=0;if(v.isNil(a))return undefined;var l=document.createElement("canvas").getContext("2d");l.save();l.font=i;if(n){v.each(n,function(t){o=l.measureText(t).width;if(s<o){s=o}l.restore()})}else{s=l.measureText(a).width;l.restore()}return s}});t.exports=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=r(60);r.d(e,"interpolate",function(){return a["a"]});var i=r(122);r.d(e,"interpolateArray",function(){return i["a"]});var n=r(63);r.d(e,"interpolateBasis",function(){return n["b"]});var o=r(120);r.d(e,"interpolateBasisClosed",function(){return o["a"]});var s=r(123);r.d(e,"interpolateDate",function(){return s["a"]});var l=r(40);r.d(e,"interpolateNumber",function(){return l["a"]});var u=r(124);r.d(e,"interpolateObject",function(){return u["a"]});var f=r(206);r.d(e,"interpolateRound",function(){return f["a"]});var c=r(125);r.d(e,"interpolateString",function(){return c["a"]});var v=r(207);r.d(e,"interpolateTransformCss",function(){return v["a"]});r.d(e,"interpolateTransformSvg",function(){return v["b"]});var h=r(210);r.d(e,"interpolateZoom",function(){return h["a"]});var p=r(119);r.d(e,"interpolateRgb",function(){return p["a"]});r.d(e,"interpolateRgbBasis",function(){return p["b"]});r.d(e,"interpolateRgbBasisClosed",function(){return p["c"]});var g=r(211);r.d(e,"interpolateHsl",function(){return g["a"]});r.d(e,"interpolateHslLong",function(){return g["b"]});var d=r(212);r.d(e,"interpolateLab",function(){return d["a"]});var y=r(213);r.d(e,"interpolateHcl",function(){return y["a"]});r.d(e,"interpolateHclLong",function(){return y["b"]});var m=r(214);r.d(e,"interpolateCubehelix",function(){return m["b"]});r.d(e,"interpolateCubehelixLong",function(){return m["a"]});var x=r(215);r.d(e,"quantize",function(){return x["a"]})},function(t,e,r){"use strict";r.d(e,"a",function(){return a});r.d(e,"b",function(){return i});var a=Math.PI/180;var i=180/Math.PI},function(t,e,r){"use strict";r.d(e,"b",function(){return o});r.d(e,"c",function(){return u});var l=r(19);var a=r(63);var i=r(120);var s=r(28);e["a"]=function t(e){var o=Object(s["b"])(e);function r(e,t){var r=o((e=Object(l["f"])(e)).r,(t=Object(l["f"])(t)).r),a=o(e.g,t.g),i=o(e.b,t.b),n=Object(s["a"])(e.opacity,t.opacity);return function(t){e.r=r(t);e.g=a(t);e.b=i(t);e.opacity=n(t);return e+""}}r.gamma=t;return r}(1);function n(s){return function(t){var e=t.length,r=new Array(e),a=new Array(e),i=new Array(e),n,o;for(n=0;n<e;++n){o=Object(l["f"])(t[n]);r[n]=o.r||0;a[n]=o.g||0;i[n]=o.b||0}r=s(r);a=s(a);i=s(i);o.opacity=1;return function(t){o.r=r(t);o.g=a(t);o.b=i(t);return o+""}}}var o=n(a["b"]);var u=n(i["a"])},function(t,e,r){"use strict";var l=r(63);e["a"]=function(o){var s=o.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),r=o[(e+s-1)%s],a=o[e%s],i=o[(e+1)%s],n=o[(e+2)%s];return Object(l["a"])((t-e/s)*s,r,a,i,n)}}},function(t,e,r){"use strict";e["a"]=function(t){return function(){return t}}},function(t,e,r){"use strict";var s=r(60);e["a"]=function(t,e){var r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),n=new Array(r),o;for(o=0;o<a;++o)i[o]=Object(s["a"])(t[o],e[o]);for(;o<r;++o)n[o]=e[o];return function(t){for(o=0;o<a;++o)n[o]=i[o](t);return n}}},function(t,e,r){"use strict";e["a"]=function(e,r){var a=new Date;return e=+e,r-=e,function(t){return a.setTime(e+r*t),a}}},function(t,e,r){"use strict";var n=r(60);e["a"]=function(t,e){var r={},a={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){r[i]=Object(n["a"])(t[i],e[i])}else{a[i]=e[i]}}return function(t){for(i in r)a[i]=r[i](t);return a}}},function(t,e,r){"use strict";var u=r(40);var f=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c=new RegExp(f.source,"g");function v(t){return function(){return t}}function h(e){return function(t){return e(t)+""}}e["a"]=function(t,a){var e=f.lastIndex=c.lastIndex=0,r,i,n,o=-1,s=[],l=[];t=t+"",a=a+"";while((r=f.exec(t))&&(i=c.exec(a))){if((n=i.index)>e){n=a.slice(e,n);if(s[o])s[o]+=n;else s[++o]=n}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;l.push({i:o,x:Object(u["a"])(r,i)})}e=c.lastIndex}if(e<a.length){n=a.slice(e);if(s[o])s[o]+=n;else s[++o]=n}return s.length<2?l[0]?h(l[0].x):v(a):(a=l.length,function(t){for(var e=0,r;e<a;++e)s[(r=l[e]).i]=r.x(t);return s.join("")})}},function(t,e,r){var n=r(0);var a=r(291);var i={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}};var o={line:{appear:function t(){return a.appear.clipIn},enter:function t(){return a.enter.clipIn},leave:function t(){return a.leave.lineWidthOut}},path:{appear:function t(){return a.appear.clipIn},enter:function t(){return a.enter.clipIn},leave:function t(){return a.leave.lineWidthOut}},area:{appear:function t(){return a.appear.clipIn},enter:function t(){return a.enter.fadeIn},leave:function t(){return a.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function t(){return a.appear.zoomIn},enter:function t(){return a.enter.zoomIn},leave:function t(){return a.leave.zoomOut}},edge:{appear:function t(){return a.appear.pathIn},enter:function t(){return a.enter.pathIn},leave:function t(){return a.leave.pathOut}},interval:{appear:function t(e){var r;if(e.isPolar){r=a.appear.zoomIn;if(e.isTransposed||e.type==="theta"){r=a.appear.fanIn}}else if(e.isRect){r=e.isTransposed?a.appear.scaleInX:a.appear.scaleInY}else{r=a.appear.zoomIn}return r},enter:function t(e){if(e.isRect||e.isTransposed||e.type==="theta"){return a.enter.fadeIn}return a.enter.zoomIn},leave:function t(){return a.leave.fadeOut},update:function t(e){if(e.type==="theta"){return a.update.fanIn}}},point:{appear:function t(){return a.appear.zoomIn},enter:function t(){return a.enter.zoomIn},leave:function t(){return a.leave.zoomOut}},schema:{appear:function t(){return a.appear.clipIn},enter:function t(){return a.enter.clipIn},leave:function t(){return a.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function t(){return a.appear.fadeIn},enter:function t(){return a.enter.fadeIn},leave:function t(){return a.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function t(){return a.appear.fadeIn},leave:function t(){return a.leave.fadeOut},update:function t(e){if(e.isPolar){return a.appear.fadeIn}}},"axis-ticks":{enter:function t(){return a.appear.fadeIn},leave:function t(){return a.leave.fadeOut},update:function t(e){if(e.isPolar){return a.appear.fadeIn}}},"axis-grid":{enter:function t(){return a.appear.fadeIn},leave:function t(){return a.leave.fadeOut},update:function t(e){if(e.isPolar){return a.appear.fadeIn}}},"axis-grid-rect":{enter:function t(){return a.appear.fadeIn},leave:function t(){return a.leave.fadeOut},update:function t(){return a.leave.fadeIn}},labelLine:{appear:function t(){return a.appear.pathIn},enter:function t(){return a.enter.pathIn},leave:function t(){return a.leave.pathOut}}};o.Action=a;o.defaultCfg=i;o.getAnimation=function(t,e,r){var a=this[t];if(a){var i=a[r];if(n.isFunction(i)){return i(e)}}return false};o.getAnimateCfg=function(t,e){var r=i[e];if(this[t]&&this[t].cfg&&this[t].cfg[e]){return n.deepMix({},r,this[t].cfg[e])}return r};o.registerAnimation=function(t,e,r){if(!this.Action[t]){this.Action[t]={}}this.Action[t][e]=r};t.exports=o},function(t,e,r){var a=r(2);var i=r(8);var n=r(229);var o=r(238);var s=r(249);var l=r(252);var u=r(256);var f=r(43);var c=r(265);var v=r(269);var h=r(275);var p=r(279);var g={DOMUtil:n,DomUtil:n,MatrixUtil:f,PathUtil:v,arrayUtil:o,domUtil:n,eventUtil:s,formatUtil:l,mathUtil:u,matrixUtil:f,objectUtil:c,stringUtil:h,pathUtil:v,typeUtil:p,augment:r(89),clone:r(47),debounce:r(285),deepMix:r(48),each:a,extend:r(88),filter:r(64),group:r(144),groupBy:r(146),groupToMap:r(145),indexOf:r(286),isEmpty:r(83),isEqual:r(50),isEqualWith:r(287),map:r(288),mix:i,pick:r(289),throttle:r(290),toArray:r(34),toString:r(24),uniqueId:r(86)};a([n,o,s,l,u,f,c,v,h,p],function(t){i(g,t)});t.exports=g},function(t,e,r){var o=r(129);var s=r(5);function a(t,e){var r=o(e);var a=r.length;if(s(t))return!a;for(var i=0;i<a;i+=1){var n=r[i];if(e[n]!==t[n]||!(n in t)){return false}}return true}t.exports=a},function(t,e,r){var i=r(2);var n=r(11);var a=Object.keys?function(t){return Object.keys(t)}:function(r){var a=[];i(r,function(t,e){if(!(n(r)&&e==="prototype")){a.push(e)}});return a};t.exports=a},function(t,e,r){var s=r(13);var l=Array.prototype.splice;var a=function t(e,r){if(!s(e)){return[]}var a=e?r.length:0;var i=a-1;while(a--){var n=void 0;var o=r[a];if(a===i||o!==n){n=o;l.call(e,o,1)}}return e};t.exports=a},function(t,e,r){var a=r(2);var i=r(41);var n=function t(e){var r=[];a(e,function(t){if(!i(r,t)){r.push(t)}});return r};t.exports=n},function(t,e,r){var o=r(4);var s=r(11);var l=r(2);var a=function t(e,r){if(!o(e)){return undefined}var a=e[0];var i=void 0;if(s(r)){i=r(e[0])}else{i=e[0][r]}var n=void 0;l(e,function(t){if(s(r)){n=r(t)}else{n=t[r]}if(n>i){a=t;i=n}});return a};t.exports=a},function(t,e){t.exports=parseInt},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,r){var i=r(2);var n=r(11);var a=Object.values?function(t){return Object.values(t)}:function(r){var a=[];i(r,function(t,e){if(!(n(r)&&e==="prototype")){a.push(t)}});return a};t.exports=a},function(t,e,r){var s=r(137);t.exports=function t(e,r,a,i,n){if(n){return[["M",+e+ +n,r],["l",a-n*2,0],["a",n,n,0,0,1,n,n],["l",0,i-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-a,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-i],["a",n,n,0,0,1,n,-n],["z"]]}var o=[["M",e,r],["l",a,0],["l",0,i],["l",-a,0],["z"]];o.parsePathArray=s;return o}},function(t,e){var r=/,?([a-z]),?/gi;t.exports=function t(e){return e.join(",").replace(r,"$1")}},function(t,e,r){var b=r(139);var _=function t(e,r,a,i,n,o,s,l,u,f){if(a===i){a+=1}var c=Math.PI*120/180;var v=Math.PI/180*(+n||0);var h=[];var p=void 0;var g=void 0;var d=void 0;var y=void 0;var m=void 0;var x=function t(e,r,a){var i=e*Math.cos(a)-r*Math.sin(a);var n=e*Math.sin(a)+r*Math.cos(a);return{x:i,y:n}};if(!f){p=x(e,r,-v);e=p.x;r=p.y;p=x(l,u,-v);l=p.x;u=p.y;if(e===l&&r===u){l+=1;u+=1}var b=(e-l)/2;var _=(r-u)/2;var w=b*b/(a*a)+_*_/(i*i);if(w>1){w=Math.sqrt(w);a=w*a;i=w*i}var S=a*a;var M=i*i;var C=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));y=C*a*_/i+(e+l)/2;m=C*-i*b/a+(r+u)/2;g=Math.asin(((r-m)/i).toFixed(9));d=Math.asin(((u-m)/i).toFixed(9));g=e<y?Math.PI-g:g;d=l<y?Math.PI-d:d;g<0&&(g=Math.PI*2+g);d<0&&(d=Math.PI*2+d);if(s&&g>d){g=g-Math.PI*2}if(!s&&d>g){d=d-Math.PI*2}}else{g=f[0];d=f[1];y=f[2];m=f[3]}var k=d-g;if(Math.abs(k)>c){var A=d;var P=l;var I=u;d=g+c*(s&&d>g?1:-1);l=y+a*Math.cos(d);u=m+i*Math.sin(d);h=t(l,u,a,i,n,0,s,P,I,[d,A,y,m])}k=d-g;var T=Math.cos(g);var O=Math.sin(g);var L=Math.cos(d);var E=Math.sin(d);var D=Math.tan(k/4);var F=4/3*a*D;var B=4/3*i*D;var R=[e,r];var j=[e+F*O,r-B*T];var N=[l+F*E,u-B*L];var z=[l,u];j[0]=2*R[0]-j[0];j[1]=2*R[1]-j[1];if(f){return[j,N,z].concat(h)}h=[j,N,z].concat(h).join().split(",");var Y=[];for(var V=0,H=h.length;V<H;V++){Y[V]=V%2?x(h[V-1],h[V],v).y:x(h[V],h[V+1],v).x}return Y};var w=function t(e,r,a,i){return[e,r,a,i,a,i]};var S=function t(e,r,a,i,n,o){var s=1/3;var l=2/3;return[s*e+l*a,s*r+l*i,s*n+l*a,s*o+l*i,n,o]};t.exports=function t(e,r){var o=b(e);var s=r&&b(r);var a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var n=[];var l=[];var u="";var f="";var c=void 0;var v=function t(e,r,a){var i=void 0,n=void 0;if(!e){return["C",r.x,r.y,r.x,r.y,r.x,r.y]}!(e[0]in{T:1,Q:1})&&(r.qx=r.qy=null);switch(e[0]){case"M":r.X=e[1];r.Y=e[2];break;case"A":e=["C"].concat(_.apply(0,[r.x,r.y].concat(e.slice(1))));break;case"S":if(a==="C"||a==="S"){i=r.x*2-r.bx;n=r.y*2-r.by}else{i=r.x;n=r.y}e=["C",i,n].concat(e.slice(1));break;case"T":if(a==="Q"||a==="T"){r.qx=r.x*2-r.qx;r.qy=r.y*2-r.qy}else{r.qx=r.x;r.qy=r.y}e=["C"].concat(S(r.x,r.y,r.qx,r.qy,e[1],e[2]));break;case"Q":r.qx=e[1];r.qy=e[2];e=["C"].concat(S(r.x,r.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(w(r.x,r.y,e[1],e[2]));break;case"H":e=["C"].concat(w(r.x,r.y,e[1],r.y));break;case"V":e=["C"].concat(w(r.x,r.y,r.x,e[1]));break;case"Z":e=["C"].concat(w(r.x,r.y,r.X,r.Y));break;default:break}return e};var h=function t(e,r){if(e[r].length>7){e[r].shift();var a=e[r];while(a.length){n[r]="A";s&&(l[r]="A");e.splice(r++,0,["C"].concat(a.splice(0,6)))}e.splice(r,1);c=Math.max(o.length,s&&s.length||0)}};var p=function t(e,r,a,i,n){if(e&&r&&e[n][0]==="M"&&r[n][0]!=="M"){r.splice(n,0,["M",i.x,i.y]);a.bx=0;a.by=0;a.x=e[n][1];a.y=e[n][2];c=Math.max(o.length,s&&s.length||0)}};c=Math.max(o.length,s&&s.length||0);for(var g=0;g<c;g++){o[g]&&(u=o[g][0]);if(u!=="C"){n[g]=u;g&&(f=n[g-1])}o[g]=v(o[g],a,f);if(n[g]!=="A"&&u==="C")n[g]="C";h(o,g);if(s){s[g]&&(u=s[g][0]);if(u!=="C"){l[g]=u;g&&(f=l[g-1])}s[g]=v(s[g],i,f);if(l[g]!=="A"&&u==="C"){l[g]="C"}h(s,g)}p(o,s,a,i,g);p(s,o,i,a,g);var d=o[g];var y=s&&s[g];var m=d.length;var x=s&&y.length;a.x=d[m-2];a.y=d[m-1];a.bx=parseFloat(d[m-4])||a.x;a.by=parseFloat(d[m-3])||a.y;i.bx=s&&(parseFloat(y[x-4])||i.x);i.by=s&&(parseFloat(y[x-3])||i.y);i.x=s&&y[x-2];i.y=s&&y[x-1]}return s?[o,s]:o}},function(t,e,r){var _=r(140);var w=r(141);function S(t,e,r,a,i){var n=[];if(i===null&&a===null){a=r}t=+t;e=+e;r=+r;a=+a;if(i!==null){var o=Math.PI/180;var s=t+r*Math.cos(-a*o);var l=t+r*Math.cos(-i*o);var u=e+r*Math.sin(-a*o);var f=e+r*Math.sin(-i*o);n=[["M",s,u],["A",r,r,0,+(i-a>180),0,l,f]]}else{n=[["M",t,e],["m",0,-a],["a",r,a,0,1,1,0,2*a],["a",r,a,0,1,1,0,-2*a],["z"]]}return n}t.exports=function t(e){e=_(e);if(!e||!e.length){return[["M",0,0]]}var r=[];var a=0;var i=0;var n=0;var o=0;var s=0;var l=void 0;var u=void 0;if(e[0][0]==="M"){a=+e[0][1];i=+e[0][2];n=a;o=i;s++;r[0]=["M",a,i]}var f=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z";for(var c,v,h=s,p=e.length;h<p;h++){r.push(c=[]);v=e[h];l=v[0];if(l!==l.toUpperCase()){c[0]=l.toUpperCase();switch(c[0]){case"A":c[1]=v[1];c[2]=v[2];c[3]=v[3];c[4]=v[4];c[5]=v[5];c[6]=+v[6]+a;c[7]=+v[7]+i;break;case"V":c[1]=+v[1]+i;break;case"H":c[1]=+v[1]+a;break;case"R":u=[a,i].concat(v.slice(1));for(var g=2,d=u.length;g<d;g++){u[g]=+u[g]+a;u[++g]=+u[g]+i}r.pop();r=r.concat(w(u,f));break;case"O":r.pop();u=S(a,i,v[1],v[2]);u.push(u[0]);r=r.concat(u);break;case"U":r.pop();r=r.concat(S(a,i,v[1],v[2],v[3]));c=["U"].concat(r[r.length-1].slice(-2));break;case"M":n=+v[1]+a;o=+v[2]+i;break;default:for(var y=1,m=v.length;y<m;y++){c[y]=+v[y]+(y%2?a:i)}}}else if(l==="R"){u=[a,i].concat(v.slice(1));r.pop();r=r.concat(w(u,f));c=["R"].concat(v.slice(-2))}else if(l==="O"){r.pop();u=S(a,i,v[1],v[2]);u.push(u[0]);r=r.concat(u)}else if(l==="U"){r.pop();r=r.concat(S(a,i,v[1],v[2],v[3]));c=["U"].concat(r[r.length-1].slice(-2))}else{for(var x=0,b=v.length;x<b;x++){c[x]=v[x]}}l=l.toUpperCase();if(l!=="O"){switch(c[0]){case"Z":a=+n;i=+o;break;case"H":a=c[1];break;case"V":i=c[1];break;case"M":n=c[c.length-2];o=c[c.length-1];break;default:a=c[c.length-2];i=c[c.length-1]}}}return r}},function(t,e){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a="\t\n\v\f\r \u2028\u2029";var i=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig");var s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");t.exports=function t(e){if(!e){return null}if((typeof e==="undefined"?"undefined":r(e))===r([])){return e}var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0};var o=[];String(e).replace(i,function(t,e,r){var a=[];var i=e.toLowerCase();r.replace(s,function(t,e){e&&a.push(+e)});if(i==="m"&&a.length>2){o.push([e].concat(a.splice(0,2)));i="l";e=e==="m"?"l":"L"}if(i==="o"&&a.length===1){o.push([e,a[0]])}if(i==="r"){o.push([e].concat(a))}else{while(a.length>=n[i]){o.push([e].concat(a.splice(0,n[i])));if(!n[i]){break}}}});return o}},function(t,e){t.exports=function t(e,r){var a=[];for(var i=0,n=e.length;n-2*!r>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];if(r){if(!i){o[0]={x:+e[n-2],y:+e[n-1]}}else if(n-4===i){o[3]={x:+e[0],y:+e[1]}}else if(n-2===i){o[2]={x:+e[0],y:+e[1]};o[3]={x:+e[2],y:+e[3]}}}else{if(n-4===i){o[3]=o[2]}else if(!i){o[0]={x:+e[i],y:+e[i+1]}}}a.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return a}},function(t,e,r){var a=r(24);var i=function t(e){return a(e).toLowerCase()};t.exports=i},function(t,e,r){var a=r(24);var i=function t(e){return a(e).toUpperCase()};t.exports=i},function(t,e,r){var o=r(145);var a=function t(e,r){if(!r){return[e]}var a=o(e,r);var i=[];for(var n in a){i.push(a[n])}return i};t.exports=a},function(t,e,r){var i=r(11);var o=r(4);var s=r(146);var a=function t(e,r){if(!r){return{0:e}}if(!i(r)){var n=o(r)?r:r.replace(/\s+/g,"").split("*");r=function t(e){var r="_";for(var a=0,i=n.length;a<i;a++){r+=e[n[a]]&&e[n[a]].toString()}return r}}var a=s(e,r);return a};t.exports=a},function(t,e,r){var n=r(2);var o=r(4);var s=Object.prototype.hasOwnProperty;var a=function t(e,r){if(!r||!o(e)){return e}var a={};var i=null;n(e,function(t){i=r(t);if(s.call(a,i)){a[i].push(t)}else{a[i]=[t]}});return a};t.exports=a},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var c=r(0);var i=r(292);var n=r(16);var l=n.Canvas;var u=c.DomUtil;var s=r(7);var f=r(357);var v=r(166);var h=r(168);var p=r(167);var g=r(169);var d="auto";function y(t,a){var i=false;c.each(t,function(t){var e=[].concat(t.values);var r=[].concat(a.values);if(t.type===a.type&&t.field===a.field&&e.sort().toString()===r.sort().toString()){i=true;return}});return i}function m(t,e){return c.isEqualWith(t,e,function(t,e){return t===e})}var o=function(o){a(t,o);function t(){return o.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=o.prototype.getDefaultCfg.call(this);return c.mix(e,{id:null,forceFit:false,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:s.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:false,renderer:s.renderer,views:[]})};e.init=function t(){var e=this;var r=e.get("viewTheme");e._initCanvas();e._initPlot();e._initEvents();o.prototype.init.call(this);var a=new v.Tooltip({chart:e,viewTheme:r,options:{}});e.set("tooltipController",a);var i=new v.Legend({chart:e,viewTheme:r});e.set("legendController",i);e.set("_id","chart");e.emit("afterinit")};e._isAutoPadding=function t(){var e=this.get("padding");if(c.isArray(e)){return e.includes(d)}return e===d};e._getAutoPadding=function t(){var e=this.get("padding");var r=this.get("frontPlot");var a=r.getBBox();var i=this.get("backPlot");var n=p(i,g(this.get("plotRange")));var o=h(a,n);var s=[0-o.minY,o.maxX-this.get("width"),o.maxY-this.get("height"),0-o.minX];var l=c.toAllPadding(e);for(var u=0;u<l.length;u++){if(l[u]===d){var f=Math.max(0,s[u]);l[u]=f+this.get("autoPaddingAppend")}}return l};e._initCanvas=function t(){var e=this.get("container");var r=this.get("id");if(!e&&r){e=r;this.set("container",r)}var a=this.get("width");var i=this.get("height");if(c.isString(e)){e=document.getElementById(e);if(!e){throw new Error("Please specify the container for the chart!")}this.set("container",e)}var n=u.createDom('<div style="position:relative;"></div>');e.appendChild(n);this.set("wrapperEl",n);if(this.get("forceFit")){a=u.getWidth(e,a);this.set("width",a)}var o=this.get("renderer");var s=new l({containerDOM:n,width:a,height:i,pixelRatio:o==="svg"?1:this.get("pixelRatio"),renderer:o});this.set("canvas",s)};e._initPlot=function t(){var e=this;e._initPlotBack();var r=e.get("canvas");var a=r.addGroup({zIndex:1});var i=r.addGroup({zIndex:0});var n=r.addGroup({zIndex:3});e.set("backPlot",a);e.set("middlePlot",i);e.set("frontPlot",n)};e._initPlotBack=function t(){var e=this;var r=e.get("canvas");var a=e.get("viewTheme");var i=r.addGroup(f,{padding:this.get("padding"),plotBackground:c.mix({},a.plotBackground,e.get("plotBackground")),background:c.mix({},a.background,e.get("background"))});e.set("plot",i);e.set("plotRange",i.get("plotRange"))};e._initEvents=function t(){if(this.get("forceFit")){window.addEventListener("resize",c.wrapBehavior(this,"_initForceFitEvent"))}};e._initForceFitEvent=function t(){var e=setTimeout(c.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer"));this.set("resizeTimer",e)};e._renderLegends=function t(){var e=this.get("options");var r=e.legends;if(c.isNil(r)||r!==false){var o=this.get("legendController");o.options=r||{};o.plotRange=this.get("plotRange");if(r&&r.custom){o.addCustomLegend()}else{var a=this.getAllGeoms();var s=[];c.each(a,function(i){var n=i.get("view");var t=i.getAttrsForLegend();c.each(t,function(t){var e=t.type;var r=t.getScale(e);if(r.field&&r.type!=="identity"&&!y(s,r)){s.push(r);var a=n.getFilteredOutValues(r.field);o.addLegend(r,t,i,a)}})});var i=this.getYScales();if(s.length===0&&i.length>1){o.addMixedLegend(i,a)}}o.alignLegends()}};e._renderTooltips=function t(){var e=this.get("options");if(c.isNil(e.tooltip)||e.tooltip!==false){var r=this.get("tooltipController");r.options=e.tooltip||{};r.renderTooltip()}};e.getAllGeoms=function t(){var e=[];e=e.concat(this.get("geoms"));var r=this.get("views");c.each(r,function(t){e=e.concat(t.get("geoms"))});return e};e.forceFit=function t(){var e=this;if(!e||e.destroyed){return}var r=e.get("container");var a=e.get("width");var i=u.getWidth(r,a);if(i!==0&&i!==a){var n=e.get("height");e.changeSize(i,n)}return e};e.resetPlot=function t(){var e=this.get("plot");var r=this.get("padding");if(!m(r,e.get("padding"))){e.set("padding",r);e.repaint()}};e.changeSize=function t(e,r){var a=this;var i=a.get("canvas");i.changeSize(e,r);var n=this.get("plot");a.set("width",e);a.set("height",r);n.repaint();this.set("keepPadding",true);a.repaint();this.set("keepPadding",false);this.emit("afterchangesize");return a};e.changeWidth=function t(e){return this.changeSize(e,this.get("height"))};e.changeHeight=function t(e){return this.changeSize(this.get("width"),e)};e.view=function t(e){e=e||{};e.theme=this.get("theme");e.parent=this;e.backPlot=this.get("backPlot");e.middlePlot=this.get("middlePlot");e.frontPlot=this.get("frontPlot");e.canvas=this.get("canvas");if(c.isNil(e.animate)){e.animate=this.get("animate")}e.options=c.mix({},this._getSharedOptions(),e.options);var t=new i(e);t.set("_id","view"+this.get("views").length);this.get("views").push(t);this.emit("addview",{view:t});return t};e.removeView=function t(e){var r=this.get("views");c.Array.remove(r,e);e.destroy()};e._getSharedOptions=function t(){var e=this.get("options");var r={};c.each(["scales","coord","axes"],function(t){r[t]=c.cloneDeep(e[t])});return r};e.getViewRegion=function t(){var e=this.get("plotRange");return{start:e.bl,end:e.tr}};e.legend=function t(e,r){var a=this.get("options");if(!a.legends){a.legends={}}var i={};if(e===false){a.legends=false}else if(c.isObject(e)){i=e}else if(c.isString(e)){i[e]=r}else{i=r}c.mix(a.legends,i);return this};e.tooltip=function t(e,r){var a=this.get("options");if(!a.tooltip){a.tooltip={}}if(e===false){a.tooltip=false}else if(c.isObject(e)){c.mix(a.tooltip,e)}else{c.mix(a.tooltip,r)}return this};e.clear=function t(){this.emit("beforeclear");var e=this.get("views");while(e.length>0){var r=e.shift();r.destroy()}o.prototype.clear.call(this);var a=this.get("canvas");this.resetPlot();a.draw();this.emit("afterclear");return this};e.clearInner=function t(){var e=this.get("views");c.each(e,function(t){t.clearInner()});var r=this.get("tooltipController");r&&r.clear();if(!this.get("keepLegend")){var a=this.get("legendController");a&&a.clear()}o.prototype.clearInner.call(this)};e.drawComponents=function t(){o.prototype.drawComponents.call(this);if(!this.get("keepLegend")){this._renderLegends()}};e.render=function t(){var e=this;if(!e.get("keepPadding")&&e._isAutoPadding()){e.beforeRender();e.drawComponents();var r=e._getAutoPadding();var a=e.get("plot");if(!m(a.get("padding"),r)){a.set("padding",r);a.repaint()}}var i=e.get("middlePlot");if(e.get("limitInPlot")&&!i.attr("clip")){var n=c.getClipByRange(e.get("plotRange"));i.attr("clip",n)}o.prototype.render.call(this);e._renderTooltips()};e.repaint=function t(){if(!this.get("keepPadding")){this.resetPlot()}o.prototype.repaint.call(this)};e.changeVisible=function t(e){var r=this.get("wrapperEl");var a=e?"":"none";r.style.display=a};e.toDataURL=function t(){var e=this;var r=e.get("canvas");var a=e.get("renderer");var i=r.get("el");var n="";if(a==="svg"){var o=i.cloneNode(true);var s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd");var l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);l.replaceChild(o,l.documentElement);var u=(new XMLSerializer).serializeToString(l);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(u)}else if(a==="canvas"){n=i.toDataURL("image/png")}return n};e.downloadImage=function t(e){var l=this;var u=document.createElement("a");var f=l.get("renderer");var c=(e||"chart")+(f==="svg"?".svg":".png");var r=l.get("canvas");r.get("timeline").stopAllAnimations();setTimeout(function(){var t=l.toDataURL();if(window.Blob&&window.URL&&f!=="svg"){var e=t.split(",");var r=e[0].match(/:(.*?);/)[1];var a=atob(e[1]);var i=a.length;var n=new Uint8Array(i);while(i--){n[i]=a.charCodeAt(i)}var o=new Blob([n],{type:r});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(o,c)}else{u.addEventListener("click",function(){u.download=c;u.href=window.URL.createObjectURL(o)})}}else{u.addEventListener("click",function(){u.download=c;u.href=t})}var s=document.createEvent("MouseEvents");s.initEvent("click",false,false);u.dispatchEvent(s)},16)};e.showTooltip=function t(e){var r=this.getViewsByPoint(e);if(r.length){var a=this.get("tooltipController");a.showTooltip(e,r)}return this};e.lockTooltip=function t(){var e=this.get("tooltipController");e.lockTooltip();return this};e.unlockTooltip=function t(){var e=this.get("tooltipController");e.unlockTooltip();return this};e.hideTooltip=function t(){var e=this.get("tooltipController");e.hideTooltip();return this};e.getTooltipItems=function t(n){var e=this;var r=e.getViewsByPoint(n);var o=[];c.each(r,function(t){var e=t.get("geoms");c.each(e,function(a){var t=a.get("dataArray");var i=[];c.each(t,function(t){var e=a.findPoint(n,t);if(e){var r=a.getTipItems(e);i=i.concat(r)}});o=o.concat(i)})});return o};e.destroy=function t(){this.emit("beforedestroy");clearTimeout(this.get("resizeTimer"));var e=this.get("canvas");var r=this.get("wrapperEl");r.parentNode.removeChild(r);o.prototype.destroy.call(this);e.destroy();window.removeEventListener("resize",c.getWrapBehavior(this,"_initForceFitEvent"));this.emit("afterdestroy")};return t}(i);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(54);var n=r(0);var o=function(i){a(e,i);var t=e.prototype;t.getDefaultCfg=function t(){return{}};function e(t){var e;e=i.call(this)||this;var r={visible:true};var a=e.getDefaultCfg();e._attrs=r;n.assign(r,a,t);return e}t.get=function t(e){return this._attrs[e]};t.set=function t(e,r){this._attrs[e]=r};t.show=function t(){var e=this.get("visible");if(!e){this.set("visible",true);this.changeVisible(true)}};t.hide=function t(){var e=this.get("visible");if(e){this.set("visible",false);this.changeVisible(false)}};t.changeVisible=function t(){};t.destroy=function t(){this._attrs={};this.removeAllListeners();this.destroyed=true};return e}(i);t.exports=o},function(t,e,r){var l=r(9);var a=r(10);var i=r(2);var n=/rgba?\(([\s.,0-9]+)\)/;function o(){var t=document.createElement("i");t.title="Web Colour Picker";t.style.display="none";document.body.appendChild(t);return t}function u(t,e,r,a){var i=t[a]+(e[a]-t[a])*r;return i}function f(t){return"#"+s(t[0])+s(t[1])+s(t[2])}function s(t){t=Math.round(t);t=t.toString(16);if(t.length===1){t="0"+t}return t}function c(t,e){if(isNaN(e)||!l(e)||e<0){e=0}if(e>1){e=1}var r=t.length-1;var a=Math.floor(r*e);var i=r*e-a;var n=t[a];var o=a===r?n:t[a+1];var s=f([u(n,o,i,0),u(n,o,i,1),u(n,o,i,2)]);return s}function v(t){var e=[];e.push(parseInt(t.substr(1,2),16));e.push(parseInt(t.substr(3,2),16));e.push(parseInt(t.substr(5,2),16));return e}var h={};var p=null;var g={toRGB:function t(e){if(e[0]==="#"&&e.length===7){return e}if(!p){p=o()}var r;if(h[e]){r=h[e]}else{p.style.color=e;r=document.defaultView.getComputedStyle(p,"").getPropertyValue("color");var a=n.exec(r);var i=a[1].split(/\s*,\s*/);r=f(i);h[e]=r}return r},rgb2arr:v,gradient:function t(e){var r=[];if(a(e)){e=e.split("-")}i(e,function(t){if(t.indexOf("#")===-1){t=g.toRGB(t)}r.push(v(t))});return function(t){return c(r,t)}}};t.exports=g},function(t,e,r){var s=0;var l=r(2);var u={values:r(65)};t.exports={isAdjust:function t(e){return this.adjustNames.indexOf(e)>=0},_getDimValues:function t(r){var e=this;var a={};var i=[];if(e.xField&&e.isAdjust("x")){i.push(e.xField)}if(e.yField&&e.isAdjust("y")){i.push(e.yField)}l(i,function(t){var e=u.values(r,t);e.sort(function(t,e){return t-e});a[t]=e});if(!e.yField&&e.isAdjust("y")){var n="y";var o=[s,1];a[n]=o}return a},adjustData:function t(i,e){var n=this;var o=n._getDimValues(e);l(i,function(r,a){l(o,function(t,e){n.adjustDim(e,t,r,i.length,a)})})},getAdjustRange:function t(e,r,a){var i=this;var n=a.indexOf(r);var o=a.length;var s;var l;if(!i.yField&&i.isAdjust("y")){s=0;l=1}else if(o>1){s=n===0?a[0]:a[n-1];l=n===o-1?a[o-1]:a[n+1];if(n!==0){s+=(r-s)/2}else{s-=(l-r)/2}if(n!==o-1){l-=(l-r)/2}else{l+=(r-a[o-2])/2}}else{s=r===0?0:r-.5;l=r===0?1:r+.5}return{pre:s,next:l}},groupData:function t(e,r){var a={};l(e,function(t){var e=t[r];if(e===undefined){e=t[r]=s}if(!a[e]){a[e]=[]}a[e].push(t)});return a}}},function(t,e,r){var a={default:r(152),dark:r(305)};t.exports=a},function(t,e){var r,a;var i="#1890FF";var n=["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"];var o=["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"];var s=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"];var l=["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"];var u=["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"];var f='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"';var c="g2-tooltip";var v="g2-tooltip-title";var h="g2-tooltip-list";var p="g2-tooltip-list-item";var g="g2-tooltip-marker";var d="g2-tooltip-value";var y="g2-legend";var m="g2-legend-title";var x="g2-legend-list";var b="g2-legend-list-item";var _="g2-legend-marker";var w={defaultColor:i,plotCfg:{padding:[20,20,95,80]},fontFamily:f,defaultLegendPosition:"bottom",colors:n,colors_16:o,colors_24:s,colors_pie:l,colors_pie_16:u,shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:f},autoRotate:true},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:true}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:true,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:f}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:true}},left:{position:"left",title:null,label:{offset:8,autoRotate:true,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:f}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:true}},right:{position:"right",title:null,label:{offset:8,autoRotate:true,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:f}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:true}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:f}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:true},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:true}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:f}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:true},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:true}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:f}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:f}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:f}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:f},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:f},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:f},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:f},unCheckColor:"#bfbfbf"},html:(r={},r[""+y]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:f,lineHeight:"20px",color:"#8C8C8C"},r[""+m]={marginBottom:"4px"},r[""+x]={listStyleType:"none",margin:0,padding:0},r[""+b]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},r[""+_]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},r),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:f},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(a={useHtml:true,crosshairs:false,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},a[""+c]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:f,lineHeight:"20px",padding:"10px 10px 6px 10px"},a[""+v]={marginBottom:"4px"},a[""+h]={margin:0,listStyleType:"none",padding:0},a[""+p]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},a[""+g]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},a[""+d]={display:"inline-block",float:"right",marginLeft:"30px"},a),tooltipMarker:{symbol:function t(e,r,a){return[["M",e,r],["m",-a,0],["a",a,a,0,1,0,a*2,0],["a",a,a,0,1,0,-a*2,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:i,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:i,radius:3},interval:{lineWidth:0,fill:i,fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:i,fillOpacity:.6},polygon:{lineWidth:0,fill:i,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},line:{stroke:i,lineWidth:2,fill:null},edge:{stroke:i,lineWidth:1,fill:null},schema:{stroke:i,lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:true,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:f,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:f}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:true,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:true,line:true,text:true},lineLength:20,direction:"upward",autoAdjust:true}},pixelRatio:null};t.exports=w},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(20),n=i.Group;var c=r(3);var o=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.getDefaultCfg=function t(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:false,hideLastLine:false,hightLightZero:false,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}};r._renderUI=function t(){e.prototype._renderUI.call(this);this._drawLines()};r._drawLines=function t(){var e=this;var r=e.get("lineStyle");var a=e.get("items");if(a&&a.length){e._precessItems(a);e._drawGridLines(a,r)}};r._precessItems=function t(e){var r=this;var a;c.each(e,function(t,e){if(a&&r.get("alternateColor")){r._drawAlternativeBg(t,a,e)}a=t})};r._drawGridLines=function t(e,r){var a=this;var i=this.get("type");var n;var o;var s;var l;var u=e.length;if(i==="line"||i==="polygon"){c.each(e,function(t,e){if(a.get("hideFirstLine")&&e===0){return}if(a.get("hideLastLine")&&e===u-1){return}l=t.points;o=[];if(i==="line"){o.push(["M",l[0].x,l[0].y]);o.push(["L",l[l.length-1].x,l[l.length-1].y])}else{c.each(l,function(t,e){if(e===0){o.push(["M",t.x,t.y])}else{o.push(["L",t.x,t.y])}})}if(a._drawZeroLine(i,e)){s=c.mix({},a.get("zeroLineStyle"),{path:o})}else{s=c.mix({},r,{path:o})}n=a.addShape("path",{attrs:s});n.name="axis-grid";n._id=t._id;n.set("coord",a.get("coord"));a.get("appendInfo")&&n.setSilent("appendInfo",a.get("appendInfo"))})}else{c.each(e,function(t,e){if(a.get("hideFirstLine")&&e===0){return}if(a.get("hideLastLine")&&e===u-1){return}l=t.points;o=[];c.each(l,function(t,e){var r=t.radius;if(e===0){o.push(["M",t.x,t.y])}else{o.push(["A",r,r,0,0,t.flag,t.x,t.y])}});s=c.mix({},r,{path:o});n=a.addShape("path",{attrs:s});n.name="axis-grid";n._id=t._id;n.set("coord",a.get("coord"));a.get("appendInfo")&&n.setSilent("appendInfo",a.get("appendInfo"))})}};r._drawZeroLine=function t(e,r){var a=this;var i=a.get("tickValues");if(e==="line"&&i){if(i[r]===0&&a.get("hightLightZero")){return true}}return false};r._drawAlternativeBg=function t(e,r,a){var i=this;var n=i.get("alternateColor");var o;var s;var l;if(c.isString(n)){s=n}else if(c.isArray(n)){s=n[0];l=n[1]}if(a%2===0){if(l){o=i._getBackItem(r.points,e.points,l)}}else if(s){o=i._getBackItem(r.points,e.points,s)}var u=i.addShape("Path",{attrs:o});u.name="axis-grid-rect";u._id=e._id&&e._id.replace("grid","grid-rect");u.set("coord",i.get("coord"));i.get("appendInfo")&&u.setSilent("appendInfo",i.get("appendInfo"))};r._getBackItem=function t(e,r,a){var i=[];var n=this.get("type");if(n==="line"){i.push(["M",e[0].x,e[0].y]);i.push(["L",e[e.length-1].x,e[e.length-1].y]);i.push(["L",r[r.length-1].x,r[r.length-1].y]);i.push(["L",r[0].x,r[0].y]);i.push(["Z"])}else if(n==="polygon"){c.each(e,function(t,e){if(e===0){i.push(["M",t.x,t.y])}else{i.push(["L",t.x,t.y])}});for(var o=r.length-1;o>=0;o--){i.push(["L",r[o].x,r[o].y])}i.push(["Z"])}else{var s=e[0].flag;c.each(e,function(t,e){var r=t.radius;if(e===0){i.push(["M",t.x,t.y])}else{i.push(["A",r,r,0,0,t.flag,t.x,t.y])}});for(var l=r.length-1;l>=0;l--){var u=r[l];var f=u.radius;if(l===r.length-1){i.push(["M",u.x,u.y])}else{i.push(["A",f,f,0,0,s===1?0:1,u.x,u.y])}}}return{fill:a,path:i}};return t}(n);t.exports=o},function(t,e,r){function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var c=r(3);var l=c.DomUtil;var a=r(32);var n=r(308);var o=r(309);var s=r(310);var u={scatter:n,map:o,treemap:s};var f=function(a){i(t,a);function t(){return a.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);return c.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:false,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:false,lineGroup:null,shapes:null,config:true,capture:true})};e.clear=function t(){var e=this.get("group");var r=this.get("container");if(e&&!e.get("destroyed")){e.clear()}if(r){r.innerHTML=""}a.prototype.clear.call(this)};e.destroy=function t(){var e=this.get("group");var r=this.get("container");if(!e.destroy){e.destroy()}if(r){r.parentNode&&r.parentNode.removeChild(r)}a.prototype.destroy.call(this)};e.render=function t(){this.clear();this._init();this.beforeDraw();this.draw();this.afterDraw()};e._dryDraw=function t(){var i=this;var e=i.get("items");var n=i.getLabels();var o=n.length;c.each(e,function(t,e){if(e<o){var r=n[e];i.changeLabel(r,t)}else{var a=i._addLabel(t,e);if(a){a._id=t._id;a.set("coord",t.coord)}}});for(var r=o-1;r>=e.length;r--){n[r].remove()}i._adjustLabels();if(i.get("labelLine")||!i.get("config")){i.drawLines()}};e.draw=function t(){this._dryDraw();this.get("canvas").draw()};e.changeLabel=function t(e,r){if(!e){return}if(e.tagName){var a=this._createDom(r);e.innerHTML=a.innerHTML;this._setCustomPosition(r,e)}else{e._id=r._id;e.attr("text",r.text);if(e.attr("x")!==r.x||e.attr("y")!==r.y){e.resetMatrix();if(r.textStyle.rotate){e.rotateAtStart(r.textStyle.rotate);delete r.textStyle.rotate}e.attr(r)}}};e.show=function t(){var e=this.get("group");var r=this.get("container");if(e){e.show()}if(r){r.style.opacity=1}};e.hide=function t(){var e=this.get("group");var r=this.get("container");if(e){e.hide()}if(r){r.style.opacity=0}};e.drawLines=function t(){var e=this;var r=e.get("labelLine");if(typeof r==="boolean"){e.set("labelLine",{})}var a=e.get("lineGroup");if(!a||a.get("destroyed")){a=e.get("group").addGroup({elCls:"x-line-group"});e.set("lineGroup",a)}else{a.clear()}c.each(e.get("items"),function(t){e.lineToLabel(t,a)})};e.lineToLabel=function t(e,r){var a=this;if(!a.get("config")&&!e.labelLine){return}var i=e.labelLine||a.get("labelLine");var n=typeof e.capture==="undefined"?a.get("capture"):e.capture;var o=i.path;if(o&&c.isFunction(i.path)){o=i.path(e)}if(!o){var s=e.start||{x:e.x-e._offset.x,y:e.y-e._offset.y};o=[["M",s.x,s.y],["L",e.x,e.y]]}var l=e.color;if(!l){if(e.textStyle&&e.textStyle.fill){l=e.textStyle.fill}else{l="#000"}}var u=r.addShape("path",{attrs:c.mix({path:o,fill:null,stroke:l},i),capture:n});u.name=a.get("name");u._id=e._id&&e._id.replace("glabel","glabelline");u.set("coord",a.get("coord"))};e._adjustLabels=function t(){var e=this;var r=e.get("type");var a=e.getLabels();var i=e.get("shapes");var n=u[r];if(r==="default"||!n){return}n(a,i)};e.getLabels=function t(){var e=this.get("container");if(e){return c.toArray(e.childNodes)}return this.get("group").get("children")};e._addLabel=function t(e,r){var a=e;if(this.get("config")){a=this._getLabelCfg(e,r)}return this._createText(a)};e._getLabelCfg=function t(e,r){var a=this.get("textStyle")||{};var i=this.get("formatter");var n=this.get("htmlTemplate");if(!c.isObject(e)){var o=e;e={};e.text=o}if(c.isFunction(a)){a=a(e.text,e,r)}if(i){e.text=i(e.text,e,r)}if(n){e.useHtml=true;if(c.isFunction(n)){e.text=n(e.text,e,r)}}if(c.isNil(e.text)){e.text=""}e.text=e.text+"";var s=c.mix({},e,{textStyle:a},{x:e.x||0,y:e.y||0});return s};e._init=function t(){if(!this.get("group")){var e=this.get("canvas").addGroup({id:"label-group"});this.set("group",e)}};e.initHtmlContainer=function t(){var e=this.get("container");if(!e){var r=this.get("containerTpl");var a=this.get("canvas").get("el").parentNode;e=l.createDom(r);a.style.position="relative";a.appendChild(e);this.set("container",e)}else if(c.isString(e)){e=document.getElementById(e);if(e){this.set("container",e)}}return e};e._createText=function t(e){var r=c.deepMix({},e);var a=this.get("container");var i=typeof r.capture==="undefined"?this.get("capture"):r.capture;var n;if(r.useHtml||r.htmlTemplate){if(!a){a=this.initHtmlContainer()}var o=this._createDom(r);a.appendChild(o);this._setCustomPosition(r,o)}else{var s=this.get("name");var l=r.point;var u=this.get("group");delete r.point;var f=r.rotate;if(r.textStyle){if(r.textStyle.rotate){f=r.textStyle.rotate;delete r.textStyle.rotate}r=c.mix({x:r.x,y:r.y,textAlign:r.textAlign,text:r.text},r.textStyle)}n=u.addShape("text",{attrs:r,capture:i});if(f){if(Math.abs(f)>Math.PI*2){f=f/180*Math.PI}n.transform([["t",-r.x,-r.y],["r",f],["t",r.x,r.y]])}n.setSilent("origin",l||r);n.name=s;this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo"));return n}};e._createDom=function t(e){var r=this.get("itemTpl");var a=c.substitute(r,{text:e.text});return l.createDom(a)};e._setCustomPosition=function t(e,r){var a=e.textAlign||"left";var i=e.y;var n=e.x;var o=l.getOuterWidth(r);var s=l.getOuterHeight(r);i=i-s/2;if(a==="center"){n=n-o/2}else if(a==="right"){n=n-o}r.style.top=parseInt(i,10)+"px";r.style.left=parseInt(n,10)+"px"};return t}(a);t.exports=f},function(t,e){var r=function(){function t(){this.bitmap=[]}var e=t.prototype;e.hasGap=function t(e){var t=true;var r=this.bitmap;var a=Math.floor(e.minX);var i=Math.ceil(e.maxX);var n=Math.floor(e.minY);var o=Math.ceil(e.maxY)-1;for(var s=a;s<i;s++){if(!r[s]){r[s]=[];continue}if(s===a||s===i-1){for(var l=n;l<=o;l++){if(r[s][l]){t=false;break}}}else{if(r[s][n]||r[s][o]){t=false;break}}}return t};e.fillGap=function t(e){var r=this.bitmap;var a=Math.floor(e.minX);var i=Math.ceil(e.maxX)-1;var n=Math.floor(e.minY);var o=Math.ceil(e.maxY)-1;for(var s=a;s<=i;s++){for(var l=n;l<o;l+=8){if(!r[s]){r[s]=[]}r[s][l]=true}r[s][o]=true}for(var u=n;u<=o;u++){r[a][u]=true;r[i][u]=true}};return t}();t.exports=r},function(t,e,r){var a=r(3);t.exports={getFirstScale:function t(e){var r;a.each(e,function(t){if(t){r=t;return false}});return r}}},function(t,e,r){function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var y=r(3);var a=r(158);var n=r(14),m=n.FONT_FAMILY;var g=y.Event;var o=y.Group;function d(t,e){var r=null;var a=e instanceof o||e.name==="legendGroup"?e.get("value"):e;y.each(t,function(t){if(t.value===a){r=t;return false}});return r}function x(t,e){return t.findBy(function(t){return t.name===e})}var s=function(a){i(t,a);function t(){return a.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);return y.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:false,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:m},_wordSpaceing:8,clickable:true,selectedMode:"multiple",reversed:false,autoWrap:true,highlight:false,activeOpacity:.7,inactiveOpacity:1})};e.render=function t(){a.prototype.render.call(this);this._renderItems();this.get("autoWrap")&&this._adjustItems()};e._bindEvents=function t(){if(this.get("hoverable")){this.get("group").on("mousemove",y.wrapBehavior(this,"_onMousemove"));this.get("group").on("mouseleave",y.wrapBehavior(this,"_onMouseleave"))}if(this.get("clickable")){this.get("group").on("click",y.wrapBehavior(this,"_onClick"))}};e._getLegendItem=function t(e){var r=e.get("parent");if(r&&r.name==="legendGroup"){return r}return null};e.activate=function t(r){var a=this;var i=this;var e=i.get("itemsGroup");var n=e.get("children");var o=void 0;n.forEach(function(t){o=x(t,"legend-marker");if(!o)return;var e=t.get("checked");if(a.get("highlight")){if(t.get("value")===r&&e){o.attr("stroke","#333")}else{o.attr("stroke",null)}}else{if(t.get("value")===r){o.attr("fillOpacity",i.get("activeOpacity"))}}});this.get("canvas").draw();return};e.deactivate=function t(){var a=this;var i=this;var e=i.get("itemsGroup");var r=e.get("children");var n=void 0;var o=this.get("unCheckColor");r.forEach(function(t){n=x(t,"legend-marker");if(!n)return;if(a.get("highlight")){var e=n.get("oriStroke");var r=t.get("checked");if(e&&!r)e=o;else e="";n.attr("stroke",e)}else{n.attr("fillOpacity",i.get("inactiveOpacity"))}});this.get("canvas").draw();return};e._onMousemove=function t(e){var r=this._getLegendItem(e.currentTarget);if(r&&r.get("checked")){var a=this.get("items");var i=new g("itemhover",e,true,true);i.item=d(a,r);i.checked=r.get("checked");i.currentTarget=e.currentTarget;this.deactivate();this.activate(r.get("value"));this.emit("itemhover",i)}else{this.deactivate();this.emit("itemunhover",e)}this.get("canvas").draw();return};e._onMouseleave=function t(e){this.deactivate();this.get("canvas").draw();this.emit("itemunhover",e);return};e._onClick=function t(e){var r=this._getLegendItem(e.currentTarget);var a=this.get("items");if(r&&!r.get("destroyed")){var i=r.get("checked");var n=this.get("selectedMode");var o=d(a,r);var s=new g("itemclick",e,true,true);s.item=o;s.currentTarget=r;s.appendInfo=e.currentTarget.get("appendInfo");s.checked=n==="single"?true:!i;if(!this.get("allowAllCanceled")&&i&&this.getCheckedCount()===1){this.emit("clicklastitem",s);return}var l=this.get("unCheckColor");var u=this.get("textStyle").fill;var f=void 0;var c=void 0;var v=void 0;if(n==="single"){var h=this.get("itemsGroup");var p=h.get("children");y.each(p,function(t){f=x(t,"legend-marker");c=x(t,"legend-text");v=x(t,"legend-item");if(t!==r){if(f.attr("fill")){f.attr("fill",l)}if(f.attr("stroke")){f.attr("stroke",l)}c.attr("fill",l);f.setSilent("checked",false);c.setSilent("checked",false);v.setSilent("checked",false);t.setSilent("checked",false)}else{if(f.attr("fill")){o&&o.marker&&f.attr("fill",o.marker.fill)}if(f.attr("stroke")){o&&o.marker&&f.attr("stroke",o.marker.stroke)}c.attr("fill",u);f.setSilent("checked",true);c.setSilent("checked",true);v.setSilent("checked",true);t.setSilent("checked",true)}})}else{f=x(r,"legend-marker");c=x(r,"legend-text");v=x(r,"legend-item");if(f.attr("fill")){o&&o.marker&&f.attr("fill",i?l:o.marker.fill)}if(f.attr("stroke")){o&&o.marker&&f.attr("stroke",i?l:o.marker.stroke)}c.attr("fill",i?l:u);r.setSilent("checked",!i);f.setSilent("checked",!i);c.setSilent("checked",!i);v.setSilent("checked",!i)}this.emit("itemclick",s)}this.get("canvas").draw();return};e._renderItems=function t(){var r=this;var e=this.get("items");if(this.get("reversed")){e.reverse()}y.each(e,function(t,e){r._addItem(t,e)});if(this.get("highlight")){var a=this.get("itemsGroup");var i=a.get("children");var n=void 0;i.forEach(function(t){n=x(t,"legend-marker");var e=n.get("oriStroke");if(!e){if(n.attr("stroke"))n.set("oriStroke",n.attr("stroke"));else n.set("oriStroke","")}})}};e._formatItemValue=function t(e){var r=this.get("formatter")||this.get("itemFormatter");if(r){e=r.call(this,e)}return e};e._getNextX=function t(){var e=this.get("layout");var r=this.get("itemGap");var a=this.get("itemsGroup");var i=this.get("itemWidth");var n=a.get("children");var o=0;if(e==="horizontal"){y.each(n,function(t){o+=(i?i:t.getBBox().width)+r})}return o};e._getNextY=function t(){var e=this.get("itemMarginBottom");var r=this.get("titleShape")?this.get("titleGap"):0;var a=this.get("layout");var i=this.get("itemsGroup");var n=this.get("titleShape");var o=i.get("children");var s=r;if(n){s+=n.getBBox().height}if(a==="vertical"){y.each(o,function(t){s+=t.getBBox().height+e})}return s};e._addItem=function t(e){var r=this.get("itemsGroup");var a=this._getNextX();var i=this._getNextY();var n=this.get("unCheckColor");var o=r.addGroup({x:a,y:i,value:e.value,checked:e.checked});o.set("viewId",this.get("viewId"));var s=this.get("textStyle");var l=this.get("_wordSpaceing");var u=0;if(e.marker){var f=y.mix({},e.marker,{x:e.marker.radius+a,y:i});if(!e.checked){if(f.fill){f.fill=n}if(f.stroke){f.stroke=n}}var c=o.addShape("marker",{type:"marker",attrs:f});c.attr("cursor","pointer");c.name="legend-marker";u+=c.getBBox().width+l}var v=y.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:m},s,{x:u+a,y:i,text:this._formatItemValue(e.value)});if(!e.checked){y.mix(v,{fill:n})}var h=o.addShape("text",{attrs:v});h.attr("cursor","pointer");h.name="legend-text";this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"));var p=o.getBBox();var g=this.get("itemWidth");var d=o.addShape("rect",{attrs:{x:a,y:i-p.height/2,fill:"#fff",fillOpacity:0,width:g||p.width,height:p.height}});d.attr("cursor","pointer");d.setSilent("origin",e);d.name="legend-item";this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"));o.name="legendGroup";return o};e._adjustHorizontal=function t(){var e=this.get("itemsGroup");var r=e.get("children");var a=this.get("maxLength");var i=this.get("itemGap");var n=this.get("itemMarginBottom");var o=this.get("titleShape")?this.get("titleGap"):0;var s=0;var l=0;var u=void 0;var f=void 0;var c=void 0;var v=this.get("itemWidth");if(e.getBBox().width>a){y.each(r,function(t){c=t.getBBox();u=v||c.width;f=c.height+n;if(a-l<u){s++;l=0}t.move(l,s*f+o);l+=u+i})}return};e._adjustVertical=function t(){var e=this.get("itemsGroup");var r=this.get("titleShape");var a=e.get("children");var i=this.get("maxLength");var n=this.get("itemGap");var o=this.get("itemMarginBottom");var s=this.get("titleGap");var l=r?r.getBBox().height+s:0;var u=this.get("itemWidth");var f=l;var c=void 0;var v=void 0;var h=void 0;var p=0;var g=0;if(e.getBBox().height>i){y.each(a,function(t){h=t.getBBox();c=h.width;v=h.height;if(u){p=u+n}else if(c>p){p=c+n}if(i-f<v){f=l;g+=p;t.move(g,l)}else{t.move(g,f)}f+=v+o})}return};e._adjustItems=function t(){var e=this.get("layout");if(e==="horizontal"){this._adjustHorizontal()}else{this._adjustVertical()}};e.getWidth=function t(){return a.prototype.getWidth.call(this)};e.getHeight=function t(){return a.prototype.getHeight.call(this)};e.move=function t(e,r){a.prototype.move.call(this,e,r)};return t}(a);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(3);var i=r(32);var n=r(14),o=n.FONT_FAMILY;var l=function(r){a(e,r);var t=e.prototype;t.getDefaultCfg=function t(){return{container:null,title:null,formatter:null,hoverable:true,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}};function e(t){var e;e=r.call(this,t)||this;e._init();e.beforeRender();e.render();e._adjustPositionOffset();e._bindEvents();return e}t._init=function t(){var e=this.get("group");var r=this.get("container");this.set("canvas",r.get("canvas"));var a=this.get("position");if(!e)e=r.addGroup({x:0-a[0],y:0-a[1]});this.set("group",e)};t._adjustPositionOffset=function t(){var e=this.get("position");var r=this.get("offset");var a=this.get("offsetX");var i=this.get("offsetY");if(!s.isArray(r)){var n=this.get("layout");r=n==="vertical"?[r,0]:[0,r]}if(a)r[0]=a;if(i)r[1]=i;var o=this.get("group").getBBox();this.move(-o.minX+e[0]+r[0],-o.minY+e[1]+r[1])};t.beforeRender=function t(){var e=this.get("group");var r=e.addGroup();this.set("itemsGroup",r)};t.render=function t(){this._renderTitle()};t._renderTitle=function t(){var e=this.get("title");var r=this.get("titleGap");r=r||0;if(e&&e.text){var a=this.get("group");var i=a.addShape("text",{attrs:s.mix({x:0,y:0-r,fill:"#333",textBaseline:"middle",fontFamily:o},e)});i.name="legend-title";this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"));this.set("titleShape",i)}};t.getCheckedCount=function t(){var e=this.get("itemsGroup");var r=e.get("children");var a=s.filter(r,function(t){return t.get("checked")});return a.length};t.setItems=function t(e){this.set("items",e);this.clear();this.render()};t.addItem=function t(e){var r=this.get("items");r.push(e);this.clear();this.render()};t.clear=function t(){var e=this.get("itemsGroup");e.clear();var r=this.get("group");r.clear();this.beforeRender()};t.destroy=function t(){var e=this.get("group");e&&e.destroy();this._attrs={};this.removeAllListeners();r.prototype.destroy.call(this)};t.getWidth=function t(){var e=this.get("group").getBBox();return e.width};t.getHeight=function t(){var e=this.get("group").getBBox();return e.height};t.move=function t(e,r){this.get("group").move(e,r)};t.draw=function t(){this.get("canvas").draw()};return e}(i);t.exports=l},function(t,e,r){function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var S=r(3);var a=r(157);var n=r(14),M=n.FONT_FAMILY;var C=S.DomUtil;var o=S.Group;var k="g2-legend";var A="g2-legend-title";var P="g2-legend-list";var I="g2-legend-list-item";var T="g2-legend-text";var O="g2-legend-marker";function L(t,e){return t.getElementsByClassName(e)[0]}function x(t,e){var r=t.className;if(S.isNil(r)){return t}r=r.split(" ");if(r.indexOf(e)>-1){return t}if(t.parentNode){if(t.parentNode.className===k){return t.parentNode}return x(t.parentNode,e)}return null}function b(t,e){var r=null;var a=e instanceof o?e.get("value"):e;S.each(t,function(t){if(t.value===a){r=t;return false}});return r}var s=function(a){i(t,a);function t(){return a.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);return S.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="'+k+'">'+'<h4 class="'+A+'"></h4>'+'<ul class="'+P+'"></ul>'+"</div>",itemTpl:'<li class="'+I+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}">'+'<i class="'+O+'" style="background-color:{color};"></i>'+'<span class="'+T+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:M},abridgeText:false,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:true})};e._init=function t(){return};e.beforeRender=function t(){return};e.render=function t(){this._renderHTML()};e._bindEvents=function t(){var e=this;var r=this.get("legendWrapper");var a=L(r,P);if(this.get("hoverable")){a.onmousemove=function(t){return e._onMousemove(t)};a.onmouseout=function(t){return e._onMouseleave(t)}}if(this.get("clickable")){a.onclick=function(t){return e._onClick(t)}}};e._onMousemove=function t(e){var r=this.get("items");var a=e.target;var i=a.className;i=i.split(" ");if(i.indexOf(k)>-1||i.indexOf(P)>-1){return}var n=x(a,I);var o=b(r,n.getAttribute("data-value"));if(o){this.deactivate();this.activate(n.getAttribute("data-value"));this.emit("itemhover",{item:o,currentTarget:n,checked:o.checked})}else if(!o){this.deactivate();this.emit("itemunhover",e)}return};e._onMouseleave=function t(e){this.deactivate();this.emit("itemunhover",e);return};e._onClick=function t(e){var a=this;var r=this.get("legendWrapper");var i=L(r,P);var n=this.get("unCheckColor");var o=this.get("items");var s=this.get("selectedMode");var l=i.childNodes;var u=e.target;var f=u.className;f=f.split(" ");if(f.indexOf(k)>-1||f.indexOf(P)>-1){return}var c=x(u,I);var v=L(c,T);var h=L(c,O);var p=b(o,c.getAttribute("data-value"));if(!p){return}var g=c.className;var d=c.getAttribute("data-color");if(s==="single"){p.checked=true;S.each(l,function(t){if(t!==c){var e=L(t,O);e.style.backgroundColor=n;t.className=t.className.replace("checked","unChecked");t.style.color=n;var r=b(o,t.getAttribute("data-value"));r.checked=false}else{if(v){v.style.color=a.get("textStyle").fill}if(h){h.style.backgroundColor=d}c.className=g.replace("unChecked","checked")}})}else{var y=g.indexOf("checked")!==-1;var m=0;S.each(l,function(t){if(t.className.indexOf("checked")!==-1){m++}});if(!this.get("allowAllCanceled")&&y&&m===1){this.emit("clicklastitem",{item:p,currentTarget:c,checked:s==="single"?true:p.checked});return}p.checked=!p.checked;if(y){if(h){h.style.backgroundColor=n}c.className=g.replace("checked","unChecked");c.style.color=n}else{if(h){h.style.backgroundColor=d}c.className=g.replace("unChecked","checked");c.style.color=this.get("textStyle").fill}}this.emit("itemclick",{item:p,currentTarget:c,checked:s==="single"?true:p.checked});return};e.activate=function t(e){var a=this;var i=this;var n=i.get("items");var o=b(n,e);var r=i.get("legendWrapper");var s=L(r,P);var l=s.childNodes;l.forEach(function(t){var e=L(t,O);var r=b(n,t.getAttribute("data-value"));if(a.get("highlight")){if(r===o&&r.checked){e.style.border="1px solid #333";return}}else{if(r===o){e.style.opacity=i.get("activeOpacity")}else{if(r.checked)e.style.opacity=i.get("inactiveOpacity")}}});return};e.deactivate=function t(){var r=this;var a=this;var e=a.get("legendWrapper");var i=L(e,P);var n=i.childNodes;n.forEach(function(t){var e=L(t,O);if(r.get("highlight")){e.style.border="1px solid #fff"}else{e.style.opacity=a.get("inactiveOpacity")}});return};e._renderHTML=function t(){var d=this;var e=this.get("container");var r=this.get("title");var a=this.get("containerTpl");var y=C.createDom(a);var i=L(y,A);var m=L(y,P);var x=this.get("unCheckColor");var n=S.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:M,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:M},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||typeof e==="string"&&e.constructor===String){var o=e.replace("#","");e=document.getElementById(o);e.appendChild(y)}else{var s=this.get("position");var l={};if(s==="left"||s==="right"){l={maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}}else{l={maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"}}C.modifyCSS(y,S.mix({},n.CONTAINER_CLASS,l,this.get(k)));e.appendChild(y)}C.modifyCSS(m,S.mix({},n.LIST_CLASS,this.get(P)));if(i){if(r&&r.text){i.innerHTML=r.text;C.modifyCSS(i,S.mix({},n.TITLE_CLASS,this.get(A),r))}else{y.removeChild(i)}}var u=this.get("items");var b=this.get("itemTpl");var f=this.get("position");var c=this.get("layout");var v=f==="right"||f==="left"||c==="vertical"?"block":"inline-block";var _=S.mix({},n.LIST_ITEM_CLASS,{display:v},this.get(I));var w=S.mix({},n.MARKER_CLASS,this.get(O));S.each(u,function(t,e){var r=t.checked;var a=d._formatItemValue(t.value);var i=t.marker.fill||t.marker.stroke;var n=r?i:x;var o;if(S.isFunction(b)){o=b(a,n,r,e)}else{o=b}var s=S.substitute(o,S.mix({},t,{index:e,checked:r?"checked":"unChecked",value:a,color:n,originColor:i,originValue:t.value.replace(/\"/g,"&quot;")}));var l=C.createDom(s);l.style.color=d.get("textStyle").fill;var u=L(l,O);var f=L(l,T);C.modifyCSS(l,_);u&&C.modifyCSS(u,w);if(!r){l.style.color=x;if(u){u.style.backgroundColor=x}}m.appendChild(l);if(d.get("abridgeText")){var c=a;var v=l.offsetWidth;var h=d.get("textStyle").fontSize;if(isNaN(h)){if(h.indexOf("pt")!==-1)h=parseFloat(h.substr(0,h.length-2))*1/72*96;else if(h.indexOf("px")!==-1)h=parseFloat(h.substr(0,h.length-2))}var p=h*c.length;var g=Math.floor(v/h);if(v<2*h){c=""}else if(v<p){if(g>1)c=c.substr(0,g-1)+"..."}f.innerText=c;l.addEventListener("mouseover",function(){var t=L(y.parentNode,"textTip");t.style.display="block";t.style.left=l.offsetLeft+l.offsetWidth+"px";t.style.top=l.offsetTop+15+"px";t.innerText=a});l.addEventListener("mouseout",function(){var t=L(y.parentNode,"textTip");t.style.display="none"})}});if(this.get("abridgeText")){var h=this.get("tipTpl");var p=C.createDom(h);var g=this.get("tipStyle");C.modifyCSS(p,g);y.parentNode.appendChild(p);p.addEventListener("mouseover",function(){p.style.display="none"})}this.set("legendWrapper",y)};e._adjustPositionOffset=function t(){var e=this.get("autoPosition");if(e===false){return}var r=this.get("position");var a=this.get("offset");var i=this.get("offsetX");var n=this.get("offsetY");if(i)a[0]=i;if(n)a[1]=n;var o=this.get("legendWrapper");o.style.left=r[0]+"px";o.style.top=r[1]+"px";o.style.marginLeft=a[0]+"px";o.style.marginTop=a[1]+"px"};e.getWidth=function t(){return C.getOuterWidth(this.get("legendWrapper"))};e.getHeight=function t(){return C.getOuterHeight(this.get("legendWrapper"))};e.move=function t(e,r){if(!/^\#/.test(this.get("container"))){C.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:r+"px"});this.set("x",e);this.set("y",r)}else{a.prototype.move.call(this,e,r)}};e.destroy=function t(){var e=this.get("legendWrapper");if(e&&e.parentNode){e.parentNode.removeChild(e)}a.prototype.destroy.call(this)};return t}(a);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(32);var c=r(3);var n=function(r){a(e,r);var t=e.prototype;t.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return c.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:false})};function e(t){var e;e=r.call(this,t)||this;e._init_();e.render();return e}t._init_=function t(){var e=this;var r=e.get("plot");var a;if(e.type==="rect"){a=r.addGroup({zIndex:0})}else{a=r.addGroup()}this.set("container",a)};t._addLineShape=function t(e,r){var a=this.get("container");var i=a.addShape("line",{capture:false,attrs:e});this.set("crossLineShape"+r,i);return i};t._renderHorizontalLine=function t(e,r){var a=c.mix(this.get("lineStyle"),this.get("style"));var i=c.mix({x1:r?r.bl.x:e.get("width"),y1:0,x2:r?r.br.x:0,y2:0},a);this._addLineShape(i,"X")};t._renderVerticalLine=function t(e,r){var a=c.mix(this.get("lineStyle"),this.get("style"));var i=c.mix({x1:0,y1:r?r.bl.y:e.get("height"),x2:0,y2:r?r.tl.y:0},a);this._addLineShape(i,"Y")};t._renderBackground=function t(e,r){var a=c.mix(this.get("rectStyle"),this.get("style"));var i=this.get("container");var n=c.mix({x:r?r.tl.x:0,y:r?r.tl.y:e.get("height"),width:r?r.br.x-r.bl.x:e.get("width"),height:r?Math.abs(r.tl.y-r.bl.y):e.get("height")},a);var o=i.addShape("rect",{attrs:n,capture:false});this.set("crosshairsRectShape",o);return o};t._updateRectShape=function t(e){var r;var a=this.get("crosshairsRectShape");var i=this.get("isTransposed");var n=e[0];var o=e[e.length-1];var s=i?"y":"x";var l=i?"height":"width";var u=n[s];if(e.length>1&&n[s]>o[s]){u=o[s]}if(this.get("width")){a.attr(s,u-this.get("crosshairs").width/2);a.attr(l,this.get("width"))}else{if(c.isArray(n.point[s])&&!n.size){var f=n.point[s][1]-n.point[s][0];a.attr(s,n.point[s][0]);a.attr(l,f)}else{r=3*n.size/4;a.attr(s,u-r);if(e.length===1){a.attr(l,3*n.size/2)}else{a.attr(l,Math.abs(o[s]-n[s])+2*r)}}}};t.render=function t(){var e=this.get("canvas");var r=this.get("plotRange");var a=this.get("isTransposed");this.clear();switch(this.get("type")){case"x":this._renderHorizontalLine(e,r);break;case"y":this._renderVerticalLine(e,r);break;case"cross":this._renderHorizontalLine(e,r);this._renderVerticalLine(e,r);break;case"rect":this._renderBackground(e,r);break;default:a?this._renderHorizontalLine(e,r):this._renderVerticalLine(e,r)}};t.show=function t(){var e=this.get("container");r.prototype.show.call(this);e.show()};t.hide=function t(){var e=this.get("container");r.prototype.hide.call(this);e.hide()};t.clear=function t(){var e=this.get("container");this.set("crossLineShapeX",null);this.set("crossLineShapeY",null);this.set("crosshairsRectShape",null);r.prototype.clear.call(this);e.clear()};t.destroy=function t(){var e=this.get("container");r.prototype.destroy.call(this);e.remove()};t.setPosition=function t(e,r,a){var i=this.get("crossLineShapeX");var n=this.get("crossLineShapeY");var o=this.get("crosshairsRectShape");if(n&&!n.get("destroyed")){n.move(e,0)}if(i&&!i.get("destroyed")){i.move(0,r)}if(o&&!o.get("destroyed")){this._updateRectShape(a)}};return e}(i);t.exports=n},function(t,e){var s=20;var r={_calcTooltipPosition:function t(e,r,a,i,n,o){var s=0;var l=0;var u=20;if(o){var f=o.getBBox();s=f.width;l=f.height;e=f.x;r=f.y;u=5}switch(a){case"inside":e=e+s/2-i/2;r=r+l/2-n/2;break;case"top":e=e+s/2-i/2;r=r-n-u;break;case"left":e=e-i-u;r=r+l/2-n/2;break;case"right":e=e+s+u;r=r+l/2-n/2;break;case"bottom":default:e=e+s/2-i/2;r=r+l+u;break}return[e,r]},_constraintPositionInBoundary:function t(e,r,a,i,n,o){if(e+a+s>n){e-=a+s;e=e<0?0:e}else if(e+s<0){e=s}else{e+=s}if(r+i+s>o){r-=i+s;r=r<0?0:r}else if(r+s<0){r=s}else{r+=s}return[e,r]},_constraintPositionInPlot:function t(e,r,a,i,n,o){if(e+a>n.tr.x){if(o){e-=a+1}else{e-=a+2*s}}if(e<n.tl.x){e=n.tl.x}if(!o){if(r+i>n.bl.y){r-=i+2*s}if(r<n.tl.y){r=n.tl.y}}return[e,r]}};t.exports=r},function(t,e,r){var o=r(3);var a={setMarkers:function t(e,r){var a=this;var i=a.get("markerGroup");var n=a.get("frontPlot");if(!i){i=n.addGroup({zIndex:1,capture:false});a.set("markerGroup",i)}else{i.clear()}o.each(e,function(t){var e=o.mix({fill:t.color,symbol:"circle",shadowColor:t.color},r,{x:t.x,y:t.y});if(t.marker&&t.marker.activeSymbol){e.symbol=t.marker.activeSymbol}i.addShape("marker",{color:t.color,attrs:e})});this.set("markerItems",e)},clearMarkers:function t(){var e=this.get("markerGroup");e&&e.clear()}};t.exports=a},function(t,e,r){function n(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(20);var o=r(160);var l=r(162);var u=r(161);var i=r(69);var S=r(3);var f=r(14),c=f.FONT_FAMILY;var M=S.DomUtil;var C=S.MatrixUtil;var v=function(w){a(e,w);var t=e.prototype;t.getDefaultCfg=function t(){var e=w.prototype.getDefaultCfg.call(this);return S.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:c,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})};function e(t){var e;e=w.call(this,t)||this;S.assign(n(e),u);S.assign(n(e),l);var r=e.get("crosshairs");if(r){var a=r.type==="rect"?e.get("backPlot"):e.get("frontPlot");var i=new o(S.mix({plot:a,plotRange:e.get("plotRange"),canvas:e.get("canvas")},e.get("crosshairs")));i.hide();e.set("crosshairGroup",i)}e._init_();if(e.get("items")){e.render()}return e}t._init_=function t(){var e=this;var r=e.get("padding");var a=e.get("frontPlot");var i=a.addGroup({capture:false});e.set("markerGroup",i);var n=a.addGroup();n.hide();e.set("container",n);var o=n.addShape("rect",{attrs:S.mix({},e.get("boardStyle"))});e.set("board",o);var s=e.get("titleStyle");if(e.get("showTitle")){var l=n.addShape("text",{attrs:S.mix({x:r.left,y:r.top},s)});e.set("titleShape",l);l.name="tooltip-title"}var u=n.addGroup();u.move(r.left,r.top+s.lineHeight+s.padding);e.set("itemsGroup",u)};t.render=function t(){var a=this;a.clear();var e=a.get("container");var r=a.get("board");var i=a.get("showTitle");var n=a.get("titleContent");var o=this.get("titleShape");var s=this.get("itemsGroup");var l=a.get("items");var u=a.get("padding");if(o&&i){o.attr("text",n)}if(s){var f=a.get("itemGap");var c=0;var v=0;S.each(l,function(t){var e=a._addItem(t);e.move(c,v);s.add(e);var r=e.getBBox().height;v+=r+f})}var h=e.getBBox();var p=h.width+u.right;var g=h.height+u.bottom;r.attr("width",p);r.attr("height",g);a._alignToRight(p)};t.clear=function t(){var e=this.get("titleShape");var r=this.get("itemsGroup");var a=this.get("board");e.text="";r.clear();a.attr("width",0);a.attr("height",0)};t.show=function t(){var e=this.get("container");e.show();var r=this.get("crosshairGroup");r&&r.show();var a=this.get("markerGroup");a&&a.show();w.prototype.show.call(this);this.get("canvas").draw()};t.hide=function t(){var e=this.get("container");e.hide();var r=this.get("crosshairGroup");r&&r.hide();var a=this.get("markerGroup");a&&a.hide();w.prototype.hide.call(this);this.get("canvas").draw()};t.destroy=function t(){var e=this.get("container");var r=this.get("crosshairGroup");r&&r.destroy();var a=this.get("markerGroup");a&&a.remove();w.prototype.destroy.call(this);e.remove()};t.setPosition=function t(e,r,a){var i=this.get("container");var n=this.get("canvas").get("el");var o=M.getWidth(n);var s=M.getHeight(n);var l=i.getBBox();var u=l.width;var f=l.height;var c=e;var v=r;var h;if(this.get("position")){var p=l.width;var g=l.height;h=this._calcTooltipPosition(e,r,this.get("position"),p,g,a);e=h[0];r=h[1]}else{h=this._constraintPositionInBoundary(e,r,u,f,o,s);e=h[0];r=h[1]}if(this.get("inPlot")){var d=this.get("plotRange");h=this._constraintPositionInPlot(e,r,u,f,d,this.get("enterable"));e=h[0];r=h[1]}var y=this.get("markerItems");if(!S.isEmpty(y)){c=y[0].x;v=y[0].y}var m=[1,0,0,0,1,0,0,0,1];var x=C.transform(m,[["t",e,r]]);i.stopAnimate();i.animate({matrix:x},this.get("animationDuration"));var b=this.get("crosshairGroup");if(b){var _=this.get("items");b.setPosition(c,v,_)}w.prototype.setPosition.call(this,e,r)};t._addItem=function t(e){var r=new s.Group;var a=this.get("markerStyle").radius;if(e.marker){var i=S.mix({},e.marker,{x:e.marker.radius/2,y:0,symbol:e.marker.activeSymbol||e.marker.symbol});r.addShape("marker",{attrs:i});a=e.marker.radius}var n=this.get("nameStyle");r.addShape("text",{attrs:S.mix({x:a+n.padding,y:0,text:e.name},n)});var o=this.get("valueStyle");r.addShape("text",{attrs:S.mix({x:r.getBBox().width+o.padding,y:0,text:e.value},o)});return r};t._alignToRight=function t(n){var o=this;var e=this.get("itemsGroup");var r=e.get("children");S.each(r,function(t){var e=t.get("children");var r=e[2];var a=r.getBBox().width;var i=n-a-o.get("padding").right*2;r.attr("x",i)})};return e}(i);t.exports=v},function(t,e,r){var a=r(66);var i=r(23);var o=r(0);var n=function t(e){t.superclass.constructor.call(this,e)};o.extend(n,a);o.augment(n,{getPointRauis:function t(e,r){return i.getPointRadius(e,r)},getCirclePoint:function t(e,r,a){var i=this;var n=i.get("coord");var o=n.getCenter();var s=i._isEmitLabels();var l=i.getPointRauis(n,a);if(l===0){return null}if(n.isTransposed&&l>r&&!s){var u=Math.asin(r/(2*l));e=e+u*2}else{l=l+r}return{x:o.x+l*Math.cos(e),y:o.y+l*Math.sin(e),angle:e,r:l}},getArcPoint:function t(e,r){var a=this;var i;r=r||0;if(o.isArray(e.x)||o.isArray(e.y)){i={x:o.isArray(e.x)?e.x[r]:e.x,y:o.isArray(e.y)?e.y[r]:e.y}}else{i=e}a.transLabelPoint(i);return i},getPointAngle:function t(e){var r=this;var a=r.get("coord");return i.getPointAngle(a,e)},getMiddlePoint:function t(e){var r=this;var a=r.get("coord");var i=e.length;var n={x:0,y:0};o.each(e,function(t){n.x+=t.x;n.y+=t.y});n.x/=i;n.y/=i;n=a.convert(n);return n},_isToMiddle:function t(e){return e.x.length>2},getLabelPoint:function t(e,r,a){var i=this;var n=e.text[a];var o=1;var s;if(i._isToMiddle(r)){s=i.getMiddlePoint(r.points)}else{if(e.text.length===1&&a===0){a=1}else if(a===0){o=-1}s=i.getArcPoint(r,a)}var l=i.getDefaultOffset(e);l=l*o;var u=i.getPointAngle(s);var f=i.getCirclePoint(u,l,s);if(!f){f={text:""}}else{f.text=n;f.angle=u;f.color=r.color}if(e.autoRotate||typeof e.autoRotate==="undefined"){var c=f.textStyle?f.textStyle.rotate:null;if(!c){c=f.rotate||i.getLabelRotate(u,l,r)}f.rotate=c}f.start={x:s.x,y:s.y};return f},_isEmitLabels:function t(){var e=this.get("label");return e.labelEmit},getLabelRotate:function t(e){var r=this;var a;a=e*180/Math.PI;a+=90;if(r._isEmitLabels()){a-=90}if(a){if(a>90){a=a-180}else if(a<-90){a=a+180}}return a/180*Math.PI},getLabelAlign:function t(e){var r=this;var a=r.get("coord");var i;if(r._isEmitLabels()){if(e.angle<=Math.PI/2&&e.angle>-Math.PI/2){i="left"}else{i="right"}}else if(!a.isTransposed){i="center"}else{var n=a.getCenter();var o=r.getDefaultOffset(e);if(Math.abs(e.x-n.x)<1){i="center"}else if(e.angle>Math.PI||e.angle<=0){if(o>0){i="left"}else{i="right"}}else{if(o>0){i="right"}else{i="left"}}}return i}});t.exports=n},function(t,e){t.exports={toFront:function t(e){var r=e.get("parent");var a=r.get("children").indexOf(e);e.set("_originIndex",a);e.toFront()},resetZIndex:function t(e){var r=e.get("parent");var a=e.get("_originIndex");var i=r.get("children");var n=i.indexOf(e);if(a>=0&&a!==n){i.splice(n,1);i.splice(a,0,e)}}}},function(t,e,r){t.exports={Scale:r(342),Coord:r(343),Axis:r(348),Guide:r(349),Legend:r(352),Tooltip:r(354),Event:r(355)}},function(t,e,r){var i=r(16);var n=r(0);var o=r(168);function s(t,e,r){if(r===void 0){r=1}var a=[t.x,t.y,r];n.vec3.transformMat3(a,a,e);return{x:a[0],y:a[1]}}function l(t){var e=t.getBBox();var r={x:e.minX,y:e.minY};var a={x:e.maxX,y:e.maxY};var i=t.attr("matrix");r=s(r,i);a=s(a,i);return{minX:r.x,minY:r.y,maxX:a.x,maxY:a.y}}t.exports=function t(e,r){var a=r;n.each(e.get("children"),function(t){if(t instanceof i.Group){n.each(t.get("children"),function(t){if(t instanceof i.Group&&t.get("children").length||t instanceof i.Path){a=o(a,t.getBBox())}else if(t instanceof i.Text){var e=l(t);a=o(a,e)}})}});return a}},function(t,e){t.exports=function t(e,r){return{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}},function(t,e){t.exports=function t(e){return{minX:e.tl.x,minY:e.tl.y,maxX:e.br.x,maxY:e.br.y}}},function(t,e,r){"use strict";e["a"]=M;e["b"]=C;e["c"]=k;var a=r(72);var i=r(443);var n=r(444);var o=r(445);var s=r(446);var l=r(447);var u=r(448);var f=r(449);var c=r(450);var v=r(451);var h=r(452);var p=r(453);var g=r(454);var d=r(455);var y=r(456);var m=r(457);var x=r(458);var b=r(459);var _=r(363);var w=r(460);var S=0;function M(t,e,r,a){this._groups=t;this._parents=e;this._name=r;this._id=a}function C(t){return Object(a["selection"])().transition(t)}function k(){return++S}var A=a["selection"].prototype;M.prototype=C.prototype={constructor:M,select:h["a"],selectAll:p["a"],filter:u["a"],merge:f["a"],selection:g["a"],transition:b["a"],call:A.call,nodes:A.nodes,node:A.node,size:A.size,empty:A.empty,each:A.each,on:c["a"],attr:i["a"],attrTween:n["a"],style:d["a"],styleTween:y["a"],text:m["a"],textTween:x["a"],remove:v["a"],tween:_["a"],delay:o["a"],duration:s["a"],ease:l["a"],end:w["a"]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=r(59);r.d(e,"now",function(){return a["b"]});r.d(e,"timer",function(){return a["c"]});r.d(e,"timerFlush",function(){return a["d"]});var i=r(192);r.d(e,"timeout",function(){return i["a"]});var n=r(193);r.d(e,"interval",function(){return n["a"]})},function(t,e,r){var i=r(0);var n=i.DomUtil;var o=["start","process","end","reset"];var a=function(){var t=e.prototype;t.getDefaultCfg=function t(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}};t._start=function t(e){var r=this;r.preStart&&r.preStart(e);r.start(e);r.onStart&&r.onStart(e)};t._process=function t(e){var r=this;r.preProcess&&r.preProcess(e);r.process(e);r.onProcess&&r.onProcess(e)};t._end=function t(e){var r=this;r.preEnd&&r.preEnd(e);r.end(e);r.onEnd&&r.onEnd(e)};t._reset=function t(e){var r=this;r.preReset&&r.preReset(e);r.reset(e);r.onReset&&r.onReset(e)};t.start=function t(){};t.process=function t(){};t.end=function t(){};t.reset=function t(){};function e(t,e){var r=this;var a=r.getDefaultCfg();i.assign(r,a,t);r.view=r.chart=e;r.canvas=e.get("canvas");r._bindEvents()}t._bindEvents=function t(){var r=this;var e=r.canvas;var a=e.get("canvasDOM");r._clearEvents();i.each(o,function(t){var e=i.upperFirst(t);r["_on"+e+"Listener"]=n.addEventListener(a,r[t+"Event"],i.wrapBehavior(r,"_"+t))})};t._clearEvents=function t(){var r=this;i.each(o,function(t){var e="_on"+i.upperFirst(t)+"Listener";r[e]&&r[e].remove()})};t.destroy=function t(){this._clearEvents()};return e}();t.exports=a},function(t,e,r){var a=r(74);var i=r(16);var n=r(126);var o=r(147);var s=r(7);var l=r(18);var u=r(0);var f={version:s.version,Animate:n,Chart:o,Global:s,Scale:a,Shape:l,Util:u,G:i,DomUtil:u.DomUtil,MatrixUtil:u.MatrixUtil,PathUtil:u.PathUtil};f.track=function(){console.warn("G2 tracks nothing ;-)")};if(typeof window!=="undefined"){if(window.G2){console.warn("There are multiple versions of G2. Version "+f.version+"'s reference is 'window.G2_3'")}else{window.G2=f}}t.exports=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=r(194);r.d(e,"easeLinear",function(){return a["a"]});var i=r(195);r.d(e,"easeQuad",function(){return i["b"]});r.d(e,"easeQuadIn",function(){return i["a"]});r.d(e,"easeQuadOut",function(){return i["c"]});r.d(e,"easeQuadInOut",function(){return i["b"]});var n=r(196);r.d(e,"easeCubic",function(){return n["b"]});r.d(e,"easeCubicIn",function(){return n["a"]});r.d(e,"easeCubicOut",function(){return n["c"]});r.d(e,"easeCubicInOut",function(){return n["b"]});var o=r(197);r.d(e,"easePoly",function(){return o["b"]});r.d(e,"easePolyIn",function(){return o["a"]});r.d(e,"easePolyOut",function(){return o["c"]});r.d(e,"easePolyInOut",function(){return o["b"]});var s=r(198);r.d(e,"easeSin",function(){return s["b"]});r.d(e,"easeSinIn",function(){return s["a"]});r.d(e,"easeSinOut",function(){return s["c"]});r.d(e,"easeSinInOut",function(){return s["b"]});var l=r(199);r.d(e,"easeExp",function(){return l["b"]});r.d(e,"easeExpIn",function(){return l["a"]});r.d(e,"easeExpOut",function(){return l["c"]});r.d(e,"easeExpInOut",function(){return l["b"]});var u=r(200);r.d(e,"easeCircle",function(){return u["b"]});r.d(e,"easeCircleIn",function(){return u["a"]});r.d(e,"easeCircleOut",function(){return u["c"]});r.d(e,"easeCircleInOut",function(){return u["b"]});var f=r(201);r.d(e,"easeBounce",function(){return f["c"]});r.d(e,"easeBounceIn",function(){return f["a"]});r.d(e,"easeBounceOut",function(){return f["c"]});r.d(e,"easeBounceInOut",function(){return f["b"]});var c=r(202);r.d(e,"easeBack",function(){return c["b"]});r.d(e,"easeBackIn",function(){return c["a"]});r.d(e,"easeBackOut",function(){return c["c"]});r.d(e,"easeBackInOut",function(){return c["b"]});var v=r(203);r.d(e,"easeElastic",function(){return v["c"]});r.d(e,"easeElasticIn",function(){return v["a"]});r.d(e,"easeElasticOut",function(){return v["c"]});r.d(e,"easeElasticInOut",function(){return v["b"]})},function(t,e,r){var M=r(5);var C=r(9);var k=r(76);var A=5;var P=7;var I=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10];var T=[0,1,2,4,5,10];var O=1e-12;t.exports=function(t){var e=t.min;var r=t.max;var a=t.interval;var i=t.minTickInterval;var n=[];var o=t.minCount||A;var s=t.maxCount||P;var l=o===s;var u=M(t.minLimit)?-Infinity:t.minLimit;var f=M(t.maxLimit)?Infinity:t.maxLimit;var c=(o+s)/2;var v=c;var h=t.snapArray?t.snapArray:l?I:T;if(e===u&&r===f&&l){a=(r-e)/(v-1)}if(M(e)){e=0}if(M(r)){r=0}if(Math.abs(r-e)<O){if(e===0){r=1}else{if(e>0){e=0}else{r=0}}if(r-e<5&&!a&&r-e>=1){a=1}}if(M(a)){var p=(r-e)/(c-1);a=k.snapFactorTo(p,h,"ceil");if(s!==o){v=parseInt((r-e)/a,10);if(v>s){v=s}if(v<o){v=o}a=k.snapFactorTo((r-e)/(v-1),h,"floor")}}if(C(i)&&a<i){a=i}if(t.interval||s!==o){r=Math.min(k.snapMultiple(r,a,"ceil"),f);e=Math.max(k.snapMultiple(e,a,"floor"),u);v=Math.round((r-e)/a);e=k.fixedBase(e,a);r=k.fixedBase(r,a)}else{c=parseInt(c,10);var g=(r+e)/2;var d=k.snapMultiple(g,a,"ceil");var y=Math.floor((c-2)/2);var m=d+y*a;var x;if(c%2===0){x=d-y*a}else{x=d-(y+1)*a}var b=null;while(m<r&&(b===null||m>b)){b=m;m=k.fixedBase(m+a,a)}var _=null;while(x>e&&(_===null||x<_)){_=x;x=k.fixedBase(x-a,a)}r=m;e=x}r=Math.min(r,f);e=Math.max(e,u);n.push(e);for(var w=1;w<v;w++){var S=k.fixedBase(a*w+e,a);if(S<r){n.push(S)}}if(n[n.length-1]<r){n.push(r)}return{min:e,max:r,interval:a,count:v,ticks:n}}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(17);var n=r(9);var o=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initDefaultCfg=function t(){e.prototype._initDefaultCfg.call(this);this.isIdentity=true;this.type="identity";this.value=null};r.getText=function t(){return this.value.toString()};r.scale=function t(e){if(this.value!==e&&n(e)){return e}return this.range[0]};r.invert=function t(){return this.value};return t}(i);i.Identity=o;t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(79);var l=r(2);var u=r(5);var n=r(10);var o=r(17);var s=r(33);var f=r(178);var c=r(71);var v=function(s){a(t,s);function t(){return s.apply(this,arguments)||this}var e=t.prototype;e._initDefaultCfg=function t(){s.prototype._initDefaultCfg.call(this);this.type="time";this.mask="YYYY-MM-DD"};e.init=function t(){var r=this;var e=r.values;if(e&&e.length){var a=[];var i=Infinity;var n=i;var o=0;l(e,function(t){var e=r._toTimeStamp(t);if(isNaN(e)){throw new TypeError("Invalid Time: "+t)}if(i>e){n=i;i=e}else if(n>e){n=e}if(o<e){o=e}a.push(e)});if(e.length>1){r.minTickInterval=n-i}if(u(r.min)||r._toTimeStamp(r.min)>i){r.min=i}if(u(r.max)||r._toTimeStamp(r.max)<o){r.max=o}}s.prototype.init.call(this)};e.calculateTicks=function t(){var e=this;var r=e.min;var a=e.max;var i=e.tickCount;var n=e.tickInterval;var o=f({min:r,max:a,minCount:i,maxCount:i,interval:n,minInterval:e.minTickInterval});return o.ticks};e.getText=function t(e){var r=this.formatter;e=this.translate(e);e=r?r(e):i.format(e,this.mask);return e};e.scale=function t(e){if(n(e)){e=this.translate(e)}return s.prototype.scale.call(this,e)};e.translate=function t(e){return this._toTimeStamp(e)};e._toTimeStamp=function t(e){return c.toTimeStamp(e)};return t}(s);o.Time=v;t.exports=v},function(t,e,r){var Y=r(76);var V=r(5);var H=6;var X=[1,2,4,6,8,12];var W=60*1e3;var G=3600*1e3;var q=24*3600*1e3;function U(t){return new Date(t).getFullYear()}function Z(t){return new Date(t,0,1).getTime()}function Q(t){return new Date(t).getMonth()}function $(t,e){var r=U(t);var a=U(e);var i=Q(t);var n=Q(e);return(a-r)*12+(n-i)%12}function J(t,e){return new Date(t,e,1).getTime()}function K(t,e){return Math.ceil((e-t)/q)}function tt(t,e){return Math.ceil((e-t)/G)}function et(t,e){return Math.ceil((e-t)/(60*1e3))}t.exports=function(t){var e=t.minInterval;var r=[];var a=t.min;var i=t.max;var n=t.interval;var o;if(i===a){i=a+q}if(V(n)){var s=i-a;var l=q;var u=365*l;n=parseInt(s/(t.maxCount||H),10);if(e&&e>n){n=e}var f=n/u;var c=U(a);if(f>.51){var v=Math.ceil(f);var h=U(i);for(var p=c;p<=h+v;p=p+v){r.push(Z(p))}n=null}else if(f>.0834){var g=Math.ceil(f/.0834);var d=Q(a);var y=$(a,i);for(var m=0;m<=y+g;m=m+g){r.push(J(c,m+d))}n=null}else if(n>l*.5){var x=new Date(a);var b=x.getFullYear();var _=x.getMonth(a);var w=x.getDate();var S=Math.ceil(n/l);var M=K(a,i);n=S*l;for(var C=0;C<M+S;C=C+S){r.push(new Date(b,_,w+C).getTime())}}else if(n>G){var k=new Date(a);var A=k.getFullYear();var P=k.getMonth(a);var I=k.getDate();var T=k.getHours();var O=Y.snapTo(X,Math.ceil(n/G));var L=tt(a,i);n=O*G;for(var E=0;E<=L+O;E=E+O){r.push(new Date(A,P,I,T+E).getTime())}}else if(n>W){var D=et(a,i);var F=Math.ceil(n/W);n=F*W;for(var B=0;B<=D+F;B=B+F){r.push(a+B*W)}}else{if(n<1e3){n=1e3}a=Math.floor(a/1e3)*1e3;var R=Math.ceil((i-a)/1e3);var j=Math.ceil(n/1e3);n=j*1e3;for(var N=0;N<R+j;N=N+j){r.push(a+N*1e3)}}}if(!r.length){a=Math.floor(a/1e3)*1e3;i=Math.ceil(i/1e3)*1e3;o=(i-a)/n;for(var z=0;z<=o;z++){r.push(Y.fixedBase(n*z+a,n))}}return{max:i,min:a,interval:n,ticks:r,count:r.length}}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(17);var n=r(77);var o=r(79);var s=r(78);var l=r(71);var u=r(2);var f=r(9);var c=r(25);var v=r(10);var h=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initDefaultCfg=function t(){e.prototype._initDefaultCfg.call(this);this.type="timeCat";this.sortable=true;this.tickCount=5;this.mask="YYYY-MM-DD"};r.init=function t(){var r=this;var a=this.values;u(a,function(t,e){a[e]=r._toTimeStamp(t)});if(this.sortable){a.sort(function(t,e){return t-e})}if(!r.ticks){r.ticks=this.calculateTicks()}};r.calculateTicks=function t(){var e=this;var r=e.tickCount;var a;if(r){var i=s({maxCount:r,data:e.values,isRounding:e.isRounding});a=i.ticks}else{a=e.values}return a};r.translate=function t(e){e=this._toTimeStamp(e);var r=this.values.indexOf(e);if(r===-1){if(f(e)&&e<this.values.length){r=e}else{r=NaN}}return r};r.scale=function t(e){var r=this.rangeMin();var a=this.rangeMax();var i=this.translate(e);var n;if(this.values.length===1||isNaN(i)){n=i}else if(i>-1){n=i/(this.values.length-1)}else{n=0}return r+n*(a-r)};r.getText=function t(e){var r="";var a=this.translate(e);if(a>-1){r=this.values[a]}else{r=e}var i=this.formatter;r=parseInt(r,10);r=i?i(r):o.format(r,this.mask);return r};r.getTicks=function t(){var r=this;var e=this.ticks;var a=[];u(e,function(t){var e;if(c(t)){e=t}else{e={text:v(t)?t:r.getText(t),value:r.scale(t),tickValue:t}}a.push(e)});return a};r._toTimeStamp=function t(e){return l.toTimeStamp(e)};return t}(n);i.TimeCat=h;t.exports=h},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var v=r(2);var i=r(17);var n=r(33);function h(t,e){if(t===1){return 1}return Math.log(e)/Math.log(t)}var o=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initDefaultCfg=function t(){e.prototype._initDefaultCfg.call(this);this.type="log";this.tickCount=10;this.base=2;this._minTick=null};r.calculateTicks=function t(){var e=this;var r=e.base;var a;if(e.min<0){throw new Error("The minimum value must be greater than zero!")}var i=h(r,e.max);if(e.min>0){a=Math.floor(h(r,e.min))}else{var n=e.values;var o=e.max;v(n,function(t){if(t>0&&t<o){o=t}});if(o===e.max){o=e.max/r}if(o>1){o=1}a=Math.floor(h(r,o));e._minTick=a;e.positiveMin=o}var s=i-a;var l=e.tickCount;var u=Math.ceil(s/l);var f=[];for(var c=a;c<i+u;c=c+u){f.push(Math.pow(r,c))}if(e.min===0){f.unshift(0)}return f};r._getScalePercent=function t(e){var r=this.max;var a=this.min;if(r===a){return 0}if(e<=0){return 0}var i=this.base;var n=this.positiveMin;if(n){a=n*1/i}var o;if(e<n){o=e/n/(h(i,r)-h(i,a))}else{o=(h(i,e)-h(i,a))/(h(i,r)-h(i,a))}return o};r.scale=function t(e){var r=this._getScalePercent(e);var a=this.rangeMin();var i=this.rangeMax();return a+r*(i-a)};r.invert=function t(e){var r=this.base;var a=h(r,this.max);var i=this.rangeMin();var n=this.rangeMax()-i;var o;var s=this.positiveMin;if(s){if(e===0){return 0}o=h(r,s/r);var l=1/(a-o)*n;if(e<l){return e/l*s}}else{o=h(r,this.min)}var u=(e-i)/n;var f=u*(a-o)+o;return Math.pow(r,f)};return t}(n);i.Log=o;t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(17);var n=r(33);function c(t,e){var r=Math.E;var a=Math.pow(r,Math.log(e)/t);return a}var o=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initDefaultCfg=function t(){e.prototype._initDefaultCfg.call(this);this.type="pow";this.tickCount=10;this.exponent=2};r.calculateTicks=function t(){var e=this;var r=e.exponent;var a;var i=Math.ceil(c(r,e.max));if(e.min>=0){a=Math.floor(c(r,e.min))}else{a=0}if(a>i){var n=i;i=a;a=n}var o=i-a;var s=e.tickCount;var l=Math.ceil(o/s);var u=[];for(var f=a;f<i+l;f=f+l){u.push(Math.pow(f,r))}return u};r._getScalePercent=function t(e){var r=this.max;var a=this.min;if(r===a){return 0}var i=this.exponent;var n=(c(i,e)-c(i,a))/(c(i,r)-c(i,a));return n};r.scale=function t(e){var r=this._getScalePercent(e);var a=this.rangeMin();var i=this.rangeMax();return a+r*(i-a)};r.invert=function t(e){var r=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin());var a=this.exponent;var i=c(a,this.max);var n=c(a,this.min);var o=r*(i-n)+n;return Math.pow(o,a)};return t}(n);i.Pow=o;t.exports=o},function(t,e,r){var i=r(1);var o=r(100);var a=r(101);var n=r(191);var s=r(216);var l=function t(e){t.superclass.constructor.call(this,e)};l.CFG={eventEnable:true,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"};i.extend(l,a);i.augment(l,{init:function t(){l.superclass.init.call(this);this._setGlobalParam();this._setContainer();this._initPainter();this._scale();if(this.get("eventEnable")){this._registEvents()}},getEmitter:function t(e,r){if(e){if(i.isEmpty(e._getEvents())){var a=e.get("parent");if(a&&!r.propagationStopped){return this.getEmitter(a,r)}}else{return e}}},_getEventObj:function t(e,r,a,i){var n=new o(e,r,true,true);n.x=a.x;n.y=a.y;n.clientX=r.clientX;n.clientY=r.clientY;n.currentTarget=i;n.target=i;return n},_triggerEvent:function t(e,r){var a=this.getPointByClient(r.clientX,r.clientY);var i=this.getShape(a.x,a.y,r);var n=this.get("el");var o;if(e==="mousemove"){var s=this.get("preShape");if(s&&s!==i){var l=this._getEventObj("mouseleave",r,a,s);o=this.getEmitter(s,r);o&&o.emit("mouseleave",l);n.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",r,a,i);o=this.getEmitter(i,r);o&&o.emit("mousemove",u);if(s!==i){var f=this._getEventObj("mouseenter",r,a,i);o&&o.emit("mouseenter",f,r)}}else{var c=this._getEventObj("mousemove",r,a,this);this.emit("mousemove",c)}this.set("preShape",i)}else{var v=this._getEventObj(e,r,a,i||this);o=this.getEmitter(i,r);if(o&&o!==this){o.emit(e,v)}this.emit(e,v)}if(i&&!i.get("destroyed")){n.style.cursor=i.attr("cursor")||"default"}},_registEvents:function t(){var r=this;var a=r.get("el");var e=["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"];i.each(e,function(e){a.addEventListener(e,function(t){r._triggerEvent(e,t)},false)});a.addEventListener("touchstart",function(t){if(!i.isEmpty(t.touches)){r._triggerEvent("touchstart",t.touches[0])}},false);a.addEventListener("touchmove",function(t){if(!i.isEmpty(t.touches)){r._triggerEvent("touchmove",t.touches[0])}},false);a.addEventListener("touchend",function(t){if(!i.isEmpty(t.changedTouches)){r._triggerEvent("touchend",t.changedTouches[0])}},false)},_scale:function t(){var e=this.get("pixelRatio");this.scale(e,e)},_setGlobalParam:function t(){var e=this.get("pixelRatio");if(!e){this.set("pixelRatio",i.getRatio())}var r=s[this.get("renderer")||"canvas"];this._cfg.renderer=r;this._cfg.canvas=this;var a=new n(this);this._cfg.timeline=a},_setContainer:function t(){var e=this.get("containerId");var r=this.get("containerDOM");if(!r){r=document.getElementById(e);this.set("containerDOM",r)}i.modifyCSS(r,{position:"relative"})},_initPainter:function t(){var e=this.get("containerDOM");var r=new this._cfg.renderer.painter(e);this._cfg.painter=r;this._cfg.canvasDOM=this._cfg.el=r.canvas;this.changeSize(this.get("width"),this.get("height"))},_resize:function t(){var e=this.get("canvasDOM");var r=this.get("widthCanvas");var a=this.get("heightCanvas");var i=this.get("widthStyle");var n=this.get("heightStyle");e.style.width=i;e.style.height=n;e.setAttribute("width",r);e.setAttribute("height",a)},getWidth:function t(){var e=this.get("pixelRatio");var r=this.get("width");return r*e},getHeight:function t(){var e=this.get("pixelRatio");var r=this.get("height");return r*e},changeSize:function t(e,r){var a=this.get("pixelRatio");var i=e*a;var n=r*a;this.set("widthCanvas",i);this.set("heightCanvas",n);this.set("widthStyle",e+"px");this.set("heightStyle",r+"px");this.set("width",e);this.set("height",r);this._resize()},getPointByClient:function t(e,r){var a=this.get("el");var i=this.get("pixelRatio")||1;var n=a.getBoundingClientRect();return{x:(e-n.left)*i,y:(r-n.top)*i}},getClientByPoint:function t(e,r){var a=this.get("el");var i=a.getBoundingClientRect();var n=this.get("pixelRatio")||1;return{clientX:e/n+i.left,clientY:r/n+i.top}},draw:function t(){this._cfg.painter.draw(this)},getShape:function t(e,r,a){if(arguments.length===3&&this._cfg.renderer.getShape){return this._cfg.renderer.getShape.call(this,e,r,a)}return l.superclass.getShape.call(this,e,r)},_drawSync:function t(){this._cfg.painter.drawSync(this)},destroy:function t(){var e=this._cfg;var r=e.containerDOM;var a=e.canvasDOM;if(a&&r){r.removeChild(a)}e.timeline.stop();l.superclass.destroy.call(this)}});t.exports=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.sub=e.mul=undefined;e.create=n;e.fromMat4=o;e.clone=s;e.copy=l;e.fromValues=u;e.set=f;e.identity=c;e.transpose=v;e.invert=h;e.adjoint=p;e.determinant=g;e.multiply=d;e.translate=y;e.rotate=m;e.scale=x;e.fromTranslation=_;e.fromRotation=w;e.fromScaling=S;e.fromMat2d=M;e.fromQuat=C;e.normalFromMat4=k;e.projection=A;e.str=P;e.frob=I;e.add=T;e.subtract=O;e.multiplyScalar=L;e.multiplyScalarAndAdd=E;e.exactEquals=D;e.equals=F;var a=r(53);var b=i(a);function i(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function n(){var t=new b.ARRAY_TYPE(9);if(b.ARRAY_TYPE!=Float32Array){t[1]=0;t[2]=0;t[3]=0;t[5]=0;t[6]=0;t[7]=0}t[0]=1;t[4]=1;t[8]=1;return t}function o(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[4];t[4]=e[5];t[5]=e[6];t[6]=e[8];t[7]=e[9];t[8]=e[10];return t}function s(t){var e=new b.ARRAY_TYPE(9);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];return e}function l(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];return t}function u(t,e,r,a,i,n,o,s,l){var u=new b.ARRAY_TYPE(9);u[0]=t;u[1]=e;u[2]=r;u[3]=a;u[4]=i;u[5]=n;u[6]=o;u[7]=s;u[8]=l;return u}function f(t,e,r,a,i,n,o,s,l,u){t[0]=e;t[1]=r;t[2]=a;t[3]=i;t[4]=n;t[5]=o;t[6]=s;t[7]=l;t[8]=u;return t}function c(t){t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=1;t[5]=0;t[6]=0;t[7]=0;t[8]=1;return t}function v(t,e){if(t===e){var r=e[1],a=e[2],i=e[5];t[1]=e[3];t[2]=e[6];t[3]=r;t[5]=e[7];t[6]=a;t[7]=i}else{t[0]=e[0];t[1]=e[3];t[2]=e[6];t[3]=e[1];t[4]=e[4];t[5]=e[7];t[6]=e[2];t[7]=e[5];t[8]=e[8]}return t}function h(t,e){var r=e[0],a=e[1],i=e[2];var n=e[3],o=e[4],s=e[5];var l=e[6],u=e[7],f=e[8];var c=f*o-s*u;var v=-f*n+s*l;var h=u*n-o*l;var p=r*c+a*v+i*h;if(!p){return null}p=1/p;t[0]=c*p;t[1]=(-f*a+i*u)*p;t[2]=(s*a-i*o)*p;t[3]=v*p;t[4]=(f*r-i*l)*p;t[5]=(-s*r+i*n)*p;t[6]=h*p;t[7]=(-u*r+a*l)*p;t[8]=(o*r-a*n)*p;return t}function p(t,e){var r=e[0],a=e[1],i=e[2];var n=e[3],o=e[4],s=e[5];var l=e[6],u=e[7],f=e[8];t[0]=o*f-s*u;t[1]=i*u-a*f;t[2]=a*s-i*o;t[3]=s*l-n*f;t[4]=r*f-i*l;t[5]=i*n-r*s;t[6]=n*u-o*l;t[7]=a*l-r*u;t[8]=r*o-a*n;return t}function g(t){var e=t[0],r=t[1],a=t[2];var i=t[3],n=t[4],o=t[5];var s=t[6],l=t[7],u=t[8];return e*(u*n-o*l)+r*(-u*i+o*s)+a*(l*i-n*s)}function d(t,e,r){var a=e[0],i=e[1],n=e[2];var o=e[3],s=e[4],l=e[5];var u=e[6],f=e[7],c=e[8];var v=r[0],h=r[1],p=r[2];var g=r[3],d=r[4],y=r[5];var m=r[6],x=r[7],b=r[8];t[0]=v*a+h*o+p*u;t[1]=v*i+h*s+p*f;t[2]=v*n+h*l+p*c;t[3]=g*a+d*o+y*u;t[4]=g*i+d*s+y*f;t[5]=g*n+d*l+y*c;t[6]=m*a+x*o+b*u;t[7]=m*i+x*s+b*f;t[8]=m*n+x*l+b*c;return t}function y(t,e,r){var a=e[0],i=e[1],n=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],v=r[0],h=r[1];t[0]=a;t[1]=i;t[2]=n;t[3]=o;t[4]=s;t[5]=l;t[6]=v*a+h*o+u;t[7]=v*i+h*s+f;t[8]=v*n+h*l+c;return t}function m(t,e,r){var a=e[0],i=e[1],n=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],v=Math.sin(r),h=Math.cos(r);t[0]=h*a+v*o;t[1]=h*i+v*s;t[2]=h*n+v*l;t[3]=h*o-v*a;t[4]=h*s-v*i;t[5]=h*l-v*n;t[6]=u;t[7]=f;t[8]=c;return t}function x(t,e,r){var a=r[0],i=r[1];t[0]=a*e[0];t[1]=a*e[1];t[2]=a*e[2];t[3]=i*e[3];t[4]=i*e[4];t[5]=i*e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];return t}function _(t,e){t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=1;t[5]=0;t[6]=e[0];t[7]=e[1];t[8]=1;return t}function w(t,e){var r=Math.sin(e),a=Math.cos(e);t[0]=a;t[1]=r;t[2]=0;t[3]=-r;t[4]=a;t[5]=0;t[6]=0;t[7]=0;t[8]=1;return t}function S(t,e){t[0]=e[0];t[1]=0;t[2]=0;t[3]=0;t[4]=e[1];t[5]=0;t[6]=0;t[7]=0;t[8]=1;return t}function M(t,e){t[0]=e[0];t[1]=e[1];t[2]=0;t[3]=e[2];t[4]=e[3];t[5]=0;t[6]=e[4];t[7]=e[5];t[8]=1;return t}function C(t,e){var r=e[0],a=e[1],i=e[2],n=e[3];var o=r+r;var s=a+a;var l=i+i;var u=r*o;var f=a*o;var c=a*s;var v=i*o;var h=i*s;var p=i*l;var g=n*o;var d=n*s;var y=n*l;t[0]=1-c-p;t[3]=f-y;t[6]=v+d;t[1]=f+y;t[4]=1-u-p;t[7]=h-g;t[2]=v-d;t[5]=h+g;t[8]=1-u-c;return t}function k(t,e){var r=e[0],a=e[1],i=e[2],n=e[3];var o=e[4],s=e[5],l=e[6],u=e[7];var f=e[8],c=e[9],v=e[10],h=e[11];var p=e[12],g=e[13],d=e[14],y=e[15];var m=r*s-a*o;var x=r*l-i*o;var b=r*u-n*o;var _=a*l-i*s;var w=a*u-n*s;var S=i*u-n*l;var M=f*g-c*p;var C=f*d-v*p;var k=f*y-h*p;var A=c*d-v*g;var P=c*y-h*g;var I=v*y-h*d;var T=m*I-x*P+b*A+_*k-w*C+S*M;if(!T){return null}T=1/T;t[0]=(s*I-l*P+u*A)*T;t[1]=(l*k-o*I-u*C)*T;t[2]=(o*P-s*k+u*M)*T;t[3]=(i*P-a*I-n*A)*T;t[4]=(r*I-i*k+n*C)*T;t[5]=(a*k-r*P-n*M)*T;t[6]=(g*S-d*w+y*_)*T;t[7]=(d*b-p*S-y*x)*T;t[8]=(p*w-g*b+y*m)*T;return t}function A(t,e,r){t[0]=2/e;t[1]=0;t[2]=0;t[3]=0;t[4]=-2/r;t[5]=0;t[6]=-1;t[7]=1;t[8]=1;return t}function P(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function I(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function T(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];t[2]=e[2]+r[2];t[3]=e[3]+r[3];t[4]=e[4]+r[4];t[5]=e[5]+r[5];t[6]=e[6]+r[6];t[7]=e[7]+r[7];t[8]=e[8]+r[8];return t}function O(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];t[2]=e[2]-r[2];t[3]=e[3]-r[3];t[4]=e[4]-r[4];t[5]=e[5]-r[5];t[6]=e[6]-r[6];t[7]=e[7]-r[7];t[8]=e[8]-r[8];return t}function L(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;t[2]=e[2]*r;t[3]=e[3]*r;t[4]=e[4]*r;t[5]=e[5]*r;t[6]=e[6]*r;t[7]=e[7]*r;t[8]=e[8]*r;return t}function E(t,e,r,a){t[0]=e[0]+r[0]*a;t[1]=e[1]+r[1]*a;t[2]=e[2]+r[2]*a;t[3]=e[3]+r[3]*a;t[4]=e[4]+r[4]*a;t[5]=e[5]+r[5]*a;t[6]=e[6]+r[6]*a;t[7]=e[7]+r[7]*a;t[8]=e[8]+r[8]*a;return t}function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function F(t,e){var r=t[0],a=t[1],i=t[2],n=t[3],o=t[4],s=t[5],l=t[6],u=t[7],f=t[8];var c=e[0],v=e[1],h=e[2],p=e[3],g=e[4],d=e[5],y=e[6],m=e[7],x=e[8];return Math.abs(r-c)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-v)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(i-h)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-g)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-d)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-y)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-m)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(f-x)<=b.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))}var B=e.mul=d;var R=e.sub=O},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=undefined;e.create=n;e.clone=s;e.fromValues=l;e.copy=u;e.set=f;e.add=c;e.subtract=v;e.multiply=h;e.divide=p;e.ceil=g;e.floor=d;e.min=y;e.max=m;e.round=x;e.scale=b;e.scaleAndAdd=_;e.distance=w;e.squaredDistance=S;e.length=M;e.squaredLength=C;e.negate=k;e.inverse=A;e.normalize=P;e.dot=I;e.cross=T;e.lerp=O;e.random=L;e.transformMat2=E;e.transformMat2d=D;e.transformMat3=F;e.transformMat4=B;e.rotate=R;e.angle=j;e.str=N;e.exactEquals=z;e.equals=Y;var a=r(53);var o=i(a);function i(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function n(){var t=new o.ARRAY_TYPE(2);if(o.ARRAY_TYPE!=Float32Array){t[0]=0;t[1]=0}return t}function s(t){var e=new o.ARRAY_TYPE(2);e[0]=t[0];e[1]=t[1];return e}function l(t,e){var r=new o.ARRAY_TYPE(2);r[0]=t;r[1]=e;return r}function u(t,e){t[0]=e[0];t[1]=e[1];return t}function f(t,e,r){t[0]=e;t[1]=r;return t}function c(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];return t}function v(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];return t}function h(t,e,r){t[0]=e[0]*r[0];t[1]=e[1]*r[1];return t}function p(t,e,r){t[0]=e[0]/r[0];t[1]=e[1]/r[1];return t}function g(t,e){t[0]=Math.ceil(e[0]);t[1]=Math.ceil(e[1]);return t}function d(t,e){t[0]=Math.floor(e[0]);t[1]=Math.floor(e[1]);return t}function y(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);return t}function m(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);return t}function x(t,e){t[0]=Math.round(e[0]);t[1]=Math.round(e[1]);return t}function b(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;return t}function _(t,e,r,a){t[0]=e[0]+r[0]*a;t[1]=e[1]+r[1]*a;return t}function w(t,e){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}function S(t,e){var r=e[0]-t[0],a=e[1]-t[1];return r*r+a*a}function M(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function C(t){var e=t[0],r=t[1];return e*e+r*r}function k(t,e){t[0]=-e[0];t[1]=-e[1];return t}function A(t,e){t[0]=1/e[0];t[1]=1/e[1];return t}function P(t,e){var r=e[0],a=e[1];var i=r*r+a*a;if(i>0){i=1/Math.sqrt(i);t[0]=e[0]*i;t[1]=e[1]*i}return t}function I(t,e){return t[0]*e[0]+t[1]*e[1]}function T(t,e,r){var a=e[0]*r[1]-e[1]*r[0];t[0]=t[1]=0;t[2]=a;return t}function O(t,e,r,a){var i=e[0],n=e[1];t[0]=i+a*(r[0]-i);t[1]=n+a*(r[1]-n);return t}function L(t,e){e=e||1;var r=o.RANDOM()*2*Math.PI;t[0]=Math.cos(r)*e;t[1]=Math.sin(r)*e;return t}function E(t,e,r){var a=e[0],i=e[1];t[0]=r[0]*a+r[2]*i;t[1]=r[1]*a+r[3]*i;return t}function D(t,e,r){var a=e[0],i=e[1];t[0]=r[0]*a+r[2]*i+r[4];t[1]=r[1]*a+r[3]*i+r[5];return t}function F(t,e,r){var a=e[0],i=e[1];t[0]=r[0]*a+r[3]*i+r[6];t[1]=r[1]*a+r[4]*i+r[7];return t}function B(t,e,r){var a=e[0];var i=e[1];t[0]=r[0]*a+r[4]*i+r[12];t[1]=r[1]*a+r[5]*i+r[13];return t}function R(t,e,r,a){var i=e[0]-r[0],n=e[1]-r[1],o=Math.sin(a),s=Math.cos(a);t[0]=i*s-n*o+r[0];t[1]=i*o+n*s+r[1];return t}function j(t,e){var r=t[0],a=t[1],i=e[0],n=e[1];var o=r*r+a*a;if(o>0){o=1/Math.sqrt(o)}var s=i*i+n*n;if(s>0){s=1/Math.sqrt(s)}var l=(r*i+a*n)*o*s;if(l>1){return 0}else if(l<-1){return Math.PI}else{return Math.acos(l)}}function N(t){return"vec2("+t[0]+", "+t[1]+")"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var r=t[0],a=t[1];var i=e[0],n=e[1];return Math.abs(r-i)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-n)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(n))}var V=e.len=M;var H=e.sub=v;var X=e.mul=h;var W=e.div=p;var G=e.dist=w;var q=e.sqrDist=S;var U=e.sqrLen=C;var Z=e.forEach=function(){var l=n();return function(t,e,r,a,i,n){var o=void 0,s=void 0;if(!e){e=2}if(!r){r=0}if(a){s=Math.min(a*e+r,t.length)}else{s=t.length}for(o=r;o<s;o+=e){l[0]=t[o];l[1]=t[o+1];i(l,l,n);t[o]=l[0];t[o+1]=l[1]}return t}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=undefined;e.create=n;e.clone=o;e.length=s;e.fromValues=u;e.copy=f;e.set=c;e.add=v;e.subtract=h;e.multiply=p;e.divide=g;e.ceil=d;e.floor=y;e.min=m;e.max=x;e.round=b;e.scale=_;e.scaleAndAdd=w;e.distance=S;e.squaredDistance=M;e.squaredLength=C;e.negate=k;e.inverse=A;e.normalize=P;e.dot=I;e.cross=T;e.lerp=O;e.hermite=L;e.bezier=E;e.random=D;e.transformMat4=F;e.transformMat3=B;e.transformQuat=R;e.rotateX=j;e.rotateY=N;e.rotateZ=z;e.angle=Y;e.str=V;e.exactEquals=H;e.equals=X;var a=r(53);var l=i(a);function i(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function n(){var t=new l.ARRAY_TYPE(3);if(l.ARRAY_TYPE!=Float32Array){t[0]=0;t[1]=0;t[2]=0}return t}function o(t){var e=new l.ARRAY_TYPE(3);e[0]=t[0];e[1]=t[1];e[2]=t[2];return e}function s(t){var e=t[0];var r=t[1];var a=t[2];return Math.sqrt(e*e+r*r+a*a)}function u(t,e,r){var a=new l.ARRAY_TYPE(3);a[0]=t;a[1]=e;a[2]=r;return a}function f(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];return t}function c(t,e,r,a){t[0]=e;t[1]=r;t[2]=a;return t}function v(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];t[2]=e[2]+r[2];return t}function h(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];t[2]=e[2]-r[2];return t}function p(t,e,r){t[0]=e[0]*r[0];t[1]=e[1]*r[1];t[2]=e[2]*r[2];return t}function g(t,e,r){t[0]=e[0]/r[0];t[1]=e[1]/r[1];t[2]=e[2]/r[2];return t}function d(t,e){t[0]=Math.ceil(e[0]);t[1]=Math.ceil(e[1]);t[2]=Math.ceil(e[2]);return t}function y(t,e){t[0]=Math.floor(e[0]);t[1]=Math.floor(e[1]);t[2]=Math.floor(e[2]);return t}function m(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);t[2]=Math.min(e[2],r[2]);return t}function x(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);t[2]=Math.max(e[2],r[2]);return t}function b(t,e){t[0]=Math.round(e[0]);t[1]=Math.round(e[1]);t[2]=Math.round(e[2]);return t}function _(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;t[2]=e[2]*r;return t}function w(t,e,r,a){t[0]=e[0]+r[0]*a;t[1]=e[1]+r[1]*a;t[2]=e[2]+r[2]*a;return t}function S(t,e){var r=e[0]-t[0];var a=e[1]-t[1];var i=e[2]-t[2];return Math.sqrt(r*r+a*a+i*i)}function M(t,e){var r=e[0]-t[0];var a=e[1]-t[1];var i=e[2]-t[2];return r*r+a*a+i*i}function C(t){var e=t[0];var r=t[1];var a=t[2];return e*e+r*r+a*a}function k(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];return t}function A(t,e){t[0]=1/e[0];t[1]=1/e[1];t[2]=1/e[2];return t}function P(t,e){var r=e[0];var a=e[1];var i=e[2];var n=r*r+a*a+i*i;if(n>0){n=1/Math.sqrt(n);t[0]=e[0]*n;t[1]=e[1]*n;t[2]=e[2]*n}return t}function I(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,r){var a=e[0],i=e[1],n=e[2];var o=r[0],s=r[1],l=r[2];t[0]=i*l-n*s;t[1]=n*o-a*l;t[2]=a*s-i*o;return t}function O(t,e,r,a){var i=e[0];var n=e[1];var o=e[2];t[0]=i+a*(r[0]-i);t[1]=n+a*(r[1]-n);t[2]=o+a*(r[2]-o);return t}function L(t,e,r,a,i,n){var o=n*n;var s=o*(2*n-3)+1;var l=o*(n-2)+n;var u=o*(n-1);var f=o*(3-2*n);t[0]=e[0]*s+r[0]*l+a[0]*u+i[0]*f;t[1]=e[1]*s+r[1]*l+a[1]*u+i[1]*f;t[2]=e[2]*s+r[2]*l+a[2]*u+i[2]*f;return t}function E(t,e,r,a,i,n){var o=1-n;var s=o*o;var l=n*n;var u=s*o;var f=3*n*s;var c=3*l*o;var v=l*n;t[0]=e[0]*u+r[0]*f+a[0]*c+i[0]*v;t[1]=e[1]*u+r[1]*f+a[1]*c+i[1]*v;t[2]=e[2]*u+r[2]*f+a[2]*c+i[2]*v;return t}function D(t,e){e=e||1;var r=l.RANDOM()*2*Math.PI;var a=l.RANDOM()*2-1;var i=Math.sqrt(1-a*a)*e;t[0]=Math.cos(r)*i;t[1]=Math.sin(r)*i;t[2]=a*e;return t}function F(t,e,r){var a=e[0],i=e[1],n=e[2];var o=r[3]*a+r[7]*i+r[11]*n+r[15];o=o||1;t[0]=(r[0]*a+r[4]*i+r[8]*n+r[12])/o;t[1]=(r[1]*a+r[5]*i+r[9]*n+r[13])/o;t[2]=(r[2]*a+r[6]*i+r[10]*n+r[14])/o;return t}function B(t,e,r){var a=e[0],i=e[1],n=e[2];t[0]=a*r[0]+i*r[3]+n*r[6];t[1]=a*r[1]+i*r[4]+n*r[7];t[2]=a*r[2]+i*r[5]+n*r[8];return t}function R(t,e,r){var a=r[0],i=r[1],n=r[2],o=r[3];var s=e[0],l=e[1],u=e[2];var f=i*u-n*l,c=n*s-a*u,v=a*l-i*s;var h=i*v-n*c,p=n*f-a*v,g=a*c-i*f;var d=o*2;f*=d;c*=d;v*=d;h*=2;p*=2;g*=2;t[0]=s+f+h;t[1]=l+c+p;t[2]=u+v+g;return t}function j(t,e,r,a){var i=[],n=[];i[0]=e[0]-r[0];i[1]=e[1]-r[1];i[2]=e[2]-r[2];n[0]=i[0];n[1]=i[1]*Math.cos(a)-i[2]*Math.sin(a);n[2]=i[1]*Math.sin(a)+i[2]*Math.cos(a);t[0]=n[0]+r[0];t[1]=n[1]+r[1];t[2]=n[2]+r[2];return t}function N(t,e,r,a){var i=[],n=[];i[0]=e[0]-r[0];i[1]=e[1]-r[1];i[2]=e[2]-r[2];n[0]=i[2]*Math.sin(a)+i[0]*Math.cos(a);n[1]=i[1];n[2]=i[2]*Math.cos(a)-i[0]*Math.sin(a);t[0]=n[0]+r[0];t[1]=n[1]+r[1];t[2]=n[2]+r[2];return t}function z(t,e,r,a){var i=[],n=[];i[0]=e[0]-r[0];i[1]=e[1]-r[1];i[2]=e[2]-r[2];n[0]=i[0]*Math.cos(a)-i[1]*Math.sin(a);n[1]=i[0]*Math.sin(a)+i[1]*Math.cos(a);n[2]=i[2];t[0]=n[0]+r[0];t[1]=n[1]+r[1];t[2]=n[2]+r[2];return t}function Y(t,e){var r=u(t[0],t[1],t[2]);var a=u(e[0],e[1],e[2]);P(r,r);P(a,a);var i=I(r,a);if(i>1){return 0}else if(i<-1){return Math.PI}else{return Math.acos(i)}}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function X(t,e){var r=t[0],a=t[1],i=t[2];var n=e[0],o=e[1],s=e[2];return Math.abs(r-n)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(a-o)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(i-s)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}var W=e.sub=h;var G=e.mul=p;var q=e.div=g;var U=e.dist=S;var Z=e.sqrDist=M;var Q=e.len=s;var $=e.sqrLen=C;var J=e.forEach=function(){var l=n();return function(t,e,r,a,i,n){var o=void 0,s=void 0;if(!e){e=3}if(!r){r=0}if(a){s=Math.min(a*e+r,t.length)}else{s=t.length}for(o=r;o<s;o+=e){l[0]=t[o];l[1]=t[o+1];l[2]=t[o+2];i(l,l,n);t[o]=l[0];t[o+1]=l[1];t[o+2]=l[2]}return t}}()},function(t,e,r){var n=r(1);t.exports={canFill:false,canStroke:false,initAttrs:function t(e){this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]};this.attr(n.assign(this.getDefaultAttrs(),e));return this},getDefaultAttrs:function t(){return{}},attr:function t(e,r){var a=this;if(arguments.length===0){return a._attrs}if(n.isObject(e)){for(var i in e){this._setAttr(i,e[i])}a.clearBBox();this._cfg.hasUpdate=true;return a}if(arguments.length===2){this._setAttr(e,r);a.clearBBox();this._cfg.hasUpdate=true;return a}return a._attrs[e]},_setAttr:function t(e,r){var a=this;var i=this._attrs;i[e]=r;if(e==="fill"||e==="stroke"){i[e+"Style"]=r;return}if(e==="opacity"){i.globalAlpha=r;return}if(e==="clip"&&r){a._setClip(r);return}if(e==="path"&&a._afterSetAttrPath){a._afterSetAttrPath(r);return}if(e==="transform"){a.transform(r);return}if(e==="rotate"){a.rotateAtStart(r)}},clearBBox:function t(){this.setSilent("box",null)},hasFill:function t(){return this.canFill&&this._attrs.fillStyle},hasStroke:function t(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function t(e){e._cfg.renderer=this._cfg.renderer;e._cfg.canvas=this._cfg.canvas;e._cfg.parent=this._cfg.parent;e.hasFill=function(){return true}}}},function(t,e,r){var o=r(1);function a(t){return t[0]===1&&t[1]===0&&t[3]===0&&t[4]===1&&t[6]===0&&t[7]===0}function i(t){return t[1]===0&&t[3]===0&&t[6]===0&&t[7]===0}function n(t,e){if(!a(e)){if(i(e)){t[0]*=e[0];t[4]*=e[4]}else{o.mat3.multiply(t,t,e)}}}t.exports={initTransform:function t(){},resetMatrix:function t(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function t(e,r){var a=this._attrs.matrix;o.mat3.translate(a,a,[e,r]);this.clearTotalMatrix();this.attr("matrix",a);return this},rotate:function t(e){var r=this._attrs.matrix;o.mat3.rotate(r,r,e);this.clearTotalMatrix();this.attr("matrix",r);return this},scale:function t(e,r){var a=this._attrs.matrix;o.mat3.scale(a,a,[e,r]);this.clearTotalMatrix();this.attr("matrix",a);return this},rotateAtStart:function t(e){var r=this._attrs.x||this._cfg.attrs.x;var a=this._attrs.y||this._cfg.attrs.y;if(Math.abs(e)>Math.PI*2){e=e/180*Math.PI}return this.transform([["t",-r,-a],["r",e],["t",r,a]])},move:function t(e,r){var a=this.get("x")||0;var i=this.get("y")||0;this.translate(e-a,r-i);this.set("x",e);this.set("y",r);return this},transform:function t(e){var r=this;var a=this._attrs.matrix;o.each(e,function(t){switch(t[0]){case"t":r.translate(t[1],t[2]);break;case"s":r.scale(t[1],t[2]);break;case"r":r.rotate(t[1]);break;case"m":r.attr("matrix",o.mat3.multiply([],a,t[1]));r.clearTotalMatrix();break;default:break}});return r},setTransform:function t(e){this.attr("matrix",[1,0,0,0,1,0,0,0,1]);return this.transform(e)},getMatrix:function t(){return this.attr("matrix")},setMatrix:function t(e){this.attr("matrix",e);this.clearTotalMatrix();return this},apply:function t(e,r){var a;if(r){a=this._getMatrixByRoot(r)}else{a=this.attr("matrix")}o.vec3.transformMat3(e,e,a);return this},_getMatrixByRoot:function t(e){var r=this;e=e||r;var a=r;var i=[];while(a!==e){i.unshift(a);a=a.get("parent")}i.unshift(a);var n=[1,0,0,0,1,0,0,0,1];o.each(i,function(t){o.mat3.multiply(n,t.attr("matrix"),n)});return n},getTotalMatrix:function t(){var e=this._cfg.totalMatrix;if(!e){e=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;if(r){var a=r.getTotalMatrix();n(e,a)}n(e,this.attr("matrix"));this._cfg.totalMatrix=e}return e},clearTotalMatrix:function t(){},invert:function t(e){var r=this.getTotalMatrix();if(i(r)){e[0]/=r[0];e[1]/=r[4]}else{var a=o.mat3.invert([],r);if(a){o.vec3.transformMat3(e,e,a)}}return this},resetTransform:function t(e){var r=this.attr("matrix");if(!a(r)){e.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}}},function(t,e,r){var c=r(1);var n={delay:"delay",rotate:"rotate"};var o={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function v(t,e){var r={};var a=e._attrs;for(var i in t.attrs){r[i]=a[i]}return r}function h(t,e){var r={matrix:null,attrs:{}};var a=e._attrs;for(var i in t){if(i==="transform"){r.matrix=c.transform(e.getMatrix(),t[i])}else if(i==="rotate"){r.matrix=c.transform(e.getMatrix(),[["r",t[i]]])}else if(i==="matrix"){r.matrix=t[i]}else if(o[i]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[i])){continue}else if(!n[i]&&a[i]!==t[i]){r.attrs[i]=t[i]}}return r}function p(r,t){var a=t.delay;var i=Object.prototype.hasOwnProperty;c.each(t.toAttrs,function(t,e){c.each(r,function(t){if(a<t.startTime+t.duration){if(i.call(t.toAttrs,e)){delete t.toAttrs[e];delete t.fromAttrs[e]}}})});if(t.toMatrix){c.each(r,function(t){if(a<t.startTime+t.duration&&t.toMatrix){delete t.toMatrix}})}return r}t.exports={animate:function t(e,r,a,i,n){if(n===void 0){n=0}var o=this;o.set("animating",true);var s=o.get("timeline");if(!s){s=o.get("canvas").get("timeline");o.setSilent("timeline",s)}var l=o.get("animators")||[];if(!s._timer){s.initTimer()}if(c.isNumber(i)){n=i;i=null}if(c.isFunction(a)){i=a;a="easeLinear"}else{a=a?a:"easeLinear"}var u=h(e,o);var f={fromAttrs:v(u,o),toAttrs:u.attrs,fromMatrix:c.clone(o.getMatrix()),toMatrix:u.matrix,duration:r,easing:a,callback:i,delay:n,startTime:s.getTime(),id:c.uniqueId()};if(l.length>0){l=p(l,f)}else{s.addAnimator(o)}l.push(f);o.setSilent("animators",l);o.setSilent("pause",{isPaused:false})},stopAnimate:function t(){var e=this;var r=this.get("animators");c.each(r,function(t){e.attr(t.toAttrs);if(t.toMatrix){e.attr("matrix",t.toMatrix)}if(t.callback){t.callback()}});this.setSilent("animating",false);this.setSilent("animators",[])},pauseAnimate:function t(){var e=this;var r=e.get("timeline");e.setSilent("pause",{isPaused:true,pauseTime:r.getTime()});return e},resumeAnimate:function t(){var e=this;var r=e.get("timeline");var a=r.getTime();var i=e.get("animators");var n=e.get("pause").pauseTime;c.each(i,function(t){t.startTime=t.startTime+(a-n);t._paused=false;t._pauseTime=null});e.setSilent("pause",{isPaused:false});e.setSilent("animators",i);return e}}},function(t,e,r){var a=r(6);a.Arc=r(105);a.Circle=r(106);a.Dom=r(107);a.Ellipse=r(108);a.Fan=r(109);a.Image=r(110);a.Line=r(111);a.Marker=r(57);a.Path=r(112);a.Polygon=r(113);a.Polyline=r(114);a.Rect=r(115);a.Text=r(116);t.exports=a},function(t,e,r){var x=r(1);var b=r(55);var _={arc:r(37),ellipse:r(104),line:r(36)};var a=x.createDom('<canvas width="500" height="500"></canvas>');var i=a.getContext("2d");function c(t,e,r){r.createPath(i);return i.isPointInPath(t,e)}var n=function t(e,r){var a=this._attrs;var i=a.x;var n=a.y;var o=a.r,s=a.startAngle,l=a.endAngle,u=a.clockwise;var f=this.getHitLineWidth();if(this.hasStroke()){return b.arcline(i,n,o,s,l,u,f,e,r)}return false};var o=function t(e,r){var a=this._attrs;var i=a.x;var n=a.y;var o=a.r;var s=this.getHitLineWidth();var l=this.hasFill();var u=this.hasStroke();if(l&&u){return b.circle(i,n,o,e,r)||b.arcline(i,n,o,0,Math.PI*2,false,s,e,r)}if(l){return b.circle(i,n,o,e,r)}if(u){return b.arcline(i,n,o,0,Math.PI*2,false,s,e,r)}return false};var s=function t(e,r){var a=this._attrs;var i=this.hasFill();var n=this.hasStroke();var o=a.x;var s=a.y;var l=a.rx;var u=a.ry;var f=this.getHitLineWidth();var c=l>u?l:u;var v=l>u?1:l/u;var h=l>u?u/l:1;var p=[e,r,1];var g=[1,0,0,0,1,0,0,0,1];x.mat3.scale(g,g,[v,h]);x.mat3.translate(g,g,[o,s]);var d=x.mat3.invert([],g);x.vec3.transformMat3(p,p,d);if(i&&n){return b.circle(0,0,c,p[0],p[1])||b.arcline(0,0,c,0,Math.PI*2,false,f,p[0],p[1])}if(i){return b.circle(0,0,c,p[0],p[1])}if(n){return b.arcline(0,0,c,0,Math.PI*2,false,f,p[0],p[1])}return false};var l=function t(n,o){var s=this;var e=s.hasFill();var r=s.hasStroke();var a=s._attrs;var l=a.x;var u=a.y;var f=a.rs;var c=a.re;var v=a.startAngle;var h=a.endAngle;var p=a.clockwise;var i=[1,0];var g=[n-l,o-u];var d=x.vec2.angleTo(i,g);function y(){var t=_.arc.nearAngle(d,v,h,p);if(x.isNumberEqual(d,t)){var e=x.vec2.squaredLength(g);if(f*f<=e&&e<=c*c){return true}}return false}function m(){var t=s.getHitLineWidth();var e={x:Math.cos(v)*f+l,y:Math.sin(v)*f+u};var r={x:Math.cos(v)*c+l,y:Math.sin(v)*c+u};var a={x:Math.cos(h)*f+l,y:Math.sin(h)*f+u};var i={x:Math.cos(h)*c+l,y:Math.sin(h)*c+u};if(b.line(e.x,e.y,r.x,r.y,t,n,o)){return true}if(b.line(a.x,a.y,i.x,i.y,t,n,o)){return true}if(b.arcline(l,u,f,v,h,p,t,n,o)){return true}if(b.arcline(l,u,c,v,h,p,t,n,o)){return true}return false}if(e&&r){return y()||m()}if(e){return y()}if(r){return m()}return false};var u=function t(e,r){var a=this._attrs;if(this.get("toDraw")||!a.img){return false}if(!this._cfg.attrs||this._cfg.attrs.img!==a.img){this._setAttrImg()}var i=a.x;var n=a.y;var o=a.width;var s=a.height;return b.rect(i,n,o,s,e,r)};var f=function t(e,r){var a=this._attrs;var i=a.x1,n=a.y1,o=a.x2,s=a.y2;var l=this.getHitLineWidth();if(this.hasStroke()){return b.line(i,n,o,s,l,e,r)}return false};var v=function t(a,i){var n=this;var o=n.get("segments");var e=n.hasFill();var r=n.hasStroke();function s(){if(!x.isEmpty(o)){var t=n.getHitLineWidth();for(var e=0,r=o.length;e<r;e++){if(o[e].isInside(a,i,t)){return true}}return false}}if(e&&r){return c(a,i,n)||s()}if(e){return c(a,i,n)}if(r){return s()}return false};var h=function t(i,n){var o=this;var e=o.hasFill();var r=o.hasStroke();function a(){var t=o._attrs;var e=t.points;if(e.length<2){return false}var r=o.getHitLineWidth();var a=e.slice(0);if(e.length>=3){a.push(e[0])}return b.polyline(a,r,i,n)}if(e&&r){return c(i,n,o)||a()}if(e){return c(i,n,o)}if(r){return a()}return false};var p=function t(e,r){var a=this._attrs;var i=a.x;var n=a.y;var o=a.radius||a.r;var s=this.getHitLineWidth();return b.circle(i,n,o+s/2,e,r)};var g=function t(e,r){var a=this;var i=a._attrs;if(a.hasStroke()){var n=i.points;if(n.length<2){return false}var o=i.lineWidth;return b.polyline(n,o,e,r)}return false};var d=function t(l,u){var f=this;var e=f.hasFill();var r=f.hasStroke();function a(){var t=f._attrs;var e=t.x;var r=t.y;var a=t.width;var i=t.height;var n=t.radius;var o=f.getHitLineWidth();if(n===0){var s=o/2;return b.line(e-s,r,e+a+s,r,o,l,u)||b.line(e+a,r-s,e+a,r+i+s,o,l,u)||b.line(e+a+s,r+i,e-s,r+i,o,l,u)||b.line(e,r+i+s,e,r-s,o,l,u)}return b.line(e+n,r,e+a-n,r,o,l,u)||b.line(e+a,r+n,e+a,r+i-n,o,l,u)||b.line(e+a-n,r+i,e+n,r+i,o,l,u)||b.line(e,r+i-n,e,r+n,o,l,u)||b.arcline(e+a-n,r+n,n,1.5*Math.PI,2*Math.PI,false,o,l,u)||b.arcline(e+a-n,r+i-n,n,0,.5*Math.PI,false,o,l,u)||b.arcline(e+n,r+i-n,n,.5*Math.PI,Math.PI,false,o,l,u)||b.arcline(e+n,r+n,n,Math.PI,1.5*Math.PI,false,o,l,u)}if(e&&r){return c(l,u,f)||a()}if(e){return c(l,u,f)}if(r){return a()}return false};var y=function t(e,r){var a=this;var i=a.getBBox();if(a.hasFill()||a.hasStroke()){return b.box(i.minX,i.maxX,i.minY,i.maxY,e,r)}};var m=function t(e,r){if(!this._cfg.el){return false}var a=this._cfg.el.getBBox();return b.box(a.x,a.x+a.width,a.y,a.y+a.height,e,r)};var w={arc:n,circle:o,dom:m,ellipse:s,fan:l,image:u,line:f,path:v,marker:p,polygon:h,polyline:g,rect:d,text:y};t.exports={isPointInPath:function t(e,r){var a=w[this.type];if(a){return a.call(this,e,r)}return false}}},function(t,e,r){var m=r(1);var x=r(58);var u=r(171);var s=r(174);var a=r(117),b=a.interpolate,_=a.interpolateArray;var i=function t(e){this._animators=[];this._current=0;this._timer=null;this.canvas=e};function l(t,e,r){var a={};var i=e.toAttrs;var n=e.fromAttrs;var o=e.toMatrix;if(t.get("destroyed")){return}var s;for(var l in i){if(!m.isEqual(n[l],i[l])){if(l==="path"){var u=i[l];var f=n[l];if(u.length>f.length){u=x.parsePathString(i[l]);f=x.parsePathString(n[l]);f=x.fillPathByDiff(f,u);f=x.formatPath(f,u);e.fromAttrs.path=f;e.toAttrs.path=u}else if(!e.pathFormatted){u=x.parsePathString(i[l]);f=x.parsePathString(n[l]);f=x.formatPath(f,u);e.fromAttrs.path=f;e.toAttrs.path=u;e.pathFormatted=true}a[l]=[];for(var c=0;c<u.length;c++){var v=u[c];var h=f[c];var p=[];for(var g=0;g<v.length;g++){if(m.isNumber(v[g])&&h&&m.isNumber(h[g])){s=b(h[g],v[g]);p.push(s(r))}else{p.push(v[g])}}a[l].push(p)}}else{s=b(n[l],i[l]);a[l]=s(r)}}}if(o){var d=_(e.fromMatrix,o);var y=d(r);t.setMatrix(y)}t.attr(a)}function f(t,e,r){var a=e.startTime;if(r<a+e.delay||e.isPaused){return false}var i;var n=e.duration;var o=e.easing;r=r-a-e.delay;if(e.toAttrs.repeat){i=r%n/n;i=s[o](i)}else{i=r/n;if(i<1){i=s[o](i)}else{t.attr(e.toAttrs);if(e.toMatrix){t.setMatrix(e.toMatrix)}return true}}l(t,e,i);return false}m.augment(i,{initTimer:function t(){var a=this;var i=this;var n=false;var o,s,l;i._timer=u.timer(function(t){i._current=t;if(a._animators.length>0){for(var e=a._animators.length-1;e>=0;e--){o=a._animators[e];if(o.get("destroyed")){i.removeAnimator(e);continue}if(!o.get("pause").isPaused){s=o.get("animators");for(var r=s.length-1;r>=0;r--){l=s[r];n=f(o,l,t);if(n){s.splice(r,1);n=false;if(l.callback){l.callback()}}}}if(s.length===0){i.removeAnimator(e)}}a.canvas.draw()}})},addAnimator:function t(e){this._animators.push(e)},removeAnimator:function t(e){this._animators.splice(e,1)},isAnimating:function t(){return!!this._animators.length},stop:function t(){if(this._timer){this._timer.stop()}},stopAllAnimations:function t(){this._animators.forEach(function(t){t.stopAnimate()});this._animators=[];this.canvas.draw()},getTime:function t(){return this._current}});t.exports=i},function(t,e,r){"use strict";var i=r(59);e["a"]=function(e,r,t){var a=new i["a"];r=r==null?0:+r;a.restart(function(t){a.stop();e(t+r)},r,t);return a}},function(t,e,r){"use strict";var s=r(59);e["a"]=function(r,a,i){var n=new s["a"],o=a;if(a==null)return n.restart(r,a,i),n;a=+a,i=i==null?Object(s["b"])():+i;n.restart(function t(e){e+=o;n.restart(t,o+=a,i);r(e)},a,i);return n}},function(t,e,r){"use strict";e["a"]=a;function a(t){return+t}},function(t,e,r){"use strict";e["a"]=a;e["c"]=i;e["b"]=n;function a(t){return t*t}function i(t){return t*(2-t)}function n(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,r){"use strict";e["a"]=a;e["c"]=i;e["b"]=n;function a(t){return t*t*t}function i(t){return--t*t*t+1}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});r.d(e,"c",function(){return n});r.d(e,"b",function(){return o});var a=3;var i=function t(e){e=+e;function r(t){return Math.pow(t,e)}r.exponent=t;return r}(a);var n=function t(e){e=+e;function r(t){return 1-Math.pow(1-t,e)}r.exponent=t;return r}(a);var o=function t(e){e=+e;function r(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}r.exponent=t;return r}(a)},function(t,e,r){"use strict";e["a"]=n;e["c"]=o;e["b"]=s;var a=Math.PI,i=a/2;function n(t){return 1-Math.cos(t*i)}function o(t){return Math.sin(t*i)}function s(t){return(1-Math.cos(a*t))/2}},function(t,e,r){"use strict";e["a"]=a;e["c"]=i;e["b"]=n;function a(t){return Math.pow(2,10*t-10)}function i(t){return 1-Math.pow(2,-10*t)}function n(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,r){"use strict";e["a"]=a;e["c"]=i;e["b"]=n;function a(t){return 1-Math.sqrt(1-t*t)}function i(t){return Math.sqrt(1- --t*t)}function n(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,r){"use strict";e["a"]=h;e["c"]=p;e["b"]=g;var a=4/11,i=6/11,n=8/11,o=3/4,s=9/11,l=10/11,u=15/16,f=21/22,c=63/64,v=1/a/a;function h(t){return 1-p(1-t)}function p(t){return(t=+t)<a?v*t*t:t<n?v*(t-=i)*t+o:t<l?v*(t-=s)*t+u:v*(t-=f)*t+c}function g(t){return((t*=2)<=1?1-p(1-t):p(t-1)+1)/2}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});r.d(e,"c",function(){return n});r.d(e,"b",function(){return o});var a=1.70158;var i=function t(e){e=+e;function r(t){return t*t*((e+1)*t-e)}r.overshoot=t;return r}(a);var n=function t(e){e=+e;function r(t){return--t*t*((e+1)*t+e)+1}r.overshoot=t;return r}(a);var o=function t(e){e=+e;function r(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}r.overshoot=t;return r}(a)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});r.d(e,"c",function(){return s});r.d(e,"b",function(){return l});var n=2*Math.PI,a=1,i=.3;var o=function e(r,a){var i=Math.asin(1/(r=Math.max(1,r)))*(a/=n);function t(t){return r*Math.pow(2,10*--t)*Math.sin((i-t)/a)}t.amplitude=function(t){return e(t,a*n)};t.period=function(t){return e(r,t)};return t}(a,i);var s=function e(r,a){var i=Math.asin(1/(r=Math.max(1,r)))*(a/=n);function t(t){return 1-r*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/a)}t.amplitude=function(t){return e(t,a*n)};t.period=function(t){return e(r,t)};return t}(a,i);var l=function e(r,a){var i=Math.asin(1/(r=Math.max(1,r)))*(a/=n);function t(t){return((t=t*2-1)<0?r*Math.pow(2,10*t)*Math.sin((i-t)/a):2-r*Math.pow(2,-10*t)*Math.sin((i+t)/a))/2}t.amplitude=function(t){return e(t,a*n)};t.period=function(t){return e(r,t)};return t}(a,i)},function(t,e,r){"use strict";e["a"]=d;e["b"]=M;var a=r(62);var s=r(61);var i=r(118);var n=18,l=.96422,u=1,f=.82521,o=4/29,c=6/29,v=3*c*c,h=c*c*c;function p(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof C)return k(t);if(!(t instanceof s["b"]))t=Object(s["h"])(t);var e=_(t.r),r=_(t.g),a=_(t.b),i=m((.2225045*e+.7168786*r+.0606169*a)/u),n,o;if(e===r&&r===a)n=o=i;else{n=m((.4360747*e+.3850649*r+.1430804*a)/l);o=m((.0139322*e+.0971045*r+.7141733*a)/f)}return new y(116*i-16,500*(n-i),200*(i-o),t.opacity)}function g(t,e){return new y(t,0,0,e==null?1:e)}function d(t,e,r,a){return arguments.length===1?p(t):new y(t,e,r,a==null?1:a)}function y(t,e,r,a){this.l=+t;this.a=+e;this.b=+r;this.opacity=+a}Object(a["a"])(y,d,Object(a["b"])(s["a"],{brighter:function(t){return new y(this.l+n*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-n*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;e=l*x(e);t=u*x(t);r=f*x(r);return new s["b"](b(3.1338561*e-1.6168667*t-.4906146*r),b(-.9787684*e+1.9161415*t+.033454*r),b(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function m(t){return t>h?Math.pow(t,1/3):t/v+o}function x(t){return t>c?t*t*t:v*(t-o)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof C)return new C(t.h,t.c,t.l,t.opacity);if(!(t instanceof y))t=p(t);if(t.a===0&&t.b===0)return new C(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*i["b"];return new C(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function S(t,e,r,a){return arguments.length===1?w(t):new C(r,e,t,a==null?1:a)}function M(t,e,r,a){return arguments.length===1?w(t):new C(t,e,r,a==null?1:a)}function C(t,e,r,a){this.h=+t;this.c=+e;this.l=+r;this.opacity=+a}function k(t){if(isNaN(t.h))return new y(t.l,0,0,t.opacity);var e=t.h*i["a"];return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Object(a["a"])(C,M,Object(a["b"])(s["a"],{brighter:function(t){return new C(this.h,this.c,this.l+n*(t==null?1:t),this.opacity)},darker:function(t){return new C(this.h,this.c,this.l-n*(t==null?1:t),this.opacity)},rgb:function(){return k(this).rgb()}}))},function(t,e,r){"use strict";e["a"]=s;var a=r(62);var u=r(61);var f=r(118);var n=-.14861,o=+1.78277,c=-.29227,v=-.90649,h=+1.97294,p=h*v,g=h*o,d=o*c-v*n;function i(t){if(t instanceof y)return new y(t.h,t.s,t.l,t.opacity);if(!(t instanceof u["b"]))t=Object(u["h"])(t);var e=t.r/255,r=t.g/255,a=t.b/255,i=(d*a+p*e-g*r)/(d+p-g),n=a-i,o=(h*(r-i)-c*n)/v,s=Math.sqrt(o*o+n*n)/(h*i*(1-i)),l=s?Math.atan2(o,n)*f["b"]-120:NaN;return new y(l<0?l+360:l,s,i,t.opacity)}function s(t,e,r,a){return arguments.length===1?i(t):new y(t,e,r,a==null?1:a)}function y(t,e,r,a){this.h=+t;this.s=+e;this.l=+r;this.opacity=+a}Object(a["a"])(y,s,Object(a["b"])(u["a"],{brighter:function(t){t=t==null?u["c"]:Math.pow(u["c"],t);return new y(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?u["d"]:Math.pow(u["d"],t);return new y(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*f["a"],e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),i=Math.sin(t);return new u["b"](255*(e+r*(n*a+o*i)),255*(e+r*(c*a+v*i)),255*(e+r*(h*a)),this.opacity)}}))},function(t,e,r){"use strict";e["a"]=function(e,r){return e=+e,r-=e,function(t){return Math.round(e+r*t)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});r.d(e,"b",function(){return o});var v=r(40);var a=r(208);function i(r,s,l,i){function u(t){return t.length?t.pop()+" ":""}function a(t,e,r,a,i,n){if(t!==r||e!==a){var o=i.push("translate(",null,s,null,l);n.push({i:o-4,x:Object(v["a"])(t,r)},{i:o-2,x:Object(v["a"])(e,a)})}else if(r||a){i.push("translate("+r+s+a+l)}}function o(t,e,r,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:r.push(u(r)+"rotate(",null,i)-2,x:Object(v["a"])(t,e)})}else if(e){r.push(u(r)+"rotate("+e+i)}}function f(t,e,r,a){if(t!==e){a.push({i:r.push(u(r)+"skewX(",null,i)-2,x:Object(v["a"])(t,e)})}else if(e){r.push(u(r)+"skewX("+e+i)}}function c(t,e,r,a,i,n){if(t!==r||e!==a){var o=i.push(u(i)+"scale(",null,",",null,")");n.push({i:o-4,x:Object(v["a"])(t,r)},{i:o-2,x:Object(v["a"])(e,a)})}else if(r!==1||a!==1){i.push(u(i)+"scale("+r+","+a+")")}}return function(t,e){var i=[],n=[];t=r(t),e=r(e);a(t.translateX,t.translateY,e.translateX,e.translateY,i,n);o(t.rotate,e.rotate,i,n);f(t.skewX,e.skewX,i,n);c(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,n);t=e=null;return function(t){var e=-1,r=n.length,a;while(++e<r)i[(a=n[e]).i]=a.x(t);return i.join("")}}}var n=i(a["a"],"px, ","px)","deg)");var o=i(a["b"],", ",")",")")},function(t,e,r){"use strict";e["a"]=l;e["b"]=u;var a=r(209);var i,n,o,s;function l(t){if(t==="none")return a["b"];if(!i)i=document.createElement("DIV"),n=document.documentElement,o=document.defaultView;i.style.transform=t;t=o.getComputedStyle(n.appendChild(i),null).getPropertyValue("transform");n.removeChild(i);t=t.slice(7,-1).split(",");return Object(a["a"])(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function u(t){if(t==null)return a["b"];if(!s)s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("transform",t);if(!(t=s.transform.baseVal.consolidate()))return a["b"];t=t.matrix;return Object(a["a"])(t.a,t.b,t.c,t.d,t.e,t.f)}},function(t,e,r){"use strict";r.d(e,"b",function(){return a});var u=180/Math.PI;var a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e["a"]=function(t,e,r,a,i,n){var o,s,l;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(l=t*r+e*a)r-=t*l,a-=e*l;if(s=Math.sqrt(r*r+a*a))r/=s,a/=s,l/=s;if(t*a<e*r)t=-t,e=-e,l=-l,o=-o;return{translateX:i,translateY:n,rotate:Math.atan2(e,t)*u,skewX:Math.atan(l)*u,scaleX:o,scaleY:s}}},function(t,e,r){"use strict";var m=Math.SQRT2,x=2,b=4,_=1e-12;function w(t){return((t=Math.exp(t))+1/t)/2}function S(t){return((t=Math.exp(t))-1/t)/2}function M(t){return((t=Math.exp(2*t))-1)/(t+1)}e["a"]=function(t,e){var i=t[0],n=t[1],o=t[2],r=e[0],a=e[1],s=e[2],l=r-i,u=a-n,f=l*l+u*u,c,v;if(f<_){v=Math.log(s/o)/m;c=function(t){return[i+t*l,n+t*u,o*Math.exp(m*t*v)]}}else{var h=Math.sqrt(f),p=(s*s-o*o+b*f)/(2*o*x*h),g=(s*s-o*o-b*f)/(2*s*x*h),d=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);v=(y-d)/m;c=function(t){var e=t*v,r=w(d),a=o/(x*h)*(r*M(m*e+d)-S(d));return[i+a*l,n+a*u,o*r/w(m*e+d)]}}c.duration=v*1e3;return c}},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var s=r(19);var l=r(28);function a(o){return function(e,t){var r=o((e=Object(s["d"])(e)).h,(t=Object(s["d"])(t)).h),a=Object(l["a"])(e.s,t.s),i=Object(l["a"])(e.l,t.l),n=Object(l["a"])(e.opacity,t.opacity);return function(t){e.h=r(t);e.s=a(t);e.l=i(t);e.opacity=n(t);return e+""}}}e["a"]=a(l["c"]);var i=a(l["a"])},function(t,e,r){"use strict";e["a"]=a;var o=r(19);var s=r(28);function a(e,t){var r=Object(s["a"])((e=Object(o["e"])(e)).l,(t=Object(o["e"])(t)).l),a=Object(s["a"])(e.a,t.a),i=Object(s["a"])(e.b,t.b),n=Object(s["a"])(e.opacity,t.opacity);return function(t){e.l=r(t);e.a=a(t);e.b=i(t);e.opacity=n(t);return e+""}}},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var s=r(19);var l=r(28);function a(o){return function(e,t){var r=o((e=Object(s["c"])(e)).h,(t=Object(s["c"])(t)).h),a=Object(l["a"])(e.c,t.c),i=Object(l["a"])(e.l,t.l),n=Object(l["a"])(e.opacity,t.opacity);return function(t){e.h=r(t);e.c=a(t);e.l=i(t);e.opacity=n(t);return e+""}}}e["a"]=a(l["c"]);var i=a(l["a"])},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var l=r(19);var u=r(28);function a(s){return function t(o){o=+o;function e(e,t){var r=s((e=Object(l["b"])(e)).h,(t=Object(l["b"])(t)).h),a=Object(u["a"])(e.s,t.s),i=Object(u["a"])(e.l,t.l),n=Object(u["a"])(e.opacity,t.opacity);return function(t){e.h=r(t);e.s=a(t);e.l=i(Math.pow(t,o));e.opacity=n(t);return e+""}}e.gamma=t;return e}(1)}e["b"]=a(u["c"]);var i=a(u["a"])},function(t,e,r){"use strict";e["a"]=function(t,e){var r=new Array(e);for(var a=0;a<e;++a)r[a]=t(a/(e-1));return r}},function(t,e,r){t.exports={canvas:r(217),svg:r(220)}},function(t,e,r){t.exports={painter:r(218)}},function(t,e,r){var o=r(1);var s=r(219);var l=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"];var a=function(){function t(t){if(!t){return null}var e=o.uniqueId("canvas_");var r=o.createDom('<canvas id="'+e+'"></canvas>');t.appendChild(r);this.type="canvas";this.canvas=r;this.context=r.getContext("2d");this.toDraw=false;return this}var e=t.prototype;e.beforeDraw=function t(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)};e.draw=function t(e){var r=this;function a(){r.animateHandler=o.requestAnimationFrame(function(){r.animateHandler=undefined;if(r.toDraw){a()}});r.beforeDraw();try{r._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:");console.warn(t);r.toDraw=false}r.toDraw=false}if(r.animateHandler){r.toDraw=true}else{a()}};e.drawSync=function t(e){this.beforeDraw();this._drawGroup(e)};e._drawGroup=function t(e){if(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible){return}var r=this;var a=e._cfg.children;var i=null;this.setContext(e);for(var n=0;n<a.length;n++){i=a[n];if(a[n].isGroup){r._drawGroup(i)}else{r._drawShape(i)}}this.restoreContext(e)};e._drawShape=function t(e){if(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible){return}this.setContext(e);e.drawInner(this.context);this.restoreContext(e);e._cfg.attrs=e._attrs;e._cfg.hasUpdate=false};e.setContext=function t(e){var r=this.context;var a=e._attrs.clip;r.save();if(a){a.resetTransform(r);a.createPath(r);r.clip()}this.resetContext(e);e.resetTransform(r)};e.restoreContext=function t(){this.context.restore()};e.resetContext=function t(e){var r=this.context;var a=e._attrs;if(!e.isGroup){for(var i in a){if(l.indexOf(i)>-1){var n=a[i];if(i==="fillStyle"){n=s.parseStyle(n,e,r)}if(i==="strokeStyle"){n=s.parseStyle(n,e,r)}if(i==="lineDash"&&r.setLineDash){if(o.isArray(n)){r.setLineDash(n)}else if(o.isString(n)){r.setLineDash(n.split(" "))}}else{r[i]=n}}}}};return t}();t.exports=a},function(t,e,r){var p=r(1);var i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;var n=/[^\s\,]+/gi;var g=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i;var d=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i;var u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;var y=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;var o={};function m(t,e){var r=t.match(y);p.each(r,function(t){t=t.split(":");e.addColorStop(t[0],t[1])})}function s(t,e,r){var a=g.exec(t);var i=p.mod(p.toRadian(parseFloat(a[1])),Math.PI*2);var n=a[2];var o=e.getBBox();var s;var l;if(i>=0&&i<.5*Math.PI){s={x:o.minX,y:o.minY};l={x:o.maxX,y:o.maxY}}else if(.5*Math.PI<=i&&i<Math.PI){s={x:o.maxX,y:o.minY};l={x:o.minX,y:o.maxY}}else if(Math.PI<=i&&i<1.5*Math.PI){s={x:o.maxX,y:o.maxY};l={x:o.minX,y:o.minY}}else{s={x:o.minX,y:o.maxY};l={x:o.maxX,y:o.minY}}var u=Math.tan(i);var f=u*u;var c=(l.x-s.x+u*(l.y-s.y))/(f+1)+s.x;var v=u*(l.x-s.x+u*(l.y-s.y))/(f+1)+s.y;var h=r.createLinearGradient(s.x,s.y,c,v);m(n,h);return h}function l(t,e,r){var a=d.exec(t);var i=parseFloat(a[1]);var n=parseFloat(a[2]);var o=parseFloat(a[3]);var s=a[4];if(o===0){var l=s.match(y);return l[l.length-1].split(":")[1]}var u=e.getBBox();var f=u.maxX-u.minX;var c=u.maxY-u.minY;var v=Math.sqrt(f*f+c*c)/2;var h=r.createRadialGradient(u.minX+f*i,u.minY+c*n,o*v,u.minX+f/2,u.minY+c/2,v);m(s,h);return h}function f(t,e,r){if(e.get("patternSource")&&e.get("patternSource")===t){return e.get("pattern")}var a;var i;var n=u.exec(t);var o=n[1];var s=n[2];function l(){a=r.createPattern(i,o);e.setSilent("pattern",a);e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}i=new Image;if(!s.match(/^data:/i)){i.crossOrigin="Anonymous"}i.src=s;if(i.complete){l()}else{i.onload=l;i.src=i.src}return a}t.exports={parsePath:function t(a){a=a||[];if(p.isArray(a)){return a}if(p.isString(a)){a=a.match(i);p.each(a,function(r,t){r=r.match(n);if(r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1));r[0]=e}p.each(r,function(t,e){if(!isNaN(t)){r[e]=+t}});a[t]=r});return a}},parseStyle:function t(e,r,a){if(p.isString(e)){if(e[1]==="("||e[2]==="("){if(e[0]==="l"){return s(e,r,a)}else if(e[0]==="r"){return l(e,r,a)}else if(e[0]==="p"){return f(e,r,a)}}return e}},numberToColor:function t(e){var r=o[e];if(!r){var a=e.toString(16);for(var i=a.length;i<6;i++){a="0"+a}r="#"+a;o[e]=r}return r}}},function(t,e,r){t.exports={painter:r(221),getShape:r(228)}},function(t,e,r){var y=r(1);var a=r(27),u=a.parseRadius;var i=r(57);var n=r(222);var o={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"};var f=.3;var c={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};var s={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"};var l={left:"left",start:"left",center:"middle",right:"end",end:"end"};var v=function(){function t(t){if(!t){return null}var e=y.uniqueId("canvas_");var r=y.createDom('<svg id="'+e+'"></svg>');t.appendChild(r);this.type="svg";this.canvas=r;this.context=new n(r);this.toDraw=false;return this}var e=t.prototype;e.draw=function t(e){var r=this;function a(){r.animateHandler=y.requestAnimationFrame(function(){r.animateHandler=undefined;if(r.toDraw){a()}});try{e.resetMatrix();r._drawGroup(e,false)}catch(t){console.warn("error in draw canvas, detail as:");console.warn(t);r.toDraw=false}r.toDraw=false}if(r.animateHandler){r.toDraw=true}else{a()}};e.drawSync=function t(e){this._drawChildren(e,false)};e._drawGroup=function t(e,r){var a=e._cfg;if(a.removed||a.destroyed){return}if(!a.el&&a.attrs){r=true}if(a.tobeRemoved){y.each(a.tobeRemoved,function(t){if(t.parentNode){t.parentNode.removeChild(t)}});a.tobeRemoved=[]}this._drawShape(e,r);if(a.children&&a.children.length>0){this._drawChildren(e,r)}};e._drawChildren=function t(e,r){var a=this;var i=e._cfg.children;var n;if(!i){return}if(e._cfg.el&&!r){var o=e._cfg.el.childNodes.length+1;if(o!==0&&o!==i.length){r=true}}for(var s=0;s<i.length;s++){n=i[s];if(n.isGroup){a._drawGroup(n,r)}else{a._drawShape(n,r)}}};e._drawShape=function t(e,r){var a=this;var i=e._attrs;var n=e._cfg;var o=n.el;if(n.removed||n.destroyed){if(o){o.parentNode.removeChild(n.el)}return}if(r&&o){o.parentNode&&o.parentNode.removeChild(o);o=null}if(!o&&n.parent){a._createDom(e);a._updateShape(e)}o=n.el;if(n.visible===false){o.setAttribute("visibility","hidden");return}if(n.visible&&o.hasAttribute("visibility")){o.removeAttribute("visibility")}if(n.hasUpdate){a._updateShape(e)}if(i.clip&&i.clip._cfg.hasUpdate){a._updateShape(i.clip)}};e._updateShape=function t(e){var r=this;var a=e._attrs;var i=e._cfg.attrs;if(!i){return}if(!e._cfg.el){r._createDom(e)}if("clip"in a){this._setClip(e,a.clip)}if("shadowOffsetX"in a||"shadowOffsetY"in a||"shadowBlur"in a||"shadowColor"in a){this._setShadow(e)}if(e.type==="text"){r._updateText(e);return}if(e.type==="fan"){r._updateFan(e)}if(e.type==="marker"){e._cfg.el.setAttribute("d",r._assembleMarker(a))}if(e.type==="rect"){e._cfg.el.setAttribute("d",r._assembleRect(a))}for(var n in a){if(a[n]!==i[n]){r._setAttribute(e,n,a[n])}}e._cfg.attrs=y.deepMix({},e._attrs);e._cfg.hasUpdate=false};e._setAttribute=function t(e,r,a){var i=e.type;var n=e._attrs;var o=e._cfg.el;var s=this.context;if((i==="marker"||i==="rect")&&~["x","y","radius","r"].indexOf(r)){return}if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(r)){o.setAttribute("c"+r,parseInt(a,10));return}if(i==="polygon"&&r==="points"){if(!a||a.length===0){a=""}if(y.isArray(a)){a=a.map(function(t){return t[0]+","+t[1]});a=a.join(" ")}o.setAttribute("points",a);return}if(r==="path"&&y.isArray(a)){o.setAttribute("d",this._formatPath(a));return}if(r==="img"){this._setImage(e,a);return}if(r==="transform"){if(!a){o.removeAttribute("transform");return}this._setTransform(e);return}if(r==="rotate"){if(!a){o.removeAttribute("transform");return}this._setTransform(e);return}if(r==="matrix"){this._setTransform(e);return}if(r==="fillStyle"||r==="strokeStyle"){this._setColor(e,r,a);return}if(r==="clip"){return}if(~r.indexOf("Arrow")){r=c[r];if(!a){e._cfg[r]=null;o.removeAttribute(r)}else{var l=null;if(typeof a==="boolean"){l=s.getDefaultArrow(n,r)}else{l=s.addArrow(n,r)}o.setAttribute(r,"url(#"+l+")");e._cfg[r]=l}return}if(r==="html"){if(typeof a==="string"){o.innerHTML=a}else{o.innerHTML="";o.appendChild(a)}}if(c[r]){o.setAttribute(c[r],a)}};e._createDom=function t(e){var r=o[e.type];var a=e._attrs;if(!r){throw new Error("the type"+e.type+"is not supported by svg")}var i=document.createElementNS("http://www.w3.org/2000/svg",r);e._cfg.el=i;if(e._cfg.parent){e._cfg.parent.get("el").appendChild(i)}e._cfg.attrs={};if(e.type==="text"){i.setAttribute("paint-order","stroke");i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")}else{if(!a.stroke&&!a.strokeStyle){i.setAttribute("stroke","none")}if(!a.fill&&!a.fillStyle){i.setAttribute("fill","none")}}return i};e._assembleMarker=function t(e){var r=e.r;if(typeof e.r==="undefined"){r=e.radius}if(isNaN(Number(e.x))||isNaN(Number(e.y))||isNaN(Number(r))){return""}var a="";if(typeof e.symbol==="function"){a=e.symbol(e.x,e.y,r)}else{a=i.Symbols[e.symbol||"circle"](e.x,e.y,r)}if(y.isArray(a)){a=a.map(function(t){return t.join(" ")}).join("")}return a};e._assembleRect=function t(e){var r=e.x;var a=e.y;var i=e.width;var n=e.height;var o=e.radius;if(!o){return"M "+r+","+a+" l "+i+",0 l 0,"+n+" l"+-i+" 0 z"}var s=u(o);if(y.isArray(o)){if(o.length===1){s.r1=s.r2=s.r3=s.r4=o[0]}else if(o.length===2){s.r1=s.r3=o[0];s.r2=s.r4=o[1]}else if(o.length===3){s.r1=o[0];s.r2=s.r4=o[1];s.r3=o[2]}else{s.r1=o[0];s.r2=o[1];s.r3=o[2];s.r4=o[3]}}else{s.r1=s.r2=s.r3=s.r4=o}var l=[["M "+(r+s.r1)+","+a],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(n-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-n)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]];return l.join(" ")};e._formatPath=function t(e){e=e.map(function(t){return t.join(" ")}).join("");if(~e.indexOf("NaN")){return""}return e};e._setTransform=function t(e){var r=e._attrs.matrix;var a=e._cfg.el;var i=[];for(var n=0;n<9;n+=3){i.push(r[n]+","+r[n+1])}i=i.join(",");if(i.indexOf("NaN")===-1){a.setAttribute("transform","matrix("+i+")")}else{console.warn("invalid matrix:",r)}};e._setImage=function t(e,r){var a=e._attrs;var i=e._cfg.el;if(y.isString(r)){i.setAttribute("href",r)}else if(r instanceof Image){if(!a.width){i.setAttribute("width",r.width);e._attrs.width=r.width}if(!a.height){i.setAttribute("height",r.height);e._attrs.height=r.height}i.setAttribute("href",r.src)}else if(r instanceof HTMLElement&&y.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"){i.setAttribute("href",r.toDataURL())}else if(r instanceof ImageData){var n=document.createElement("canvas");n.setAttribute("width",r.width);n.setAttribute("height",r.height);n.getContext("2d").putImageData(r,0,0);if(!a.width){i.setAttribute("width",r.width);e._attrs.width=r.width}if(!a.height){i.setAttribute("height",r.height);e._attrs.height=r.height}i.setAttribute("href",n.toDataURL())}};e._updateFan=function t(e){function r(t,e,r){return{x:e*Math.cos(t)+r.x,y:e*Math.sin(t)+r.y}}var a=e._attrs;var i=e._cfg;var n={x:a.x,y:a.y};var o=[];var s=a.startAngle;var l=a.endAngle;if(y.isNumberEqual(l-s,Math.PI*2)){l-=1e-5}var u=r(s,a.re,n);var f=r(l,a.re,n);var c=l>s?1:0;var v=Math.abs(l-s)>Math.PI?1:0;var h=a.rs;var p=a.re;var g=r(s,a.rs,n);var d=r(l,a.rs,n);if(a.rs>0){o.push("M "+f.x+","+f.y);o.push("L "+d.x+","+d.y);o.push("A "+h+","+h+",0,"+v+","+(c===1?0:1)+","+g.x+","+g.y);o.push("L "+u.x+" "+u.y)}else{o.push("M "+n.x+","+n.y);o.push("L "+u.x+","+u.y)}o.push("A "+p+","+p+",0,"+v+","+c+","+f.x+","+f.y);if(a.rs>0){o.push("L "+d.x+","+d.y)}else{o.push("Z")}i.el.setAttribute("d",o.join(" "))};e._updateText=function t(e){var r=this;var a=e._attrs;var i=e._cfg.attrs;var n=e._cfg.el;this._setFont(e);for(var o in a){if(a[o]!==i[o]){if(o==="text"){r._setText(e,""+a[o]);continue}if(o==="fillStyle"||o==="strokeStyle"){this._setColor(e,o,a[o]);continue}if(o==="matrix"){this._setTransform(e);continue}if(c[o]){n.setAttribute(c[o],a[o])}}}e._cfg.attrs=Object.assign({},e._attrs);e._cfg.hasUpdate=false};e._setFont=function t(e){var r=e.get("el");var a=e._attrs;var i=a.fontSize;r.setAttribute("alignment-baseline",s[a.textBaseline]||"baseline");r.setAttribute("text-anchor",l[a.textAlign]||"left");if(i&&+i<12){a.matrix=[1,0,0,0,1,0,0,0,1];e.transform([["t",-a.x,-a.y],["s",+i/12,+i/12],["t",a.x,a.y]])}};e._setText=function t(e,r){var a=e._cfg.el;var i=e._attrs.textBaseline||"bottom";if(!r){a.innerHTML=""}else if(~r.indexOf("\n")){var n=e._attrs.x;var o=r.split("\n");var s=o.length-1;var l="";y.each(o,function(t,e){if(e===0){if(i==="alphabetic"){l+='<tspan x="'+n+'" dy="'+-s+'em">'+t+"</tspan>"}else if(i==="top"){l+='<tspan x="'+n+'" dy="0.9em">'+t+"</tspan>"}else if(i==="middle"){l+='<tspan x="'+n+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>"}else if(i==="bottom"){l+='<tspan x="'+n+'" dy="-'+(s+f)+'em">'+t+"</tspan>"}else if(i==="hanging"){l+='<tspan x="'+n+'" dy="'+(-(s-1)-f)+'em">'+t+"</tspan>"}}else{l+='<tspan x="'+n+'" dy="1em">'+t+"</tspan>"}});a.innerHTML=l}else{a.innerHTML=r}};e._setClip=function t(e,r){var a=e._cfg.el;if(!r){a.removeAttribute("clip-path");return}if(!a.hasAttribute("clip-path")){this._createDom(r);this._updateShape(r);var i=this.context.addClip(r);a.setAttribute("clip-path","url(#"+i+")")}else if(r._cfg.hasUpdate){this._updateShape(r)}};e._setColor=function t(e,r,a){var i=e._cfg.el;var n=this.context;if(!a){i.setAttribute(c[r],"none");return}a=a.trim();if(/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=n.find("gradient",a);if(!o){o=n.addGradient(a)}i.setAttribute(c[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var s=n.find("pattern",a);if(!s){s=n.addPattern(a)}i.setAttribute(c[r],"url(#"+s+")")}else{i.setAttribute(c[r],a)}};e._setShadow=function t(e){var r=e._cfg.el;var a=e._attrs;var i={dx:a.shadowOffsetX,dy:a.shadowOffsetY,blur:a.shadowBlur,color:a.shadowColor};if(!i.dx&&!i.dy&&!i.blur&&!i.color){r.removeAttribute("filter")}else{var n=this.context.find("filter",i);if(!n){n=this.context.addShadow(i,this)}r.setAttribute("filter","url(#"+n+")")}};return t}();t.exports=v},function(t,e,r){var a=r(1);var i=r(223);var n=r(224);var o=r(225);var s=r(226);var l=r(227);var u=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs");var r=a.uniqueId("defs_");e.id=r;t.appendChild(e);this.children=[];this.defaultArrow={};this.el=e;this.canvas=t}var e=t.prototype;e.find=function t(e,r){var a=this.children;var i=null;for(var n=0;n<a.length;n++){if(a[n].match(e,r)){i=a[n].id;break}}return i};e.findById=function t(e){var r=this.children;var a=null;for(var i=0;i<r.length;i++){if(r[i].id===e){a=r[i];break}}return a};e.add=function t(e){this.children.push(e);e.canvas=this.canvas;e.parent=this};e.getDefaultArrow=function t(e,r){var a=e.stroke||e.strokeStyle;if(this.defaultArrow[a]){return this.defaultArrow[a].id}var i=new o(e,r);this.defaultArrow[a]=i;this.el.appendChild(i.el);return i.id};e.addGradient=function t(e){var r=new i(e);this.el.appendChild(r.el);this.add(r);return r.id};e.addArrow=function t(e,r){var a=new o(e,r);this.el.appendChild(a.el);return a.id};e.addShadow=function t(e){var r=new n(e);this.el.appendChild(r.el);this.add(r);return r.id};e.addPattern=function t(e){var r=new l(e);this.el.appendChild(r.el);this.add(r);return r.id};e.addClip=function t(e){var r=new s(e);this.el.appendChild(r.el);this.add(r);return r.id};return t}();t.exports=u},function(t,e,r){var c=r(1);var v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i;var s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i;var a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){var e=t.match(a);if(!e){return""}var r="";e.sort(function(t,e){t=t.split(":");e=e.split(":");return Number(t[0])-Number(e[0])});c.each(e,function(t){t=t.split(":");r+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'});return r}function i(t,e){var r=v.exec(t);var a=c.mod(c.toRadian(parseFloat(r[1])),Math.PI*2);var i=r[2];var n;var o;if(a>=0&&a<.5*Math.PI){n={x:0,y:0};o={x:1,y:1}}else if(.5*Math.PI<=a&&a<Math.PI){n={x:1,y:0};o={x:0,y:1}}else if(Math.PI<=a&&a<1.5*Math.PI){n={x:1,y:1};o={x:0,y:0}}else{n={x:0,y:1};o={x:1,y:0}}var s=Math.tan(a);var l=s*s;var u=(o.x-n.x+s*(o.y-n.y))/(l+1)+n.x;var f=s*(o.x-n.x+s*(o.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x);e.setAttribute("y1",n.y);e.setAttribute("x2",u);e.setAttribute("y2",f);e.innerHTML=h(i)}function n(t,e){var r=s.exec(t);var a=parseFloat(r[1]);var i=parseFloat(r[2]);var n=parseFloat(r[3]);var o=r[4];e.setAttribute("cx",a);e.setAttribute("cy",i);e.setAttribute("r",n);e.innerHTML=h(o)}var o=function(){function t(t){var e=null;var r=c.uniqueId("gradient_");if(t.toLowerCase()[0]==="l"){e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");i(t,e)}else{e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");n(t,e)}e.setAttribute("id",r);this.el=e;this.id=r;this.cfg=t;return this}var e=t.prototype;e.match=function t(e,r){return this.cfg===r};return t}();t.exports=o},function(t,e,r){var n=r(1);var i={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"};var a={x:"-40%",y:"-40%",width:"200%",height:"200%"};var o=function(){function t(t){this.type="filter";var r=document.createElementNS("http://www.w3.org/2000/svg","filter");n.each(a,function(t,e){r.setAttribute(e,t)});this.el=r;this.id=n.uniqueId("filter_");this.el.id=this.id;this.cfg=t;this._parseShadow(t,r);return this}var e=t.prototype;e.match=function t(e,r){if(this.type!==e){return false}var a=true;var i=this.cfg;n.each(Object.keys(i),function(t){if(i[t]!==r[t]){a=false;return false}});return a};e.update=function t(e,r){var a=this.cfg;a[i[e]]=r;this._parseShadow(a,this.el);return this};e._parseShadow=function t(e,r){var a='<feDropShadow \n      dx="'+(e.dx||0)+'" \n      dy="'+(e.dy||0)+'" \n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';r.innerHTML=a};return t}();t.exports=o},function(t,e,r){var o=r(1);var a=function(){function t(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg","marker");var a=o.uniqueId("marker_");r.setAttribute("id",a);var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("stroke","none");i.setAttribute("fill",t.stroke||"#000");r.appendChild(i);r.setAttribute("overflow","visible");r.setAttribute("orient","auto-start-reverse");this.el=r;this.child=i;this.id=a;this.cfg=t[e==="marker-start"?"startArrow":"endArrow"];this.stroke=t.stroke||"#000";if(this.cfg===true){this._setDefaultPath(e,i)}else{this._setMarker(t.lineWidth,i)}return this}var e=t.prototype;e.match=function t(){return false};e._setDefaultPath=function t(e,r){var a=this.el;r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z");a.setAttribute("refX",3);a.setAttribute("refY",3)};e._setMarker=function t(e,r){var a=this.el;var i=this.cfg.path;var n=this.cfg.d;if(o.isArray(i)){i=i.map(function(t){return t.join(" ")}).join("")}r.setAttribute("d",i);a.appendChild(r);if(n){a.setAttribute("refX",n/e)}};e.update=function t(e){var r=this.child;if(r.attr){r.attr("fill",e)}else{r.setAttribute("fill",e)}};return t}();t.exports=a},function(t,e,r){var a=r(1);var i=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e;this.id=a.uniqueId("clip_");e.id=this.id;var r=t._cfg.el;e.appendChild(r.cloneNode(true));this.cfg=t;return this}var e=t.prototype;e.match=function t(){return false};e.remove=function t(){var e=this.el;e.parentNode.removeChild(e)};return t}();t.exports=i},function(t,e,r){var l=r(1);var u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;var a=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var r=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(r);var a=l.uniqueId("pattern_");e.id=a;this.el=e;this.id=a;this.cfg=t;var i=u.exec(t);var n=i[2];r.setAttribute("href",n);var o=new Image;if(!n.match(/^data:/i)){o.crossOrigin="Anonymous"}o.src=n;function s(){console.log(o.width,o.height);e.setAttribute("width",o.width);e.setAttribute("height",o.height)}if(o.complete){s()}else{o.onload=s;o.src=o.src}return this}var e=t.prototype;e.match=function t(e,r){return this.cfg===r};return t}();t.exports=a},function(t,e){var o={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function t(e,r,a){var i=a.target||a.srcElement;if(!o[i.tagName]){var n=i.parentNode;while(n&&!o[n.tagName]){n=n.parentNode}i=n}if(this._cfg.el===i){return this}return this.find(function(t){return t._cfg&&t._cfg.el===i})}},function(t,e,r){t.exports={addEventListener:r(230),createDom:r(94),getBoundingClientRect:r(231),getHeight:r(232),getOuterHeight:r(233),getOuterWidth:r(234),getRatio:r(235),getStyle:r(236),getWidth:r(237),modifyCSS:r(95),requestAnimationFrame:r(96)}},function(t,e){t.exports=function t(e,r,a){if(e){if(e.addEventListener){e.addEventListener(r,a,false);return{remove:function t(){e.removeEventListener(r,a,false)}}}else if(e.attachEvent){e.attachEvent("on"+r,a);return{remove:function t(){e.detachEvent("on"+r,a)}}}}}},function(t,e){t.exports=function t(e,r){if(e&&e.getBoundingClientRect){var a=e.getBoundingClientRect();var i=document.documentElement.clientTop;var n=document.documentElement.clientLeft;return{top:a.top-i,bottom:a.bottom-i,left:a.left-n,right:a.right-n}}return r||null}},function(t,e){t.exports=function t(e,r){var a=this.getStyle(e,"height",r);if(a==="auto"){a=e.offsetHeight}return parseFloat(a)}},function(t,e){t.exports=function t(e,r){var a=this.getHeight(e,r);var i=parseFloat(this.getStyle(e,"borderTopWidth"))||0;var n=parseFloat(this.getStyle(e,"paddingTop"))||0;var o=parseFloat(this.getStyle(e,"paddingBottom"))||0;var s=parseFloat(this.getStyle(e,"borderBottomWidth"))||0;return a+i+s+n+o}},function(t,e){t.exports=function t(e,r){var a=this.getWidth(e,r);var i=parseFloat(this.getStyle(e,"borderLeftWidth"))||0;var n=parseFloat(this.getStyle(e,"paddingLeft"))||0;var o=parseFloat(this.getStyle(e,"paddingRight"))||0;var s=parseFloat(this.getStyle(e,"borderRightWidth"))||0;return a+i+s+n+o}},function(t,e){t.exports=function t(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,r){var i=r(5);t.exports=function t(e,r,a){try{if(window.getComputedStyle){return window.getComputedStyle(e,null)[r]}return e.currentStyle[r]}catch(t){if(!i(a)){return a}return null}}},function(t,e){t.exports=function t(e,r){var a=this.getStyle(e,"width",r);if(a==="auto"){a=e.offsetWidth}return parseFloat(a)}},function(t,e,r){t.exports={contains:r(41),difference:r(239),find:r(240),firstValue:r(241),flatten:r(242),flattenDeep:r(243),getRange:r(244),merge:r(42),pull:r(90),pullAt:r(130),reduce:r(245),remove:r(246),sortBy:r(247),union:r(248),uniq:r(131),valuesOfKey:r(65)}},function(t,e,r){var a=r(64);var i=r(41);var n=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return a(e,function(t){return!i(r,t)})};t.exports=n},function(t,e,r){var i=r(11);var n=r(26);var o=r(128);function a(t,r){var e=void 0;if(i(r)){e=r}if(n(r)){e=function t(e){return o(e,r)}}if(e){for(var a=0;a<t.length;a+=1){if(e(t[a])){return t[a]}}}return null}t.exports=a},function(t,e,r){var s=r(5);var l=r(4);var a=function t(e,r){var a=null;for(var i=0;i<e.length;i++){var n=e[i];var o=n[r];if(!s(o)){if(l(o)){a=o[0]}else{a=o}break}}return a};t.exports=a},function(t,e,r){var a=r(4);var i=r(2);var n=function t(e){if(!a(e)){return e}var r=[];i(e,function(t){if(a(t)){i(t,function(t){r.push(t)})}else{r.push(t)}});return r};t.exports=n},function(t,e,r){var i=r(4);var a=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!i(e)){r.push(e)}else{for(var a=0;a<e.length;a+=1){t(e[a],r)}}return r};t.exports=a},function(t,e,r){var o=r(64);var s=r(4);var a=function t(e){e=o(e,function(t){return!isNaN(t)});if(!e.length){return{min:0,max:0}}if(s(e[0])){var r=[];for(var a=0;a<e.length;a++){r=r.concat(e[a])}e=r}var i=Math.max.apply(null,e);var n=Math.min.apply(null,e);return{min:n,max:i}};t.exports=a},function(t,e,r){var n=r(4);var o=r(26);var s=r(2);var a=function t(e,r,a){if(!n(e)&&!o(e)){return e}var i=a;s(e,function(t,e){i=r(i,t,e)});return i};t.exports=a},function(t,e,r){var l=r(13);var u=r(130);var a=function t(e,r){var a=[];if(!l(e)){return a}var i=-1;var n=[];var o=e.length;while(++i<o){var s=e[i];if(r(s,i,e)){a.push(s);n.push(i)}}u(e,n);return a};t.exports=a},function(t,e,r){var i=r(10);var o=r(11);var s=r(4);function a(t,a){var e=void 0;if(o(a)){e=function t(e,r){return a(e)-a(r)}}else{var n=[];if(i(a)){n.push(a)}else if(s(a)){n=a}e=function t(e,r){for(var a=0;a<n.length;a+=1){var i=n[a];if(e[i]>r[i]){return 1}if(e[i]<r[i]){return-1}}return 0}}t.sort(e);return t}t.exports=a},function(t,e,r){var a=r(2);var i=r(34);var n=r(131);var o=function t(){var e=[];var r=i(arguments);a(r,function(t){e=e.concat(t)});return n(e)};t.exports=o},function(t,e,r){t.exports={getWrapBehavior:r(250),wrapBehavior:r(251)}},function(t,e){function r(t,e){return t["_wrap_"+e]}t.exports=r},function(t,e){function r(r,a){if(r["_wrap_"+a]){return r["_wrap_"+a]}var t=function t(e){r[a](e)};r["_wrap_"+a]=t;return t}t.exports=r},function(t,e,r){var a=r(253);t.exports={number2color:a,numberToColor:a,parsePath:r(254),parseRadius:r(255)}},function(t,e){var n={};t.exports=function t(e){var r=n[e];if(!r){var a=e.toString(16);for(var i=a.length;i<6;i++){a="0"+a}r="#"+a;n[e]=r}return r}},function(t,e,r){var i=r(4);var n=r(10);var o=r(2);var s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;var l=/[^\s\,]+/gi;t.exports=function t(a){a=a||[];if(i(a)){return a}if(n(a)){a=a.match(s);o(a,function(r,t){r=r.match(l);if(r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1));r[0]=e}o(r,function(t,e){if(!isNaN(t)){r[e]=+t}});a[t]=r});return a}}},function(t,e,r){var o=r(4);t.exports=function t(e){var r=0,a=0,i=0,n=0;if(o(e)){if(e.length===1){r=a=i=n=e[0]}else if(e.length===2){r=i=e[0];a=n=e[1]}else if(e.length===3){r=e[0];a=n=e[1];i=e[2]}else{r=e[0];a=e[1];i=e[2];n=e[3]}}else{r=a=i=n=e}return{r1:r,r2:a,r3:i,r4:n}}},function(t,e,r){var a=r(35);t.exports={clamp:r(51),fixedBase:r(257),isDecimal:r(258),isEven:r(259),isInteger:r(260),isNegative:r(261),isNumberEqual:a,isOdd:r(262),isPositive:r(263),maxBy:r(132),minBy:r(264),mod:r(93),snapEqual:a,toDegree:r(92),toInt:r(133),toInteger:r(133),toRadian:r(91)}},function(t,e){var r=function t(e,r){var a=r.toString();var i=a.indexOf(".");if(i===-1){return Math.round(e)}var n=a.substr(i+1).length;if(n>20){n=20}return parseFloat(e.toFixed(n))};t.exports=r},function(t,e,r){var a=r(9);var i=function t(e){return a(e)&&e%1!==0};t.exports=i},function(t,e,r){var a=r(9);var i=function t(e){return a(e)&&e%2===0};t.exports=i},function(t,e,r){var a=r(9);var i=Number.isInteger?Number.isInteger:function(t){return a(t)&&t%1===0};t.exports=i},function(t,e,r){var a=r(9);var i=function t(e){return a(e)&&e<0};t.exports=i},function(t,e,r){var a=r(9);var i=function t(e){return a(e)&&e%2!==0};t.exports=i},function(t,e,r){var a=r(9);var i=function t(e){return a(e)&&e>0};t.exports=i},function(t,e,r){var o=r(4);var s=r(11);var l=r(2);var a=function t(e,r){if(!o(e)){return undefined}var a=e[0];var i=void 0;if(s(r)){i=r(e[0])}else{i=e[0][r]}var n=void 0;l(e,function(t){if(s(r)){n=r(t)}else{n=t[r]}if(n<i){a=t;i=n}});return a};t.exports=a},function(t,e,r){t.exports={forIn:r(266),has:r(134),hasKey:r(267),hasValue:r(268),keys:r(129),isMatch:r(128),values:r(135)}},function(t,e,r){t.exports=r(2)},function(t,e,r){t.exports=r(134)},function(t,e,r){var a=r(41);var i=r(135);t.exports=function(t,e){return a(i(t),e)}},function(t,e,r){var a=r(270);var i=r(139);var n=r(138);var o=r(141);t.exports={catmullRom2Bezier:o,catmullRomToBezier:o,fillPath:r(271),fillPathByDiff:r(272),formatPath:r(274),intersection:a,pathIntersection:a,parsePathArray:r(137),parsePathString:r(140),pathToAbsolute:i,path2absolute:i,pathTocurve:n,path2curve:n,rectPath:r(136)}},function(t,e,r){var f=r(4);var n=r(136);var M=r(138);var b=function t(e,r,a,i,n){var o=-3*r+9*a-9*i+3*n;var s=e*o+6*r-12*a+6*i;return e*s-3*r+3*a};var I=function t(e,r,a,i,n,o,s,l,u){if(u===null){u=1}u=u>1?1:u<0?0:u;var f=u/2;var c=12;var v=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];var h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];var p=0;for(var g=0;g<c;g++){var d=f*v[g]+f;var y=b(d,e,a,n,s);var m=b(d,r,i,o,l);var x=y*y+m*m;p+=h[g]*Math.sqrt(x)}return f*p};var c=function t(e,r,a,i,n,o,s,l){var u=[];var f=[[],[]];var c=void 0;var v=void 0;var h=void 0;var p=void 0;for(var g=0;g<2;++g){if(g===0){v=6*e-12*a+6*n;c=-3*e+9*a-9*n+3*s;h=3*a-3*e}else{v=6*r-12*i+6*o;c=-3*r+9*i-9*o+3*l;h=3*i-3*r}if(Math.abs(c)<1e-12){if(Math.abs(v)<1e-12){continue}p=-h/v;if(p>0&&p<1){u.push(p)}continue}var d=v*v-4*h*c;var y=Math.sqrt(d);if(d<0){continue}var m=(-v+y)/(2*c);if(m>0&&m<1){u.push(m)}var x=(-v-y)/(2*c);if(x>0&&x<1){u.push(x)}}var b=u.length;var _=b;var w=void 0;while(b--){p=u[b];w=1-p;f[0][b]=w*w*w*e+3*w*w*p*a+3*w*p*p*n+p*p*p*s;f[1][b]=w*w*w*r+3*w*w*p*i+3*w*p*p*o+p*p*p*l}f[0][_]=e;f[1][_]=r;f[0][_+1]=s;f[1][_+1]=l;f[0].length=f[1].length=_+2;return{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}};var T=function t(e,r,a,i,n,o,s,l){if(Math.max(e,a)<Math.min(n,s)||Math.min(e,a)>Math.max(n,s)||Math.max(r,i)<Math.min(o,l)||Math.min(r,i)>Math.max(o,l)){return}var u=(e*i-r*a)*(n-s)-(e-a)*(n*l-o*s);var f=(e*i-r*a)*(o-l)-(r-i)*(n*l-o*s);var c=(e-a)*(o-l)-(r-i)*(n-s);if(!c){return}var v=u/c;var h=f/c;var p=+v.toFixed(2);var g=+h.toFixed(2);if(p<+Math.min(e,a).toFixed(2)||p>+Math.max(e,a).toFixed(2)||p<+Math.min(n,s).toFixed(2)||p>+Math.max(n,s).toFixed(2)||g<+Math.min(r,i).toFixed(2)||g>+Math.max(r,i).toFixed(2)||g<+Math.min(o,l).toFixed(2)||g>+Math.max(o,l).toFixed(2)){return}return{x:v,y:h}};var a=function t(e,r,a){return r>=e.x&&r<=e.x+e.width&&a>=e.y&&a<=e.y+e.height};var v=function t(e,r,a,i){if(e===null){e=r=a=i=0}if(r===null){r=e.y;a=e.width;i=e.height;e=e.x}return{x:e,y:r,width:a,w:a,height:i,h:i,x2:e+a,y2:r+i,cx:e+a/2,cy:r+i/2,r1:Math.min(a,i)/2,r2:Math.max(a,i)/2,r0:Math.sqrt(a*a+i*i)/2,path:n(e,r,a,i),vb:[e,r,a,i].join(" ")}};var O=function t(e,r){e=v(e);r=v(r);return a(r,e.x,e.y)||a(r,e.x2,e.y)||a(r,e.x,e.y2)||a(r,e.x2,e.y2)||a(e,r.x,r.y)||a(e,r.x2,r.y)||a(e,r.x,r.y2)||a(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)};var L=function t(e,r,a,i,n,o,s,l){if(!f(e)){e=[e,r,a,i,n,o,s,l]}var u=c.apply(null,e);return v(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)};var E=function t(e,r,a,i,n,o,s,l,u){var f=1-u;var c=Math.pow(f,3);var v=Math.pow(f,2);var h=u*u;var p=h*u;var g=c*e+v*3*u*a+f*3*u*u*n+p*s;var d=c*r+v*3*u*i+f*3*u*u*o+p*l;var y=e+2*u*(a-e)+h*(n-2*a+e);var m=r+2*u*(i-r)+h*(o-2*i+r);var x=a+2*u*(n-a)+h*(s-2*n+a);var b=i+2*u*(o-i)+h*(l-2*o+i);var _=f*e+u*a;var w=f*r+u*i;var S=f*n+u*s;var M=f*o+u*l;var C=90-Math.atan2(y-x,m-b)*180/Math.PI;return{x:g,y:d,m:{x:y,y:m},n:{x:x,y:b},start:{x:_,y:w},end:{x:S,y:M},alpha:C}};var C=function t(e,r,a){var i=L(e);var n=L(r);if(!O(i,n)){return a?0:[]}var o=I.apply(0,e);var s=I.apply(0,r);var l=~~(o/8);var u=~~(s/8);var f=[];var c=[];var v={};var h=a?0:[];for(var p=0;p<l+1;p++){var g=E.apply(0,e.concat(p/l));f.push({x:g.x,y:g.y,t:p/l})}for(var d=0;d<u+1;d++){var y=E.apply(0,r.concat(d/u));c.push({x:y.x,y:y.y,t:d/u})}for(var m=0;m<l;m++){for(var x=0;x<u;x++){var b=f[m];var _=f[m+1];var w=c[x];var S=c[x+1];var M=Math.abs(_.x-b.x)<.001?"y":"x";var C=Math.abs(S.x-w.x)<.001?"y":"x";var k=T(b.x,b.y,_.x,_.y,w.x,w.y,S.x,S.y);if(k){if(v[k.x.toFixed(4)]===k.y.toFixed(4)){continue}v[k.x.toFixed(4)]=k.y.toFixed(4);var A=b.t+Math.abs((k[M]-b[M])/(_[M]-b[M]))*(_.t-b.t);var P=w.t+Math.abs((k[C]-w[C])/(S[C]-w[C]))*(S.t-w.t);if(A>=0&&A<=1&&P>=0&&P<=1){if(a){h++}else{h.push({x:k.x,y:k.y,t1:A,t2:P})}}}}}return h};var i=function t(e,r,a){e=M(e);r=M(r);var i=void 0;var n=void 0;var o=void 0;var s=void 0;var l=void 0;var u=void 0;var f=void 0;var c=void 0;var v=void 0;var h=void 0;var p=a?0:[];for(var g=0,d=e.length;g<d;g++){var y=e[g];if(y[0]==="M"){i=l=y[1];n=u=y[2]}else{if(y[0]==="C"){v=[i,n].concat(y.slice(1));i=v[6];n=v[7]}else{v=[i,n,i,n,l,u,l,u];i=l;n=u}for(var m=0,x=r.length;m<x;m++){var b=r[m];if(b[0]==="M"){o=f=b[1];s=c=b[2]}else{if(b[0]==="C"){h=[o,s].concat(b.slice(1));o=h[6];s=h[7]}else{h=[o,s,o,s,f,c,f,c];o=f;s=c}var _=C(v,h,a);if(a){p+=_}else{for(var w=0,S=_.length;w<S;w++){_[w].segment1=g;_[w].segment2=m;_[w].bez1=v;_[w].bez2=h}p=p.concat(_)}}}}}return p};t.exports=function t(e,r){return i(e,r)}},function(t,e){function c(t,e){var i=[];var n=[];function o(t,e){if(t.length===1){i.push(t[0]);n.push(t[0])}else{var r=[];for(var a=0;a<t.length-1;a++){if(a===0){i.push(t[0])}if(a===t.length-2){n.push(t[a+1])}r[a]=[(1-e)*t[a][0]+e*t[a+1][0],(1-e)*t[a][1]+e*t[a+1][1]]}o(r,e)}}if(t.length){o(t,e)}return{left:i,right:n.reverse()}}function o(t,e,r){var a=[[t[1],t[2]]];r=r||2;var i=[];if(e[0]==="A"){a.push(e[6]);a.push(e[7])}else if(e[0]==="C"){a.push([e[1],e[2]]);a.push([e[3],e[4]]);a.push([e[5],e[6]])}else if(e[0]==="S"||e[0]==="Q"){a.push([e[1],e[2]]);a.push([e[3],e[4]])}else{a.push([e[1],e[2]])}var n=a;var o=1/r;for(var s=0;s<r-1;s++){var l=o/(1-o*s);var u=c(n,l);i.push(u.left);n=u.right}i.push(n);var f=i.map(function(t){var e=[];if(t.length===4){e.push("C");e=e.concat(t[2])}if(t.length>=3){if(t.length===3){e.push("Q")}e=e.concat(t[1])}if(t.length===2){e.push("L")}e=e.concat(t[t.length-1]);return e});return f}function v(t,e,r){if(r===1){return[[].concat(t)]}var a=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q"){a=a.concat(o(t,e,r))}else{var i=[].concat(t);if(i[0]==="M"){i[0]="L"}for(var n=0;n<=r-1;n++){a.push(i)}}return a}t.exports=function t(a,e){if(a.length===1){return a}var i=a.length-1;var r=e.length-1;var n=i/r;var o=[];if(a.length===1&&a[0][0]==="M"){for(var s=0;s<r-i;s++){a.push(a[0])}return a}for(var l=0;l<r;l++){var u=Math.floor(n*l);o[u]=(o[u]||0)+1}var f=o.reduce(function(t,e,r){if(r===i){return t.concat(a[i])}return t.concat(v(a[r],a[r+1],e))},[]);f.unshift(a[0]);if(e[r]==="Z"||e[r]==="z"){f.push("Z")}return f}},function(t,e,r){var d=r(273);function y(t,e,r){var a=null;var i=r;if(e<i){i=e;a="add"}if(t<i){i=t;a="del"}return{type:a,min:i}}var p=function t(e,r){var a=e.length;var i=r.length;var n=void 0,o=void 0;var s=0;if(a===0||i===0){return null}var l=[];for(var u=0;u<=a;u++){l[u]=[];l[u][0]={min:u}}for(var f=0;f<=i;f++){l[0][f]={min:f}}for(var c=1;c<=a;c++){n=e[c-1];for(var v=1;v<=i;v++){o=r[v-1];if(d(n,o)){s=0}else{s=1}var h=l[c-1][v].min+1;var p=l[c][v-1].min+1;var g=l[c-1][v-1].min+s;l[c][v]=y(h,p,g)}}return l};t.exports=function t(e,r){var a=p(e,r);var i=e.length;var n=r.length;var o=[];var s=1;var l=1;if(a[i][n]!==i){for(var u=1;u<=i;u++){var f=a[u][u].min;l=u;for(var c=s;c<=n;c++){if(a[u][c].min<f){f=a[u][c].min;l=c}}s=l;if(a[u][s].type){o.push({index:u-1,type:a[u][s].type})}}for(var v=o.length-1;v>=0;v--){s=o[v].index;if(o[v].type==="add"){e.splice(s,0,[].concat(e[s]))}else{e.splice(s,1)}}}i=e.length;if(i<n){for(var h=0;h<n-i;h++){if(e[i-1][0]==="z"||e[i-1][0]==="Z"){e.splice(i-2,0,e[i-2])}else{e.push(e[i-1])}}}return e}},function(t,e,r){var i=r(2);t.exports=function t(e,r){if(e.length!==r.length){return false}var a=true;i(e,function(t,e){if(t!==r[e]){a=false;return false}});return a}},function(t,e){function l(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]);e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]);e.push([t[1],t[2]]);e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]);e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break;default:}return e}function n(t,e,r){var a=[].concat(t);var i=void 0;var n=1/(r+1);var o=l(e)[0];for(var s=1;s<=r;s++){n*=s;i=Math.floor(t.length*n);if(i===0){a.unshift([o[0]*n+t[i][0]*(1-n),o[1]*n+t[i][1]*(1-n)])}else{a.splice(i,0,[o[0]*n+t[i][0]*(1-n),o[1]*n+t[i][1]*(1-n)])}}return a}t.exports=function t(e,r){if(e.length<=1){return e}var a=void 0;for(var i=0;i<r.length;i++){if(e[i][0]!==r[i][0]){a=l(e[i]);switch(r[i][0]){case"M":e[i]=["M"].concat(a[0]);break;case"L":e[i]=["L"].concat(a[0]);break;case"A":e[i]=[].concat(r[i]);e[i][6]=a[0][0];e[i][7]=a[0][1];break;case"Q":if(a.length<2){if(i>0){a=n(a,e[i-1],1)}else{e[i]=r[i];break}}e[i]=["Q"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;case"T":e[i]=["T"].concat(a[0]);break;case"C":if(a.length<3){if(i>0){a=n(a,e[i-1],2)}else{e[i]=r[i];break}}e[i]=["C"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(a.length<2){if(i>0){a=n(a,e[i-1],1)}else{e[i]=r[i];break}}e[i]=["S"].concat(a.reduce(function(t,e){return t.concat(e)},[]));break;default:e[i]=r[i]}}}return e}},function(t,e,r){var a={lc:r(276),lowerCase:r(142),lowerFirst:r(75),substitute:r(277),uc:r(278),upperCase:r(143),upperFirst:r(87)};t.exports=a},function(t,e,r){t.exports=r(142)},function(t,e){var r=function t(e,r){if(!e||!r){return e}return e.replace(/\\?\{([^{}]+)\}/g,function(t,e){if(t.charAt(0)==="\\"){return t.slice(1)}return r[e]===undefined?"":r[e]})};t.exports=r},function(t,e,r){t.exports=r(143)},function(t,e,r){var a=r(12);var i={getType:r(84),isArray:r(4),isArrayLike:r(13),isBoolean:r(82),isFunction:r(11),isNil:r(5),isNull:r(280),isNumber:r(9),isObject:r(25),isObjectLike:r(49),isPlainObject:r(26),isPrototype:r(85),isType:a,isUndefined:r(281),isString:r(10),isRegExp:r(282),isDate:r(80),isArguments:r(283),isError:r(284)};t.exports=i},function(t,e){var r=function t(e){return e===null};t.exports=r},function(t,e){var r=function t(e){return e===undefined};t.exports=r},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"RegExp")};t.exports=i},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Arguments")};t.exports=i},function(t,e,r){var a=r(12);var i=function t(e){return a(e,"Error")};t.exports=i},function(t,e){function r(i,n,o){var s=void 0;return function(){var e=this,r=arguments;var t=function t(){s=null;if(!o){i.apply(e,r)}};var a=o&&!s;clearTimeout(s);s=setTimeout(t,n);if(a){i.apply(e,r)}}}t.exports=r},function(t,e,r){var o=r(13);var a=function t(e,r){if(!o(e)){return-1}var a=Array.prototype.indexOf;if(a){return a.call(e,r)}var i=-1;for(var n=0;n<e.length;n++){if(e[n]===r){i=n;break}}return i};t.exports=a},function(t,e,r){var i=r(11);var n=r(50);var a=function t(e,r,a){if(!i(a)){return n(e,r)}return!!a(e,r)};t.exports=a},function(t,e,r){var i=r(2);var n=r(13);var a=function t(e,r){if(!n(e)){return e}var a=[];i(e,function(t,e){a.push(r(t,e))});return a};t.exports=a},function(t,e,r){var i=r(2);var n=r(26);var o=Object.prototype.hasOwnProperty;var a=function t(e,r){if(e===null||!n(e)){return{}}var a={};i(r,function(t){if(o.call(e,t)){a[t]=e[t]}});return a};t.exports=a},function(t,e){function r(a,i,n){var o=void 0,s=void 0,l=void 0,u=void 0;var f=0;if(!n)n={};var c=function t(){f=n.leading===false?0:Date.now();o=null;u=a.apply(s,l);if(!o)s=l=null};var t=function t(){var e=Date.now();if(!f&&n.leading===false)f=e;var r=i-(e-f);s=this;l=arguments;if(r<=0||r>i){if(o){clearTimeout(o);o=null}f=e;u=a.apply(s,l);if(!o)s=l=null}else if(!o&&n.trailing!==false){o=setTimeout(c,r)}return u};t.cancel=function(){clearTimeout(o);f=0;o=s=l=null};return t}t.exports=r},function(t,e,r){var l=r(0);var m=r(16);var x=l.PathUtil;function c(t){var e=t.start;var r=t.end;var a=t.getWidth();var i=t.getHeight();var n=200;var o;var s;var l;var u;var f;if(t.isPolar){u=t.getRadius();l=t.getCenter();o=t.startAngle;s=t.endAngle;f=new m.Fan({attrs:{x:l.x,y:l.y,rs:0,re:u+n,startAngle:o,endAngle:o}});f.endState={endAngle:s}}else{f=new m.Rect({attrs:{x:e.x-n,y:r.y-n,width:t.isTransposed?a+n*2:0,height:t.isTransposed?0:i+n*2}});if(t.isTransposed){f.endState={height:i+n*2}}else{f.endState={width:a+n*2}}}f.isClip=true;return f}function u(t){if(l.isEmpty(t)){return null}var e=t[0].x;var r=t[0].x;var a=t[0].y;var i=t[0].y;l.each(t,function(t){e=e>t.x?t.x:e;r=r<t.x?t.x:r;a=a>t.y?t.y:a;i=i<t.y?t.y:i});return{minX:e,maxX:r,minY:a,maxY:i,centerX:(e+r)/2,centerY:(a+i)/2}}function o(t,e){var r=t.points||t.get("origin").points;var a=u(r);var i;var n;var o=e.startAngle;var s=e.endAngle;var l=s-o;if(e.isTransposed){i=a.maxY*l;n=a.minY*l}else{i=a.maxX*l;n=a.minX*l}i+=o;n+=o;return{startAngle:n,endAngle:i}}function b(t,e,r){var a={};if(t.delay){a.delay=l.isFunction(t.delay)?t.delay(e,r):t.delay}a.easing=l.isFunction(t.easing)?t.easing(e,r):t.easing;a.duration=l.isFunction(t.duration)?t.duration(e,r):t.duration;a.callback=t.callback;return a}function a(t,e){var r=t._id;var a=t.get("index");var i=t.getBBox();var n=t.get("origin").points;var o=(i.minX+i.maxX)/2;var s;if(n[0].y-n[1].y<=0){s=i.maxY}else{s=i.minY}var l=[o,s,1];t.apply(l);t.attr("transform",[["t",-o,-s],["s",1,.01],["t",o,s]]);var u={transform:[["t",-o,-s],["s",1,100],["t",o,s]]};var f=b(e,a,r,u);t.animate(u,f.duration,f.easing,f.callback,f.delay)}function i(t,e){var r=t._id;var a=t.get("index");var i=t.getBBox();var n=t.get("origin").points;var o;var s=(i.minY+i.maxY)/2;if(n[0].y-n[1].y>0){o=i.maxX}else{o=i.minX}var l=[o,s,1];t.apply(l);t.attr({transform:[["t",-o,-s],["s",.01,1],["t",o,s]]});var u={transform:[["t",-o,-s],["s",100,1],["t",o,s]]};var f=b(e,a,r,u);t.animate(u,f.duration,f.easing,f.callback,f.delay)}function n(t,e){var r={lineWidth:0,opacity:0};var a=t._id;var i=t.get("index");var n=b(e,i,a,r);t.animate(r,n.duration,n.easing,function(){t.remove()},n.delay)}function s(t,e,r){var a=t._id;var i=t.get("index");var n;var o;if(r.isPolar&&t.name!=="point"){n=r.getCenter().x;o=r.getCenter().y}else{var s=t.getBBox();n=(s.minX+s.maxX)/2;o=(s.minY+s.maxY)/2}var l=[n,o,1];t.apply(l);t.attr({transform:[["t",-n,-o],["s",.01,.01],["t",n,o]]});var u={transform:[["t",-n,-o],["s",100,100],["t",n,o]]};var f=b(e,i,a,u);t.animate(u,f.duration,f.easing,f.callback,f.delay)}function f(t,e,r){var a=t._id;var i=t.get("index");var n;var o;if(r.isPolar&&t.name!=="point"){n=r.getCenter().x;o=r.getCenter().y}else{var s=t.getBBox();n=(s.minX+s.maxX)/2;o=(s.minY+s.maxY)/2}var l=[n,o,1];t.apply(l);var u={transform:[["t",-n,-o],["s",.01,.01],["t",n,o]]};var f=b(e,i,a,u);t.animate(u,f.duration,f.easing,function(){t.remove()},f.delay)}function v(t,e){if(t.get("type")!=="path")return;var r=t._id;var a=t.get("index");var i=x.pathToAbsolute(t.attr("path"));t.attr("path",[i[0]]);var n={path:i};var o=b(e,a,r,n);t.animate(n,o.duration,o.easing,o.callback,o.delay)}function h(t,e){if(t.get("type")!=="path")return;var r=t._id;var a=t.get("index");var i=x.pathToAbsolute(t.attr("path"));var n={path:[i[0]]};var o=b(e,a,r,n);t.animate(n,o.duration,o.easing,function(){t.remove()},o.delay)}function p(t,e,r,a,i){var n=c(r);var o=t.get("canvas");var s=t._id;var l=t.get("index");var u;if(a){n.attr("startAngle",a);n.attr("endAngle",a);u={endAngle:i}}else{u=n.endState}n.set("canvas",o);t.attr("clip",n);t.setSilent("animating",true);var f=b(e,l,s,u);n.animate(u,f.duration,f.easing,function(){if(t&&!t.get("destroyed")){t.attr("clip",null);t.setSilent("cacheShape",null);t.setSilent("animating",false);n.remove()}},f.delay)}function g(t,e){var r=t._id;var a=t.get("index");var i=l.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity");var n=l.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0);t.attr("strokeOpacity",0);var o={fillOpacity:i,strokeOpacity:n};var s=b(e,a,r,o);t.animate(o,s.duration,s.easing,s.callback,s.delay)}function d(t,e){var r=t._id;var a=t.get("index");var i={fillOpacity:0,strokeOpacity:0};var n=b(e,a,r,i);t.animate(i,n.duration,n.easing,function(){t.remove()},n.delay)}function y(t,e,r){var a=o(t,r);var i=a.endAngle;var n=a.startAngle;p(t,e,r,n,i)}function _(t,e,r){if(t.name!=="line"){return}var a=t.get("canvas");var i=t.get("cacheShape");var n=t._id;var o=t.get("index");var s=new m.Rect({attrs:{x:r.start.x,y:r.end.y,width:r.getWidth(),height:r.getHeight()}});s.isClip=true;s.set("canvas",a);var l=x.pathToAbsolute(i.attrs.path);var u=x.pathToAbsolute(t.attr("path"));var f=l[1][1]-l[0][1];var c=l[l.length-1][1]+f;var v=u[u.length-1][2];var h=l.concat([["L",c,v]]);var p=[0,0,1];t.apply(p);t.attr("clip",s);t.attr("path",h);var g={transform:[["t",-f,0]]};var d=b(e,o,n,g);t.animate(g,d.duration,d.easing,function(){if(t&&!t.get("destroyed")){t.attr("path",u);t.attr({transform:[["t",f,0]]});t.attr("clip",null);t.setSilent("cacheShape",null);s.remove()}},d.delay)}function w(t,e,r){if(t.name!=="area"){return}var a=t.get("canvas");var i=t.get("cacheShape");var n=t._id;var o=t.get("index");var s=new m.Rect({attrs:{x:r.start.x,y:r.end.y,width:r.getWidth(),height:r.getHeight()}});s.isClip=true;s.set("canvas",a);var l=x.pathToAbsolute(i.attrs.path);var u=x.pathToAbsolute(t.attr("path"));var f=l[1][1]-l[0][1];var c=Math.floor(l.length/2);var v=l[c-1][1]+f;var h=u[c-1][2];var p=[].concat(l.slice(0,c),[["L",v,h],["L",v,u[c][2]]],l.slice(c));var g=[0,0,1];t.apply(g);t.attr("clip",s);t.attr("path",p);var d={transform:[["t",-f,0]]};var y=b(e,o,n,d);t.animate(d,y.duration,y.easing,function(){if(t&&!t.get("destroyed")){t.attr("path",u);t.attr({transform:[["t",f,0]]});t.attr("clip",null);t.setSilent("cacheShape",null);s.remove()}},y.delay)}t.exports={enter:{clipIn:p,zoomIn:s,pathIn:v,scaleInY:a,scaleInX:i,fanIn:y,fadeIn:g},leave:{lineWidthOut:n,zoomOut:f,pathOut:h,fadeOut:d},appear:{clipIn:p,zoomIn:s,pathIn:v,scaleInY:a,scaleInX:i,fanIn:y,fadeIn:g},update:{fadeIn:g,fanIn:y,lineSlideLeft:_,areaSlideLeft:w}}},function(t,e,r){function i(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var n=r(148);var o=r(21);var y=r(0);var u=r(166);var s=r(7);var l=r(151);var f="_origin";var c=r(356);function v(t){var e=t.startAngle;var r=t.endAngle;if(!y.isNil(e)&&!y.isNil(r)&&r-e<Math.PI*2){return false}return true}function h(t,e,r){var a=(t-e)/(r-e);return a>=0&&a<=1}function p(t,e){var r=false;if(t){var a=t.type;if(a==="theta"){var i=t.start;var n=t.end;r=h(e.x,i.x,n.x)&&h(e.y,i.y,n.y)}else{var o=t.invert(e);r=o.x>=0&&o.y>=0&&o.x<=1&&o.y<=1}}return r}var g={};y.each(o,function(r,t){var e=y.lowerFirst(t);g[e]=function(t){var e=new r(t);this.addGeom(e);return e}});var d=function(r){a(e,r);var t=e.prototype;t.getDefaultCfg=function t(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:true,animate:s.animate,visible:true}};function e(t){var e;e=r.call(this,t)||this;var a=i(e);a._setTheme();y.each(o,function(r,t){var e=y.lowerFirst(t);a[e]=function(t){if(t===void 0){t={}}t.viewTheme=a.get("viewTheme");var e=new r(t);a.addGeom(e);return e}});a.init();return e}t._setTheme=function t(){var e=this;var r=e.get("theme");var a={};var i={};if(y.isObject(r)){i=r}else if(y.indexOf(Object.keys(l),r)!==-1){i=l[r]}y.deepMix(a,s,i);e.set("viewTheme",a)};t.init=function t(){this._initViewPlot();if(this.get("data")){this._initData(this.get("data"))}this._initOptions();this._initControllers();this._bindEvents()};t._initOptions=function t(){var e=this;var r=y.mix({},e.get("options"));if(!r.scales){r.scales={}}if(!r.coord){r.coord={}}if(r.animate===false){this.set("animate",false)}if(r.tooltip===false||y.isNull(r.tooltip)){this.set("tooltipEnable",false)}if(r.geoms&&r.geoms.length){y.each(r.geoms,function(t){e._createGeom(t)})}var a=e.get("scaleController");if(a){a.defs=r.scales}var i=e.get("coordController");if(i){i.reset(r.coord)}this.set("options",r)};t._createGeom=function t(e){var r=e.type;var a;if(this[r]){a=this[r]();y.each(e,function(t,e){if(a[e]){if(y.isObject(t)&&t.field){if(t==="label"){a[e](t.field,t.callback,t.cfg)}else{var r;y.each(t,function(t,e){if(e!=="field"){r=t}});a[e](t.field,r)}}else{a[e](t)}}})}};t._initControllers=function t(){var e=this;var r=e.get("options");var a=e.get("viewTheme");var i=e.get("canvas");var n=new u.Scale({viewTheme:a,defs:r.scales});var o=new u.Coord(r.coord);this.set("scaleController",n);this.set("coordController",o);var s=new u.Axis({canvas:i,viewTheme:a});this.set("axisController",s);var l=new u.Guide({viewTheme:a,options:r.guides||[]});this.set("guideController",l)};t._initViewPlot=function t(){if(!this.get("viewContainer")){this.set("viewContainer",this.get("middlePlot"))}};t._initGeoms=function t(){var e=this.get("geoms");var r=this.get("filteredData");var a=this.get("coord");var i=this.get("_id");for(var n=0;n<e.length;n++){var o=e[n];o.set("data",r);o.set("coord",a);o.set("_id",i+"-geom"+n);o.set("keyFields",this.get("keyFields"));o.init()}};t._clearGeoms=function t(){var e=this;var r=e.get("geoms");for(var a=0;a<r.length;a++){var i=r[a];i.clear()}};t._removeGeoms=function t(){var e=this;var r=e.get("geoms");while(r.length>0){var a=r.shift();a.destroy()}};t._drawGeoms=function t(){this.emit("beforedrawgeoms");var e=this.get("geoms");var r=this.get("coord");for(var a=0;a<e.length;a++){var i=e[a];i.setCoord(r);i.paint()}this.emit("afterdrawgeoms")};t.isShapeInView=function t(e){var r=this.get("_id");var a=e._id;if(a){return a.split("-")[0]===r}var i=e;while(i){if(i.get("viewId")===r){return true}i=i.get("parent")}return false};t.getViewRegion=function t(){var e=this;var r=e.get("parent");var a;var i;if(r){var n=r.getViewRegion();var o=e._getViewRegion(n.start,n.end);a=o.start;i=o.end}else{a=e.get("start");i=e.get("end")}return{start:a,end:i}};t._getViewRegion=function t(e,r){var a=this.get("start");var i=this.get("end");var n=a.x;var o=1-i.y;var s=i.x;var l=1-a.y;var u=this.get("padding");var f=y.toAllPadding(u);var c=f[0];var v=f[1];var h=f[2];var p=f[3];var g={x:n*(r.x-e.x)+e.x+p,y:o*(r.y-e.y)+e.y-h};var d={x:s*(r.x-e.x)+e.x-v,y:l*(r.y-e.y)+e.y+c};return{start:g,end:d}};t._createCoord=function t(){var e=this.get("coordController");var r=this.getViewRegion();var a=e.createCoord(r.start,r.end);this.set("coord",a)};t._renderAxes=function t(){var e=this.get("options");var r=e.axes;if(r===false){return}var a=this.get("axisController");a.container=this.get("backPlot");a.coord=this.get("coord");a.options=r||{};var i=this.getXScale();var n=this.getYScales();var o=this.get("_id");a.createAxis(i,n,o)};t._renderGuides=function t(){var e=this.get("guideController");if(!y.isEmpty(e.options)){var r=this.get("coord");e.view=this;e.backContainer=this.get("backPlot");e.frontContainer=this.get("frontPlot");e.xScales=this._getScales("x");e.yScales=this._getScales("y");e.render(r)}};t._bindEvents=function t(){var e=new u.Event({view:this,canvas:this.get("canvas")});e.bindEvents();this.set("eventController",e)};t._clearEvents=function t(){var e=this.get("eventController");e&&e.clearEvents()};t._getScales=function t(e){var r=this.get("geoms");var a={};for(var i=0;i<r.length;i++){var n=r[i];var o=e==="x"?n.getXScale():n.getYScale();if(o&&!a[o.field]){a[o.field]=o}}return a};t._adjustScale=function t(){this._setCatScalesRange();var e=this.get("geoms");var r=this.get("scaleController");var a=r.defs;for(var i=0;i<e.length;i++){var n=e[i];if(n.get("type")==="interval"){var o=n.getYScale();var s=o.field,l=o.min,u=o.max,f=o.type;if(!(a[s]&&a[s].min)&&f!=="time"){if(l>0){o.change({min:0})}else if(u<=0){o.change({max:0})}}}}};t._setCatScalesRange=function t(){var e=this;var n=e.get("coord");var o=e.get("viewTheme");var r=e.getXScale();var a=e.getYScales();var i=[];r&&i.push(r);i=i.concat(a);var s=n.isPolar&&v(n);var l=e.get("scaleController");var u=l.defs;y.each(i,function(t){if((t.isCategory||t.isIdentity)&&t.values&&!(u[t.field]&&u[t.field].range)){var e=t.values.length;var r;if(e===1){r=[.5,1]}else{var a=1;var i=0;if(s){if(!n.isTransposed){r=[0,1-1/e]}else{a=o.widthRatio.multiplePie;i=1/e*a;r=[i/2,1-i/2]}}else{i=1/e*1/2;r=[i,1-i]}}t.range=r}})};t.getXScale=function t(){var e=this.get("geoms");var r=null;if(!y.isEmpty(e)){r=e[0].getXScale()}return r};t.getYScales=function t(){var e=this.get("geoms");var r=[];for(var a=0;a<e.length;a++){var i=e[a];var n=i.getYScale();if(n&&y.indexOf(r,n)===-1){r.push(n)}}return r};t.getXY=function t(e){var r=this;var a=r.get("coord");var i=r._getScales("x");var n=r._getScales("y");var o;var s;for(var l in e){if(i[l]){o=i[l].scale(e[l])}if(n[l]){s=n[l].scale(e[l])}}if(!y.isNil(o)&&!y.isNil(s)){return a.convert({x:o,y:s})}return null};t.getSnapRecords=function t(a){var e=this;var r=e.get("geoms");var i=[];y.each(r,function(e){var t=e.get("dataArray");var r;y.each(t,function(t){r=e.findPoint(a,t);r&&i.push(r)})});return i};t.addGeom=function t(e){var r=this;var a=r.get("geoms");a.push(e);e.set("view",r);var i=r.get("viewContainer");e.set("container",i);e.set("animate",r.get("animate"));e.bindEvents()};t.removeGeom=function t(e){var r=this.get("geoms");y.Array.remove(r,e);e.destroy()};t.createScale=function t(e,r){var a=this.get("scales");var i=this.get("parent");var n=a[e];if(!r){var o=this.get("filteredData");var s=this._getFieldsForLegend();if(o.length&&!s.includes(e)){r=o}else{r=this.get("data")}}var l=this.get("scaleController");if(!n){n=l.createScale(e,r);if(n.sync&&i){var u=i.createScale(e,r);n=this._getSyncScale(u,n)}a[e]=n}else if(n.sync){var f=l.createScale(e,r);this._syncScale(n,f)}return n};t._getFieldsForLegend=function t(){var r=[];var e=this.get("geoms");y.each(e,function(t){var e=t.getFieldsForLegend();r=r.concat(e)});return y.uniq(r)};t._getSyncScale=function t(e,r){if(e.type!==r.type){return r}this._syncScale(e,r);return e};t._syncScale=function t(e,r){var a=y.union(e.values,r.values);if(r.isLinear){var i=Math.max(e.max,r.max);var n=Math.min(e.min,r.min);if(e.max!==i||e.min!==n){e.change({min:n,max:i,values:a})}}if(a.length!==e.values.length){e.change({values:a})}};t.getFilteredValues=function t(e){var r=this.get("scales")[e];var a=r.values;var i=this._getFilters();var n;if(i&&i[e]){n=a.filter(i[e])}else{n=a.slice(0)}return n};t.getFilteredOutValues=function t(e){var r=this.get("scales")[e];var a=r.values;var i=this._getFilters();var n;if(i&&i[e]){n=a.filter(function(){return!i[e].apply(i,arguments)})}else{n=[]}return n};t.filter=function t(e,r){var a=this.get("options");if(!a.filters){a.filters={}}a.filters[e]=r;this.get("scaleController").filters=a.filters};t._getFilters=function t(){var e=this.get("options");return e.filters};t.execFilter=function t(e){var r=this;var i=r._getFilters();if(i){e=e.filter(function(r){var a=true;y.each(i,function(t,e){if(t){a=t(r[e],r);if(!a){return false}}});return a})}return e};t.axis=function t(e,r){var a=this.get("options");if(e===false){a.axes=false}else{if(!a.axes){a.axes={}}var i=a.axes;i[e]=r}return this};t.guide=function t(){return this.get("guideController")};t._getKeyFields=function t(e){var r=[];y.each(e,function(t,e){if(t.key){r.push(e)}});this.set("keyFields",r)};t.scale=function t(e,r){var a=this.get("options");var i=a.scales;if(y.isObject(e)){y.mix(i,e)}else{i[e]=r}this._getKeyFields(i);return this};t.tooltip=function t(e){this.set("tooltipEnable",e);return this};t.animate=function t(e){var r=this.get("options");r.animate=e;this.set("animate",e);return this};t.changeOptions=function t(e){this.set("options",e);this._initOptions(e);return this};t.getViewsByPoint=function t(e){var r=[];var a=this.get("views");if(p(this.get("coord"),e)){r.push(this)}y.each(a,function(t){if(t.get("visible")&&p(t.get("coord"),e)){r.push(t)}});return r};t.eachShape=function t(n){var o=this;var e=o.get("views");var r=o.get("canvas");y.each(e,function(t){t.eachShape(n)});var a=this.get("geoms");y.each(a,function(i){var t=i.getShapes();y.each(t,function(t){var e=t.get("origin");if(y.isArray(e)){var r=e.map(function(t){return t[f]});n(r,t,i,o)}else{var a=e[f];n(a,t,i,o)}})});r.draw();return this};t.filterShape=function t(n){var e=function t(e,r,a,i){if(!n(e,r,a,i)){r.hide()}else{r.show()}};this.eachShape(e);return this};t.clearInner=function t(){this.set("scales",{});this.emit("beforeclearinner");var e=this.get("options");e.geoms=null;this._clearGeoms();this.get("guideController")&&this.get("guideController").reset();this.get("axisController")&&this.get("axisController").clear();this.emit("afterclearinner")};t.clear=function t(){var e=this.get("options");e.filters=null;this._removeGeoms();this.clearInner();this.get("guideController")&&this.get("guideController").clear();this.set("isUpdate",false);this.set("keyFields",[]);return this};t.coord=function t(e,r){var a=this.get("coordController");a.reset({type:e,cfg:r});return a};t.resetCoord=function t(){this._createCoord()};t.source=function t(e,r){this._initData(e);if(r){this.scale(r)}this.emit("setdata");return this};t.changeData=function t(e){this.emit("beforechangedata");this._initData(e);this.emit("afterchangedata");this.repaint();return this};t._initData=function t(e){var r=this.get("dataView");if(r){r.off("change",y.getWrapBehavior(this,"_onViewChange"));this.set("dataView",null)}if(e&&e.isDataView){e.on("change",y.wrapBehavior(this,"_onViewChange"));this.set("dataView",e);e=e.rows}this.set("data",e)};t._onViewChange=function t(){this.emit("beforechangedata");var e=this.get("dataView");var r=e.rows;this.set("data",r);this.emit("afterchangedata");this.repaint()};t.beforeRender=function t(){var e=this.get("views");y.each(e,function(t){t.beforeRender()});this.initView()};t.drawComponents=function t(){var e=this.get("views");y.each(e,function(t){t.drawComponents()});this._renderAxes();this._renderGuides()};t.drawCanvas=function t(e){if(!e){var r=this.get("views");var a=this.get("backPlot");a.sort();var i=this.get("canvas");var n=this.get("animate");if(n){var o=this.get("isUpdate");y.each(r,function(t){c.execAnimation(t,o)});c.execAnimation(this,o)}else{i.draw()}}};t.render=function t(e){this.clearInner();this.emit("beforerender");this.beforeRender();this.emit("beforepaint");this.drawComponents();this.paint();this.emit("afterpaint");this.drawCanvas(e);this.emit("afterrender");this.set("rendered",true);return this};t.initView=function t(){var e=this.get("data")||[];var r=this.execFilter(e);this.set("filteredData",r);this._createCoord();this.emit("beforeinitgeoms");this._initGeoms();this._adjustScale()};t.paint=function t(){var e=this.get("views");y.each(e,function(t){t.paint()});var r=this.get("data");if(!y.isEmpty(r)){this._drawGeoms()}if(!this.get("visible")){this.changeVisible(false,true)}};t.changeVisible=function t(e,r){var a=this.get("geoms");y.each(a,function(t){t.changeVisible(e,true)});this.get("axisController")&&this.get("axisController").changeVisible(e);this.get("guideController")&&this.get("guideController").changeVisible(e);if(!r){var i=this.get("canvas");i.draw()}};t.repaint=function t(){this.set("isUpdate",true);this.clearInner();this.render()};t.destroy=function t(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",y.getWrapBehavior(this,"_onViewChange"));this.clear();r.prototype.destroy.call(this)};return e}(n);t.exports=d},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var g=r(5);var d=r(4);var y=r(2);var i=r(29);var n=function(r){a(t,r);function t(t){var e;e=r.call(this,t)||this;e.names=["x","y"];e.type="position";return e}var e=t.prototype;e.mapping=function t(e,r){var a=this.scales;var i=this.coord;var n=a[0];var o=a[1];var s;var l;var u;if(g(e)||g(r)){return[]}if(d(r)&&d(e)){s=[];l=[];for(var f=0,c=0,v=e.length,h=r.length;f<v&&c<h;f++,c++){u=i.convertPoint({x:n.scale(e[f]),y:o.scale(r[c])});s.push(u.x);l.push(u.y)}}else if(d(r)){e=n.scale(e);l=[];y(r,function(t){t=o.scale(t);u=i.convertPoint({x:e,y:t});if(s&&s!==u.x){if(!d(s)){s=[s]}s.push(u.x)}else{s=u.x}l.push(u.y)})}else if(d(e)){r=o.scale(r);s=[];y(e,function(t){t=n.scale(t);u=i.convertPoint({x:t,y:r});if(l&&l!==u.y){if(!d(l)){l=[l]}l.push(u.y)}else{l=u.y}s.push(u.x)})}else{e=n.scale(e);r=o.scale(r);var p=i.convertPoint({x:e,y:r});s=p.x;l=p.y}return[s,l]};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(10);var n=r(149);var o=r(29);var s=function(r){a(t,r);function t(t){var e;e=r.call(this,t)||this;e.names=["color"];e.type="color";e.gradient=null;if(i(e.values)){e.linear=true}return e}var e=t.prototype;e.getLinearValue=function t(e){var r=this.gradient;if(!r){var a=this.values;r=n.gradient(a);this.gradient=r}return r(e)};return t}(o);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(29);var n=function(r){a(t,r);function t(t){var e;e=r.call(this,t)||this;e.names=["shape"];e.type="shape";e.gradient=null;return e}var e=t.prototype;e.getLinearValue=function t(e){var r=this.values;var a=Math.round((r.length-1)*e);return r[a]};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(29);var n=function(r){a(t,r);function t(t){var e;e=r.call(this,t)||this;e.names=["size"];e.type="size";e.gradient=null;return e}return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(29);var n=function(r){a(t,r);function t(t){var e;e=r.call(this,t)||this;e.names=["opacity"];e.type="opacity";e.gradient=null;return e}return t}(i);t.exports=n},function(t,e,r){var a=r(8);var i=r(30);var n=r(299);var o=r(300);var s=r(150);var l=r(301);var u=r(302);a(i.prototype,s);a(n.prototype,s,l);a(o.prototype,u);i.Jitter=r(303);i.Symmetric=r(304);i.Dodge=n;i.Stack=o;t.exports=i},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(30);var n=r(2);var o=1/2;var s=1/2;var l=function(t){a(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r._initDefaultCfg=function t(){this.marginRatio=o;this.dodgeRatio=s;this.adjustNames=["x","y"]};r.getDodgeOffset=function t(e,r,a){var i=this;var n=e.pre;var o=e.next;var s=o-n;var l=s*i.dodgeRatio/a;var u=i.marginRatio*l;var f=1/2*(s-a*l-(a-1)*u)+((r+1)*l+r*u)-1/2*l-1/2*s;return(n+o)/2+f};r.processAdjust=function t(e){var l=this;var u=e.length;var f=l.xField;n(e,function(t,e){for(var r=0,a=t.length;r<a;r++){var i=t[r];var n=i[f];var o={pre:a===1?n-1:n-.5,next:a===1?n+1:n+.5};var s=l.getDodgeOffset(o,e,u);i[f]=s}})};return e}(i);i.Dodge=l;t.exports=l},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var d=r(4);var y=r(5);var i=r(30);var n=function(t){a(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r._initDefaultCfg=function t(){this.xField=null;this.yField=null};r.processAdjust=function t(e){this.processStack(e)};r.processStack=function t(e){var r=this;var a=r.xField;var i=r.yField;var n=e.length;var o={positive:{},negative:{}};if(r.reverseOrder){e=e.slice(0).reverse()}for(var s=0;s<n;s++){var l=e[s];for(var u=0,f=l.length;u<f;u++){var c=l[u];var v=c[a]||0;var h=c[i];var p=v.toString();h=d(h)?h[1]:h;if(!y(h)){var g=h>=0?"positive":"negative";if(!o[g][p]){o[g][p]=0}c[i]=[o[g][p],h+o[g][p]];o[g][p]+=h}}}};return e}(i);i.Stack=n;t.exports=n},function(t,e,r){var o={merge:r(42),values:r(65)};var s=r(144);var u=r(2);t.exports={processAdjust:function t(e){var r=this;var a=o.merge(e);var i=r.dodgeBy;var n=e;if(i){n=s(a,i)}r.cacheMap={};r.adjDataArray=n;r.mergeData=a;r.adjustData(n,a);r.adjDataArray=null;r.mergeData=null},getDistribution:function t(a){var e=this;var r=e.adjDataArray;var i=e.cacheMap;var n=i[a];if(!n){n={};u(r,function(t,e){var r=o.values(t,a);if(!r.length){r.push(0)}u(r,function(t){if(!n[t]){n[t]=[]}n[t].push(e)})});i[a]=n}return n},adjustDim:function t(n,r,e,a,o){var s=this;var l=s.getDistribution(n);var i=s.groupData(e,n);u(i,function(t,e){e=parseFloat(e);var i;if(r.length===1){i={pre:r[0]-1,next:r[0]+1}}else{i=s.getAdjustRange(n,e,r)}u(t,function(t){var e=t[n];var r=l[e];var a=r.indexOf(o);t[n]=s.getDodgeOffset(i,a,r.length)})})}}},function(t,e){t.exports={_initDefaultCfg:function t(){this.xField=null;this.yField=null;this.height=null;this.size=10;this.reverseOrder=false;this.adjustNames=["y"]},processOneDimStack:function t(e){var r=this;var a=r.xField;var i=r.yField||"y";var n=r.height;var o={};if(r.reverseOrder){e=e.slice(0).reverse()}for(var s=0,l=e.length;s<l;s++){var u=e[s];for(var f=0,c=u.length;f<c;f++){var v=u[f];var h=v.size||r.size;var p=h*2/n;var g=v[a];if(!o[g]){o[g]=p/2}v[i]=o[g];o[g]+=p}}},processAdjust:function t(e){if(this.yField){this.processStack(e)}else{this.processOneDimStack(e)}}}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(2);var i=r(8);var n={merge:r(42)};var o=r(30);var l=r(150);var u=function(t){a(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r._initDefaultCfg=function t(){this.xField=null;this.yField=null;this.adjustNames=["x","y"];this.groupFields=null};r.processAdjust=function t(e){var r=this;var a=n.merge(e);r.adjDataArray=e;r.mergeData=a;r.adjustData(e,a);r.adjFrames=null;r.mergeData=null};r.getAdjustOffset=function t(e,r){var a=Math.random();var i=r-e;var n=i*.05;return e+n+i*.9*a};r._adjustGroup=function t(e,r,a,i){var n=this;var o=n.getAdjustRange(r,a,i);s(e,function(t){t[r]=n.getAdjustOffset(o.pre,o.next)})};r.adjustDim=function t(r,a,e){var i=this;var n=i.groupData(e,r);s(n,function(t,e){e=parseFloat(e);i._adjustGroup(t,r,e,a)})};return e}(o);i(u.prototype,l);o.Jitter=u;t.exports=u},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var f=r(2);var s=r(132);var c=r(4);var i={merge:r(42)};var n=r(30);var o=function(t){a(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r._initDefaultCfg=function t(){this.xField=null;this.yField=null;this.cacheMax=null;this.adjustNames=["y"];this.groupFields=null};r._getMax=function t(r){var e=this;var a=e.mergeData;var i=s(a,function(t){var e=t[r];if(c(e)){return Math.max.apply(null,e)}return e});var n=i[r];var o=c(n)?Math.max.apply(null,n):n;return o};r._getXValuesMax=function t(){var e=this;var i=e.yField;var n=e.xField;var o={};var r=e.mergeData;f(r,function(t){var e=t[n];var r=t[i];var a=c(r)?Math.max.apply(null,r):r;o[e]=o[e]||0;if(o[e]<a){o[e]=a}});return o};r.processAdjust=function t(e){var r=this;var a=i.merge(e);r.mergeData=a;r._processSymmetric(e);r.mergeData=null};r._processSymmetric=function t(e){var r=this;var o=r.xField;var s=r.yField;var l=r._getMax(s);var a=e[0][0];var u;if(a&&c(a[s])){u=r._getXValuesMax()}f(e,function(t){f(t,function(t){var e=t[s];var r;if(c(e)){var a=t[o];var i=u[a];r=(l-i)/2;var n=[];f(e,function(t){n.push(r+t)});t[s]=n}else{r=(l-e)/2;t[s]=[r,e+r]}})})};return e}(n);n.Symmetric=o;t.exports=o},function(t,e,r){var a,i;var n=r(0);var o=r(152);var s="g2-tooltip";var l="g2-legend";var u=n.deepMix({},o,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(a={},a[""+l]={color:"#D9D9D9"},a),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(i={},i[""+s]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},i),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=u},function(t,e,r){var i=r(66);var n=r(164);var o=r(336);var s=r(337);var a={getLabelsClass:function t(e,r){var a=i;if(e==="polar"){a=n}else if(e==="theta"){a=o}else if(r==="interval"||r==="polygon"){a=s}return a}};t.exports=a},function(t,e,r){var a=r(31);a.Base=a;a.Circle=r(311);a.Grid=r(153);a.Helix=r(312);a.Line=r(313);a.Polyline=r(314);t.exports=a},function(t,e,r){var c=r(155);function v(t,e,r,a){var i=t.getBBox();var n=i.width;var o=i.height;var s={x:e,y:r,textAlign:"center"};switch(a){case 0:s.y-=o/2;s.textAlign="left";break;case 1:s.y-=o/2;s.textAlign="right";break;case 2:s.y+=o/2;s.textAlign="right";break;case 3:s.y+=o/2;s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=n/2;s.textAlign="left";break;case 8:s.x-=n/2;s.textAlign="right";break;default:break}t.attr(s);return t.getBBox()}t.exports=function(t){var e=new c;var r=[];var a,i,n,o,s;for(var l=0;l<t.length;l++){i=t[l];n=i.attr("x");o=i.attr("y");s=false;for(var u=0;u<8;u++){a=v(i,n,o,u);if(e.hasGap(a)){e.fillGap(a);s=true;break}}if(!s){r.push(i)}}for(var f=0;f<r.length;f++){r[f].remove()}return s}},function(t,e,r){var o=r(155);var p=20;function s(t,e){var r=-1;var a=t.attr("x"),i=t.attr("y");var n=t.getBBox();var o=Math.sqrt(n.width*n.width+n.height*n.height);var s,l=-r,u=0,f=0;var c=function t(e){return[(e*=.1)*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(n)){e.fillGap(n);return true}var v=false,h=0;while(Math.min(Math.abs(u),Math.abs(f))<o&&h<p){s=c(l+=r);u=~~s[0];f=~~s[1];t.attr({x:a+u,y:i+f});h++;if(e.hasGap(t.getBBox())){e.fillGap(n);v=true;break}}return v}t.exports=function(t){var e;var r=new o;var a=[];for(var i=0;i<t.length;i++){e=t[i];if(!s(e,r)){a.push(e)}}for(var n=0;n<a.length;n++){a[n].remove()}}},function(t,e){t.exports=function t(e,r){var a,i;var n=[];for(var o=0;o<e.length;o++){a=e[o].getBBox();i=r[o].getBBox();if(a.width>i.width||a.height>i.height){n.push(e[o])}else if(a.width*a.height>i.width*i.height){n.push(e[o])}}for(var s=0;s<n.length;s++){n[s].remove()}}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var c=r(3);var i=r(31);var s=c.MatrixUtil.vec2;var n=function(o){a(t,o);function t(){return o.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=o.prototype.getDefaultCfg.call(this);return c.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})};e.parseTick=function t(e,r,a){return{text:e,value:r/a}};e._getCirclePoint=function t(e,r){var a=this;var i=a.get("center");r=r||a.get("radius");return{x:i.x+Math.cos(e)*r,y:i.y+Math.sin(e)*r}};e.getTickPoint=function t(e){var r=this;var a=r.get("startAngle");var i=r.get("endAngle");var n=a+(i-a)*e;return r._getCirclePoint(n)};e.getSideVector=function t(e,r){var a=this;var i=a.get("center");var n=[r.x-i.x,r.y-i.y];if(!c.isNil(e)){var o=s.length(n);s.scale(n,n,e/o)}return n};e.getSidePoint=function t(e,r){var a=this;var i=a.getSideVector(r,e);return{x:e.x+i[0],y:e.y+i[1]}};e.getTickEnd=function t(e,r){var a=this;var i=a.get("tickLine");r=r?r:i.length;return a.getSidePoint(e,r)};e.getTextAnchor=function t(e){var r;if(c.snapEqual(e[0],0)){r="center"}else if(e[0]>0){r="left"}else if(e[0]<0){r="right"}return r};e.getLinePath=function t(){var e=this;var r=e.get("center");var a=r.x;var i=r.y;var n=e.get("radius");var o=n;var s=e.get("startAngle");var l=e.get("endAngle");var u=e.get("inner");var f=[];if(Math.abs(l-s)===Math.PI*2){f=[["M",a,i],["m",0,-o],["a",n,o,0,1,1,0,2*o],["a",n,o,0,1,1,0,-2*o],["z"]]}else{var c=e._getCirclePoint(s);var v=e._getCirclePoint(l);var h=Math.abs(l-s)>Math.PI?1:0;var p=s>l?0:1;if(!u){f=[["M",a,i],["L",c.x,c.y],["A",n,o,0,h,p,v.x,v.y],["L",a,i]]}else{var g=e.getSideVector(u*n,c);var d=e.getSideVector(u*n,v);var y={x:g[0]+a,y:g[1]+i};var m={x:d[0]+a,y:d[1]+i};f=[["M",y.x,y.y],["L",c.x,c.y],["A",n,o,0,h,p,v.x,v.y],["L",m.x,m.y],["A",n*u,o*u,0,h,Math.abs(p-1),y.x,y.y]]}}return f};e.addLabel=function t(e,r,a){var i=this;var n=i.get("label").offset||i.get("_labelOffset")||.001;r=i.getSidePoint(r,n);o.prototype.addLabel.call(this,e,r,a)};e.autoRotateLabels=function t(){var e=this;var n=e.get("ticks");var r=e.get("labelRenderer");if(r&&n.length>12){var a=e.get("radius");var o=e.get("startAngle");var i=e.get("endAngle");var s=i-o;var l=s/(n.length-1);var u=Math.sin(l/2)*a*2;var f=e.getMaxLabelWidth(r);c.each(r.get("group").get("children"),function(t,e){var r=n[e];var a=r.value*s+o;var i=a%(Math.PI*2);if(f<u){if(i<=0){a=a+Math.PI}if(i>Math.PI){a=a-Math.PI}a=a-Math.PI/2;t.attr("textAlign","center")}else{if(i>Math.PI/2){a=a-Math.PI}else if(i<Math.PI/2*-1){a=a+Math.PI}}t.rotateAtStart(a)})}};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(3);var n=r(31);var o=i.MatrixUtil,s=i.PathUtil;var l=o.vec2;var u=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return i.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})};e.getLinePath=function t(){var e=this;var r=e.get("crp");var a=e.get("axisStart");var i=s.catmullRomToBezier(r);i.unshift(["M",a.x,a.y]);return i};e.getTickPoint=function t(e){var r=this;var a=r.get("startAngle");var i=r.get("endAngle");var n=a+(i-a)*e;return r._getHelixPoint(n)};e._getHelixPoint=function t(e){var r=this;var a=r.get("center");var i=r.get("a");var n=i*e+r.get("inner");return{x:a.x+Math.cos(e)*n,y:a.y+Math.sin(e)*n}};e.getSideVector=function t(e,r){var a=this;var i=a.get("center");var n=[r.x-i.x,r.y-i.y];if(e){var o=l.length(n);l.scale(n,n,e/o)}return n};e.getSidePoint=function t(e,r){var a=this;var i=a.getSideVector(r,e);return{x:e.x+i[0],y:e.y+i[1]}};e.getTickEnd=function t(e,r){var a=this;var i=a.get("tickLine");r=r?r:i.length;return a.getSidePoint(e,r)};return t}(n);t.exports=u},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(31);var x=r(3);var n=x.MatrixUtil;var b=n.vec2;var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return x.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:false,start:null,end:null})};e._getAvgLabelLength=function t(e){var r=e.get("group").get("children");return r[1].attr("x")-r[0].attr("x")};e._getAvgLabelHeightSpace=function t(e){var r=e.get("group").get("children");return r[1].attr("y")-r[0].attr("y")};e.getSideVector=function t(e){var r=this;var a=r.get("isVertical");var i=r.get("factor");if(!x.isNumber(e)){return[0,0]}var n=r.get("start");var o=r.get("end");var s=r.getAxisVector();var l=b.normalize([],s);var u=false;if(a&&n.y<o.y||!a&&n.x>o.x){u=true}var f=b.vertical([],l,u);return b.scale([],f,e*i)};e.getAxisVector=function t(){var e=this.get("start");var r=this.get("end");return[r.x-e.x,r.y-e.y]};e.getLinePath=function t(){var e=this;var r=e.get("start");var a=e.get("end");var i=[];i.push(["M",r.x,r.y]);i.push(["L",a.x,a.y]);return i};e.getTickEnd=function t(e,r){var a=this;var i=a.getSideVector(r);return{x:e.x+i[0],y:e.y+i[1]}};e.getTickPoint=function t(e){var r=this;var a=r.get("start");var i=r.get("end");var n=i.x-a.x;var o=i.y-a.y;return{x:a.x+n*e,y:a.y+o*e}};e.renderTitle=function t(){var e=this;var r=e.get("title");var a=e.getTickPoint(.5);var i=r.offset;if(x.isNil(i)){i=20;var n=e.get("labelsGroup");if(n){var o=e.getMaxLabelWidth(n);var s=e.get("label").offset||e.get("_labelOffset");i+=o+s}}var l=r.textStyle;var u=x.mix({},l);if(r.text){var f=e.getAxisVector();if(r.autoRotate&&x.isNil(l.rotate)){var c=0;if(!x.snapEqual(f[1],0)){var v=[1,0];var h=[f[0],f[1]];c=b.angleTo(h,v,true)}u.rotate=c*(180/Math.PI)}else if(!x.isNil(l.rotate)){u.rotate=l.rotate/180*Math.PI}var p=e.getSideVector(i);var g;var d=r.position;if(d==="start"){g={x:this.get("start").x+p[0],y:this.get("start").y+p[1]}}else if(d==="end"){g={x:this.get("end").x+p[0],y:this.get("end").y+p[1]}}else{g={x:a.x+p[0],y:a.y+p[1]}}u.x=g.x;u.y=g.y;u.text=r.text;var y=e.get("group");var m=y.addShape("Text",{zIndex:2,attrs:u});m.name="axis-title";e.get("appendInfo")&&m.setSilent("appendInfo",e.get("appendInfo"))}};e.autoRotateLabels=function t(){var e=this;var r=e.get("labelRenderer");var a=e.get("title");if(r){var i=r.get("group");var n=i.get("children");var o=e.get("label").offset;var s=12;var l=a?a.offset:48;if(l<0){return}var u=e.getAxisVector();var f;var c;if(x.snapEqual(u[0],0)&&a&&a.text){c=e.getMaxLabelWidth(r);if(c>l-o-s){f=Math.acos((l-o-s)/c)*-1}}else if(x.snapEqual(u[1],0)&&n.length>1){var v=Math.abs(e._getAvgLabelLength(r));c=e.getMaxLabelWidth(r);if(c>v){f=Math.asin((l-o-s)*1.25/c)}}if(f){var h=e.get("factor");x.each(n,function(t){t.rotateAtStart(f);if(x.snapEqual(u[1],0)){if(h>0){t.attr("textAlign","left")}else{t.attr("textAlign","right")}}})}}};e.autoHideLabels=function t(){var e=this;var r=e.get("labelRenderer");var a;var i;var n=8;if(r){var o=r.get("group");var s=o.get("children");var l=e.getAxisVector();if(s.length<2){return}if(x.snapEqual(l[0],0)){var u=e.getMaxLabelHeight(r)+n;var f=Math.abs(e._getAvgLabelHeightSpace(r));if(u>f){a=u;i=f}}else if(x.snapEqual(l[1],0)&&s.length>1){var c=e.getMaxLabelWidth(r)+n;var v=Math.abs(e._getAvgLabelLength(r));if(c>v){a=c;i=v}}if(a&&i){var h=Math.ceil(a/i);x.each(s,function(t,e){if(e%h!==0){t.attr("text","")}})}}};return t}(i);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(3);var i=r(31);var n=s.MatrixUtil,l=s.PathUtil;var f=n.vec2;var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return s.mix({},e,{type:"polyline"})};e.getLinePath=function t(){var e=this;var r=e.get("tickPoints");var a=e.get("start");var i=e.get("end");var n=[];n.push(a.x);n.push(a.y);s.each(r,function(t){n.push(t.x);n.push(t.y)});n.push(i.x);n.push(i.y);var o=l.catmullRomToBezier(n);o.unshift(["M",a.x,a.y]);return o};e.getTickPoint=function t(e,r){var a=this.get("tickPoints");return a[r]};e.getTickEnd=function t(e,r,a){var i=this;var n=i.get("tickLine");var o=r?r:n.length;var s=i.getSideVector(o,e,a);return{x:e.x+s[0],y:e.y+s[1]}};e.getSideVector=function t(e,r,a){var i=this;var n;if(a===0){n=i.get("start");if(n.x===r.x&&n.y===r.y){return[0,0]}}else{var o=i.get("tickPoints");n=o[a-1]}var s=[r.x-n.x,r.y-n.y];var l=f.normalize([],s);var u=f.vertical([],l,false);return f.scale([],u,e)};return t}(i);t.exports=o},function(t,e,r){t.exports={Guide:r(15),Arc:r(316),DataMarker:r(317),DataRegion:r(318),Html:r(319),Image:r(320),Line:r(321),Region:r(322),Text:r(323)}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var p=r(3);var i=r(15);var g=Math.PI;var n=Math.atan;function d(t,e){var r=t.x-e.x;var a=t.y-e.y;var i;if(a===0){if(r<0){i=g/2}else{i=270*g/180}}else if(r>=0&&a>0){i=g*2-n(r/a)}else if(r<=0&&a<0){i=g-n(r/a)}else if(r>0&&a<0){i=g+n(-r/a)}else if(r<0&&a>0){i=n(r/-a)}return i}var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return p.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("start"));var n=a.parsePoint(e,a.get("end"));if(!i||!n){return}var o=e.getCenter();var s=Math.sqrt((i.x-o.x)*(i.x-o.x)+(i.y-o.y)*(i.y-o.y));var l;var u=d(i,o);var f=d(n,o);if(f<u){f+=g*2}if(p.isNumberEqual(i.x,n.x)&&p.isNumberEqual(i.y,n.y)&&(a.get("start")[0]!==a.get("end")[0]||a.get("start")[1]!==a.get("end")[1])){l=[["M",i.x,i.y],["A",s,s,0,1,1,2*o.x-i.x,2*o.y-i.y],["A",s,s,0,1,1,i.x,i.y]]}else{var c=(f-u)%(g*2);var v=c>g?1:0;l=[["M",i.x,i.y],["A",s,s,0,v,1,n.x,n.y]]}var h=r.addShape("path",{zIndex:a.get("zIndex"),attrs:p.mix({path:l},a.get("style"))});h.name="guide-arc";a.get("appendInfo")&&h.setSilent("appendInfo",a.get("appendInfo"));a.set("el",h)};return t}(i);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(3);var i=r(15);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return s.mix({},e,{name:"dataMarker",zIndex:1,top:true,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:true,line:true,text:true},lineLength:20,direction:"upward",autoAdjust:true})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("position"));if(!i){return}var n=r.addGroup();n.name="guide-data-marker";var o=a._getElementPosition(i);var s=a.get("display");var l;var u;if(s.line){var f=o.line;l=a._drawLine(f,n)}if(s.text&&a.get("content")){var c=o.text;u=a._drawText(c,n)}if(s.point){var v=o.point;a._drawPoint(v,n)}if(a.get("autoAdjust")){var h=n.getBBox();var p=h.minX,g=h.minY,d=h.maxX,y=h.maxY;var m=e.start,x=e.end;if(u){if(p<=m.x){u.attr("textAlign","start")}if(d>=x.x){u.attr("textAlign","end")}var b=a.get("direction");if(b==="upward"&&g<=x.y||b!=="upward"&&y>=m.y){var _;var w;if(b==="upward"&&g<=x.y){_="top";w=1}else{_="bottom";w=-1}u.attr("textBaseline",_);var S=0;if(a.get("display").line){S=a.get("lineLength");var M=[["M",i.x,i.y],["L",i.x,i.y+S*w]];l.attr("path",M)}var C=i.y+(S+2)*w;u.attr("y",C)}}}a.get("appendInfo")&&n.setSilent("appendInfo",a.get("appendInfo"));a.set("el",n)};e._getElementPosition=function t(e){var r=this;var a=e.x,i=e.y;var n=r.get("display").line?r.get("lineLength"):0;var o=r.get("direction");var s=r.get("style").text;s.textBaseline=o==="upward"?"bottom":"top";var l=o==="upward"?-1:1;var u={x:a,y:i};var f={x:a,y:i};var c={x:a,y:n*l+i};var v={x:a,y:(n+2)*l+i};return{point:u,line:[f,c],text:v}};e._drawLine=function t(e,r){var a=this;var i=a.get("style").line;var n=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y]];var o=r.addShape("path",{attrs:s.mix({path:n},i)});return o};e._drawText=function t(e,r){var a=this;var i=this.get("style").text;var n=r.addShape("text",{attrs:s.mix({text:a.get("content")},i,e)});return n};e._drawPoint=function t(e,r){var a=this;var i=a.get("style").point;var n=r.addShape("circle",{attrs:s.mix({},i,e)});return n};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var y=r(3);var d=r(156);var i=r(15);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return y.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})};e.render=function t(e,r,a){var i=this;var n=i.get("lineLength")||0;var o=i._getRegionData(e,a);if(!o.length)return;var s=i._getBBox(o);var l=[];l.push(["M",o[0].x,s.yMin-n]);for(var u=0,f=o.length;u<f;u++){var c=["L",o[u].x,o[u].y];l.push(c)}l.push(["L",o[o.length-1].x,s.yMin-n]);var v=i.get("style");var h=v.region;var p=v.text;var g=r.addGroup();g.name="guide-data-region";g.addShape("path",{attrs:y.mix({path:l},h)});var d=i.get("content");if(d){g.addShape("Text",{attrs:y.mix({x:(s.xMin+s.xMax)/2,y:s.yMin-n,text:d},p)})}i.get("appendInfo")&&g.setSilent("appendInfo",i.get("appendInfo"));i.set("el",g)};e._getRegionData=function t(e,r){var a=this;var i=a.get("start");var n=a.get("end");var o=d.getFirstScale(a.get("xScales")).field;var s=d.getFirstScale(a.get("yScales")).field;var l=y.isArray(i)?i[0]:i[o];var u=y.isArray(n)?n[0]:n[o];var f;var c=[];for(var v=0,h=r.length;v<h;v++){var p=r[v];if(p[o]===l){f=v}if(v>=f){var g=a.parsePoint(e,[p[o],p[s]]);g&&c.push(g)}if(p[o]===u){break}}return c};e._getBBox=function t(e){var r=[];var a=[];for(var i=0;i<e.length;i++){r.push(e[i].x);a.push(e[i].y)}var n=y.arrayUtil.getRange(r);var o=y.arrayUtil.getRange(a);return{xMin:n.min,xMax:n.max,yMin:o.min,yMax:o.max}};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var c=r(3);var v=c.DomUtil;var i=r(15);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return c.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("position"));if(!i){return}var n=r.get("canvas").get("el").parentNode;var o=v.createDom('<div class="g-guide"></div>');n.appendChild(o);var s=a.get("htmlContent")||a.get("html");if(c.isFunction(s)){var l=a.get("xScales");var u=a.get("yScales");s=s(l,u)}var f=v.createDom(s);o.appendChild(f);v.modifyCSS(o,{position:"absolute"});a._setDomPosition(o,f,i);a.set("el",o)};e._setDomPosition=function t(e,r,a){var i=this;var n=i.get("alignX");var o=i.get("alignY");var s=v.getOuterWidth(r);var l=v.getOuterHeight(r);var u={x:a.x,y:a.y};if(n==="middle"&&o==="top"){u.x-=Math.round(s/2)}else if(n==="middle"&&o==="bottom"){u.x-=Math.round(s/2);u.y-=Math.round(l)}else if(n==="left"&&o==="bottom"){u.y-=Math.round(l)}else if(n==="left"&&o==="middle"){u.y-=Math.round(l/2)}else if(n==="left"&&o==="top"){u.x=a.x;u.y=a.y}else if(n==="right"&&o==="bottom"){u.x-=Math.round(s);u.y-=Math.round(l)}else if(n==="right"&&o==="middle"){u.x-=Math.round(s);u.y-=Math.round(l/2)}else if(n==="right"&&o==="top"){u.x-=Math.round(s)}else{u.x-=Math.round(s/2);u.y-=Math.round(l/2)}var f=i.get("offsetX");if(f){u.x+=f}var c=i.get("offsetY");if(c){u.y+=c}v.modifyCSS(e,{top:Math.round(u.y)+"px",left:Math.round(u.x)+"px",visibility:"visible",zIndex:i.get("zIndex")})};e.clear=function t(){var e=this;var r=e.get("el");r&&r.parentNode&&r.parentNode.removeChild(r)};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(3);var n=r(15);var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("start"));if(!i){return}var n={x:i.x,y:i.y};n.img=a.get("src");if(!a.get("end")){n.width=a.get("width")||32;n.height=a.get("height")||32}else{var o=a.parsePoint(e,a.get("end"));if(!o){return}n.width=o.x-i.x;n.height=o.y-i.y}if(a.get("offsetX")){n.x+=a.get("offsetX")}if(a.get("offsetY")){n.y+=a.get("offsetY")}var s=r.addShape("Image",{zIndex:1,attrs:n});s.name="guide-image";a.get("appendInfo")&&s.setSilent("appendInfo",a.get("appendInfo"));a.set("el",s)};return t}(n);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var c=r(3);var i=r(15);var v=c.MatrixUtil.vec2;var n=r(14),o=n.FONT_FAMILY;var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return c.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:true,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:o},content:null}})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("start"));var n=a.parsePoint(e,a.get("end"));if(!i||!n){return}var o=r.addGroup({viewId:r.get("viewId")});a._drawLines(i,n,o);var s=a.get("text");if(s&&s.content){a._drawText(i,n,o)}a.set("el",o)};e._drawLines=function t(e,r,a){var i=[["M",e.x,e.y],["L",r.x,r.y]];var n=a.addShape("Path",{attrs:c.mix({path:i},this.get("lineStyle"))});n.name="guide-line";this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo"))};e._drawText=function t(e,r,a){var i=this.get("text");var n=i.position;var o=i.style||{};var s;if(n==="start"){s=0}else if(n==="center"){s=.5}else if(c.isString(n)&&n.indexOf("%")!==-1){s=parseInt(n,10)/100}else if(c.isNumber(n)){s=n}else{s=1}if(s>1||s<0){s=1}var l={x:e.x+(r.x-e.x)*s,y:e.y+(r.y-e.y)*s};if(i.offsetX){l.x+=i.offsetX}if(i.offsetY){l.y+=i.offsetY}l.text=i.content;l=c.mix({},l,o);if(i.autoRotate&&c.isNil(o.rotate)){var u=v.angleTo([r.x-e.x,r.y-e.y],[1,0],1);l.rotate=u}else if(!c.isNil(o.rotate)){l.rotate=o.rotate*Math.PI/180}var f=a.addShape("Text",{attrs:l});f.name="guide-line-text";this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"))};return t}(i);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(3);var i=r(15);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return s.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})};e.render=function t(e,r){var a=this;var i=a.get("style");var n=a._getPath(e);if(!n.length){return}var o=r.addShape("path",{zIndex:a.get("zIndex"),attrs:s.mix({path:n},i)});o.name="guide-region";a.get("appendInfo")&&o.setSilent("appendInfo",a.get("appendInfo"));a.set("el",o)};e._getPath=function t(e){var r=this;var a=r.parsePoint(e,r.get("start"));var i=r.parsePoint(e,r.get("end"));if(!a||!i){return[]}var n=[["M",a.x,a.y],["L",i.x,a.y],["L",i.x,i.y],["L",a.x,i.y],["z"]];return n};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var u=r(3);var i=r(15);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return u.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:true})};e.render=function t(e,r){var a=this;var i=a.parsePoint(e,a.get("position"));if(!i){return}var n=u.mix({},a.get("style"));var o=a.get("offsetX");var s=a.get("offsetY");if(o){i.x+=o}if(s){i.y+=s}if(n.rotate){n.rotate=n.rotate*Math.PI/180}var l=r.addShape("Text",{zIndex:a.get("zIndex"),attrs:u.mix({text:a.get("content")},n,i)});l.name="guide-text";a.get("appendInfo")&&l.setSilent("appendInfo",a.get("appendInfo"));a.set("el",l)};return t}(i);t.exports=n},function(t,e,r){var a=r(154);t.exports=a},function(t,e,r){t.exports={Category:r(157),CatHtml:r(159),CatPageHtml:r(326),Color:r(327),Size:r(329),CircleSize:r(330)}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var _=r(3);var i=r(159);var n=r(14),o=n.FONT_FAMILY;var w=_.DomUtil;var S="g2-legend-list";var s="g2-slip";var M="g2-caret-up";var C="g2-caret-down";var k="rgba(0,0,0,0.65)";var A="rgba(0,0,0,0.25)";function P(t,e){return t.getElementsByClassName(e)[0]}var l=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return _.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:o,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="'+s+'" >'+'<svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true">'+'<path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path>'+"</svg>"+'<p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p>'+'<p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p>'+'<svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true">'+'<path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path>'+"</svg>"+"</div>",slipWidth:65,legendOverflow:"unset"})};e.render=function t(){r.prototype._renderHTML.call(this);this._renderFlipPage()};e._renderFlipPage=function t(){var e=this.get("legendWrapper");var r=P(e,S);var a=this.get("position");var i=this.get("layout");var n=a==="right"||a==="left"||i==="vertical";var o=n?"block":"inline-block";var s=e.offsetHeight;if(e.scrollHeight>s){var l=this.get("slipTpl");var u=w.createDom(l);var f=P(u,M);var c=P(u,C);w.modifyCSS(f,this.get("caretStyle"));w.modifyCSS(f,{fill:"rgba(0,0,0,0.25)"});w.modifyCSS(c,this.get("caretStyle"));var v=P(u,"cur-pagenum");var h=P(u,"next-pagenum");var p=this.get("pageNumStyle");w.modifyCSS(v,_.mix({},p,{paddingLeft:"10px"}));w.modifyCSS(h,_.mix({},p,{opacity:.3,paddingRight:"10px"}));w.modifyCSS(u,_.mix({},this.get("slipDomStyle"),n?{top:s+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"}));e.style.overflow=this.get("legendOverflow");e.appendChild(u);if(!n){var g=Math.max(e.offsetWidth-10-u.offsetWidth,0);w.modifyCSS(r,{maxWidth:g+"px"})}var d=r.childNodes;var y=0;var m=1;var x=[];for(var b=0;b<d.length;b++){d[b].style.display=o;y=d[b].offsetTop+d[b].offsetHeight;if(y>s){m++;x.forEach(function(t){t.style.display="none"});x=[]}x.push(d[b])}h.innerText="/"+m;d.forEach(function(t){t.style.display=o;y=t.offsetTop+t.offsetHeight;if(y>s){t.style.display="none"}});f.addEventListener("click",function(){if(d[0].style.display===o)return;var r=-1;d.forEach(function(t,e){if(t.style.display===o){r=r===-1?e:r;t.style.display="none"}});for(var t=r-1;t>=0;t--){d[t].style.display=o;y=d[r-1].offsetTop+d[r-1].offsetHeight;d[t].style.display="none";if(y<=s){d[t].style.display=o}else break}var e=Number.parseInt(v.innerText,10)-1;if(e===1){f.style.fill=A}else{f.style.fill=k}c.style.fill=k;v.innerText=e});c.addEventListener("click",function(){if(d[d.length-1].style.display===o)return;var r=-1;d.forEach(function(t,e){if(t.style.display===o){r=e;t.style.display="none"}});for(var t=r+1;t<d.length;t++){d[t].style.display=o;y=d[t].offsetTop+d[t].offsetHeight;d[t].style.display="none";if(y<=s)d[t].style.display=o;else break}var e=Number.parseInt(v.innerText,10)+1;if(e===m){c.style.fill=A}else{c.style.fill=k}f.style.fill=k;v.innerText=e});this.set("slipDom",u)}};e.destroy=function t(){var e=this.get("slipDom");if(e&&e.parentNode){e.parentNode.removeChild(e)}r.prototype.destroy.call(this)};return t}(i);t.exports=l},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(73),y=i.ColorUtil;var m=r(3);var n=r(68);var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return m.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:false})};e._setPercentage=function t(){var e=this.get("items");if(e[0].percentage)return;var r=e[0].value;var a=e[e.length-1].value;m.each(e,function(t){t.percentage=(t.value-r)/(a-r)});return};e._renderSliderShape=function t(){this._setPercentage();var e=this.get("slider");var r=e.get("backgroundElement");var a=this.get("width");var i=this.get("height");var n=this.get("layout");var o=this.get("items");var s="";var l;if(n==="vertical"){s+="l (90) ";m.each(o,function(t){l=y.toRGB(t.color);s+=1-t.percentage+":"+l+" "})}else{s+="l (0) ";m.each(o,function(t){l=y.toRGB(t.color);s+=t.percentage+":"+l+" "})}return this._addMiddleBar(r,"Rect",{x:0,y:0,width:a,height:i,fill:s,strokeOpacity:0})};e._renderUnslidable=function t(){this._setPercentage();var e=this.get("titleShape");var r=this.get("titleGap");r=e?e.getBBox().height+r:r;var a=this.get("width");var i=this.get("height");var n=this.get("layout");var o=this.get("items");var s="";var l;var u=[];var f=this.get("group");var c=f.addGroup();var v=o.length;if(n==="vertical"){s+="l (90) ";for(var h=0;h<v;h+=1){if(h!==0&&h!==v-1){u.push(["M",0,i-o[h].percentage*i]);u.push(["L",a,i-o[h].percentage*i])}l=y.toRGB(o[h].color);s+=1-o[h].percentage+":"+l+" ";if(this.get("isSegment")&&h>0){var p=y.toRGB(o[h-1].color);s+=1-o[h].percentage+":"+p+" "}c.addShape("text",{attrs:m.mix({},{x:a+this.get("textOffset")/2,y:i-o[h].percentage*i,text:this._formatItemValue(o[h].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{s+="l (0) ";for(var g=0;g<v;g+=1){if(g!==0&&g!==v-1){u.push(["M",o[g].percentage*a,0]);u.push(["L",o[g].percentage*a,i])}l=y.toRGB(o[g].color);if(this.get("isSegment")&&g>0){var d=y.toRGB(o[g-1].color);s+=o[g].percentage+":"+d+" "}s+=o[g].percentage+":"+l+" ";c.addShape("text",{attrs:m.mix({},{x:o[g].percentage*a,y:i+5+this.get("textOffset"),text:this._formatItemValue(o[g].value)+""},this.get("textStyle"))})}}c.addShape("rect",{attrs:{x:0,y:0,width:a,height:i,fill:s,strokeOpacity:0}});c.addShape("path",{attrs:m.mix({path:u},this.get("lineStyle"))});c.move(0,r)};return t}(n);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var p=r(3);var i=p.DomUtil;var n=p.Group;var o=function(t){a(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r.getDefaultCfg=function t(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}};r._beforeRenderUI=function t(){var e=this.get("layout");var r=this.get("backgroundElement");var a=this.get("minHandleElement");var i=this.get("maxHandleElement");var n=this.addShape("rect",{attrs:this.get("middleAttr")});var o=e==="vertical"?"ns-resize":"ew-resize";this.add([r,a,i]);this.set("middleHandleElement",n);r.set("zIndex",0);n.set("zIndex",1);a.set("zIndex",2);i.set("zIndex",2);n.attr("cursor","move");a.attr("cursor",o);i.attr("cursor",o);this.sort()};r._renderUI=function t(){if(this.get("layout")==="horizontal"){this._renderHorizontal()}else{this._renderVertical()}};r._transform=function t(e){var r=this.get("range");var a=r[0]/100;var i=r[1]/100;var n=this.get("width");var o=this.get("height");var s=this.get("minHandleElement");var l=this.get("maxHandleElement");var u=this.get("middleHandleElement");s.resetMatrix();l.resetMatrix();if(e==="horizontal"){u.attr({x:n*a,y:0,width:(i-a)*n,height:o});s.translate(a*n,o);l.translate(i*n,o)}else{u.attr({x:0,y:o*(1-i),width:n,height:(i-a)*o});s.translate(1,(1-a)*o);l.translate(1,(1-i)*o)}};r._renderHorizontal=function t(){this._transform("horizontal")};r._renderVertical=function t(){this._transform("vertical")};r._bindUI=function t(){this.on("mousedown",p.wrapBehavior(this,"_onMouseDown"))};r._isElement=function t(e,r){var a=this.get(r);if(e===a){return true}if(a.isGroup){var i=a.get("children");return i.indexOf(e)>-1}return false};r._getRange=function t(e,r){var a=e+r;a=a>100?100:a;a=a<0?0:a;return a};r._updateStatus=function t(e,r){var a=e==="x"?this.get("width"):this.get("height");e=p.upperFirst(e);var i=this.get("range");var n=this.get("page"+e);var o=this.get("currentTarget");var s=this.get("rangeStash");var l=this.get("layout");var u=l==="vertical"?-1:1;var f=r["page"+e];var c=f-n;var v=c/a*100*u;var h;if(i[1]<=i[0]){if(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement")){i[0]=this._getRange(v,i[0]);i[1]=this._getRange(v,i[0])}}else{if(this._isElement(o,"minHandleElement")){i[0]=this._getRange(v,i[0])}if(this._isElement(o,"maxHandleElement")){i[1]=this._getRange(v,i[1])}}if(this._isElement(o,"middleHandleElement")){h=s[1]-s[0];i[0]=this._getRange(v,i[0]);i[1]=i[0]+h;if(i[1]>100){i[1]=100;i[0]=i[1]-h}}this.emit("sliderchange",{range:i});this.set("page"+e,f);this._renderUI();this.get("canvas").draw();return};r._onMouseDown=function t(e){var r=e.currentTarget;var a=e.event;var i=this.get("range");a.stopPropagation();a.preventDefault();this.set("pageX",a.pageX);this.set("pageY",a.pageY);this.set("currentTarget",r);this.set("rangeStash",[i[0],i[1]]);this._bindCanvasEvents()};r._bindCanvasEvents=function t(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(e,"mousemove",p.wrapBehavior(this,"_onCanvasMouseMove"));this.onMouseUpListener=i.addEventListener(e,"mouseup",p.wrapBehavior(this,"_onCanvasMouseUp"));this.onMouseLeaveListener=i.addEventListener(e,"mouseleave",p.wrapBehavior(this,"_onCanvasMouseUp"))};r._onCanvasMouseMove=function t(e){if(!this._mouseOutArea(e)){var r=this.get("layout");if(r==="horizontal"){this._updateStatus("x",e)}else{this._updateStatus("y",e)}}};r._onCanvasMouseUp=function t(){this._removeDocumentEvents()};r._removeDocumentEvents=function t(){this.onMouseMoveListener.remove();this.onMouseUpListener.remove()};r._mouseOutArea=function t(e){var r=this.get("canvas").get("el");var a=r.getBoundingClientRect();var i=this.get("parent");var n=i.getBBox();var o=i.attr("matrix")[6];var s=i.attr("matrix")[7];var l=o+n.width;var u=s+n.height;var f=e.clientX-a.x;var c=e.clientY-a.y;if(f<o||f>l||c<s||c>u){return true}return false};return e}(n);t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var f=r(3);var i=r(68);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return f.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})};e._renderSliderShape=function t(){var e=this.get("slider");var r=e.get("backgroundElement");var a=this.get("layout");var i=this.get("width");var n=this.get("height");var o=this.get("height")/2;var s=this.get("frontMiddleBarStyle");var l=a==="vertical"?[[0,0],[i,0],[i,n],[i-4,n]]:[[0,o+n/2],[0,o+n/2-4],[i,o-n/2],[i,o+n/2]];return this._addMiddleBar(r,"Polygon",f.mix({points:l},s))};e._renderUnslidable=function t(){var e=this.get("layout");var r=this.get("width");var a=this.get("height");var i=this.get("frontMiddleBarStyle");var n=e==="vertical"?[[0,0],[r,0],[r,a],[r-4,a]]:[[0,a],[0,a-4],[r,0],[r,a]];var o=this.get("group");var s=o.addGroup();s.addShape("Polygon",{attrs:f.mix({points:n},i)});var l=this._formatItemValue(this.get("firstItem").value);var u=this._formatItemValue(this.get("lastItem").value);if(this.get("layout")==="vertical"){this._addText(r+10,a-3,l);this._addText(r+10,3,u)}else{this._addText(0,a,l);this._addText(r,a,u)}};e._addText=function t(e,r,a){var i=this.get("group");var n=i.addGroup();var o=this.get("textStyle");var s=this.get("titleShape");var l=this.get("titleGap");if(s){l+=s.getBBox().height}if(this.get("layout")==="vertical"){n.addShape("text",{attrs:f.mix({x:e+this.get("textOffset"),y:r,text:a===0?"0":a},o)})}else{r+=l+this.get("textOffset")-20;if(!s)r+=10;n.addShape("text",{attrs:f.mix({x:e,y:r,text:a===0?"0":a},o)})}};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var v=r(3);var i=r(68);var h=2;var l=16;var p=16;var g=5;var n=function(c){a(t,c);function t(){return c.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=c.prototype.getDefaultCfg.call(this);return v.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})};e._renderSliderShape=function t(){var e=g;var r=this.get("slider");var a=r.get("backgroundElement");var i=this.get("layout");var n=i==="vertical"?h:this.get("width");var o=i==="vertical"?this.get("height"):h;var s=e;var l=this.get("height")/2;var u=this.get("frontMiddleBarStyle");var f=i==="vertical"?[[0,0],[n,0],[n,o],[0,o]]:[[0,l+o],[0,l-o],[s+n-4,l-o],[s+n-4,l+o]];return this._addMiddleBar(a,"Polygon",v.mix({points:f},u))};e._addHorizontalTrigger=function t(e,r,a,i){var n=this.get("slider");var o=n.get(e+"HandleElement");var s=-this.get("height")/2;var l=o.addShape("circle",{attrs:v.mix({x:0,y:s,r:i},r)});var u=o.addShape("text",{attrs:v.mix(a,{x:0,y:s+i+10,textAlign:"center",textBaseline:"middle"})});var f=this.get("layout");var c=f==="vertical"?"ns-resize":"ew-resize";l.attr("cursor",c);u.attr("cursor",c);this.set(e+"ButtonElement",l);this.set(e+"TextElement",u)};e._addVerticalTrigger=function t(e,r,a,i){var n=this.get("slider");var o=n.get(e+"HandleElement");var s=o.addShape("circle",{attrs:v.mix({x:0,y:0,r:i},r)});var l=o.addShape("text",{attrs:v.mix(a,{x:i+10,y:0,textAlign:"start",textBaseline:"middle"})});var u=this.get("layout");var f=u==="vertical"?"ns-resize":"ew-resize";s.attr("cursor",f);l.attr("cursor",f);this.set(e+"ButtonElement",s);this.set(e+"TextElement",l)};e._renderTrigger=function t(){var e=this.get("firstItem");var r=this.get("lastItem");var a=this.get("layout");var i=this.get("textStyle");var n=this.get("triggerAttr");var o=v.mix({},n);var s=v.mix({},n);var l=g;var u=p;var f=v.mix({text:this._formatItemValue(e.value)+""},i);var c=v.mix({text:this._formatItemValue(r.value)+""},i);if(a==="vertical"){this._addVerticalTrigger("min",o,f,l);this._addVerticalTrigger("max",s,c,u)}else{this._addHorizontalTrigger("min",o,f,l);this._addHorizontalTrigger("max",s,c,u)}};e._bindEvents=function t(){var u=this;if(this.get("slidable")){var e=this.get("slider");e.on("sliderchange",function(t){var e=t.range;var r=u.get("firstItem").value;var a=u.get("lastItem").value;var i=r+e[0]/100*(a-r);var n=r+e[1]/100*(a-r);var o=g+e[0]/100*(p-g);var s=g+e[1]/100*(p-g);u._updateElement(i,n,o,s);var l=new Event("itemfilter",t,true,true);l.range=[i,n];u.emit("itemfilter",l)})}};e._updateElement=function t(e,r,a,i){c.prototype._updateElement.call(this,e,r);var n=this.get("minTextElement");var o=this.get("maxTextElement");var s=this.get("minButtonElement");var l=this.get("maxButtonElement");s.attr("r",a);l.attr("r",i);var u=this.get("layout");if(u==="vertical"){n.attr("x",a+10);o.attr("x",i+10)}else{var f=-this.get("height")/2;n.attr("y",f+a+10);o.attr("y",f+i+10)}};e._addCircle=function t(e,r,a,i,n){var o=this.get("group");var s=o.addGroup();var l=this.get("_unslidableCircleStyle");var u=this.get("textStyle");var f=this.get("titleShape");var c=this.get("titleGap");if(f){c+=f.getBBox().height}s.addShape("circle",{attrs:v.mix({x:e,y:r+c,r:a===0?1:a},l)});if(this.get("layout")==="vertical"){s.addShape("text",{attrs:v.mix({x:n+20+this.get("textOffset"),y:r+c,text:i===0?"0":i},u)})}else{s.addShape("text",{attrs:v.mix({x:e,y:r+c+n+13+this.get("textOffset"),text:i===0?"0":i},u)})}};e._renderUnslidable=function t(){var e=this.get("firstItem").value;var r=this.get("lastItem").value;if(e>r){var a=r;r=e;e=a}var i=this._formatItemValue(e);var n=this._formatItemValue(r);var o=e<g?g:e;var s=r>p?p:r;if(o>s){o=g;s=p}if(this.get("layout")==="vertical"){this._addCircle(s,s,o,i,2*s);this._addCircle(s,s*2+l+o,s,n,2*s)}else{this._addCircle(s,s,o,i,2*s);this._addCircle(s*2+l+o,s,s,n,2*s)}};e.activate=function t(e){if(!this.get("slidable")){return}c.prototype.activate.call(this,e)};return t}(i);t.exports=n},function(t,e,r){var a=r(69);a.Html=r(332);a.Canvas=r(163);a.Mini=r(334);t.exports=a},function(t,e,r){function u(){u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){t[a]=r[a]}}}return t};return u.apply(this,arguments)}function o(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(20);var n=r(69);var b=r(3);var _=b.DomUtil;var s=r(333);var l=r(160);var f=r(161);var c=r(162);var v="g2-tooltip";var h="g2-tooltip-title";var p="g2-tooltip-list";var g="g2-tooltip-marker";var d="g2-tooltip-value";var y="g2-tooltip-list-item";var m=5;var w=i.Marker;function S(t,e){return t.getElementsByClassName(e)[0]}function M(e,r){Object.keys(e).forEach(function(t){if(r[t]){e[t]=b.mix(e[t],r[t])}});return e}var x=function(x){a(e,x);var t=e.prototype;t.getDefaultCfg=function t(){var e=x.prototype.getDefaultCfg.call(this);return b.mix({},e,{containerTpl:' <div class="'+v+'"> '+'<div class="'+h+'"></div>'+'<ul class="'+p+'"></ul>'+"</div>",itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 '+m+" "+m+'" class="'+g+'"></svg>\n      {name}<span class="'+d+'">{value}</span></li>',htmlContent:null,follow:true,enterable:false})};function e(t){var e;e=x.call(this,t)||this;b.assign(o(e),f);b.assign(o(e),c);var r=s;e.style=M(r,t);e._init_();if(e.get("items")){e.render()}var a=e.get("crosshairs");if(a){var i=a.type==="rect"?e.get("backPlot"):e.get("frontPlot");var n=new l(b.mix({plot:i,plotRange:e.get("plotRange"),canvas:e.get("canvas")},e.get("crosshairs")));n.hide();e.set("crosshairGroup",n)}return e}t._init_=function t(){var e=this;var r=e.get("containerTpl");var a=e.get("canvas").get("el").parentNode;var i;if(!this.get("htmlContent")){if(/^\#/.test(r)){var n=r.replace("#","");i=document.getElementById(n)}else{i=_.createDom(r);_.modifyCSS(i,e.style[v]);a.appendChild(i);a.style.position="relative"}e.set("container",i)}};t.render=function t(){var e=this;e.clear();if(e.get("htmlContent")){var r=e.get("canvas").get("el").parentNode;var a=e._getHtmlContent();r.appendChild(a);e.set("container",a)}else{e._renderTpl()}};t._renderTpl=function t(){var r=this;var e=r.get("showTitle");var a=r.get("titleContent");var i=r.get("container");var n=S(i,h);var o=S(i,p);var s=r.get("items");if(n&&e){_.modifyCSS(n,r.style[h]);n.innerHTML=a}if(o){_.modifyCSS(o,r.style[p]);b.each(s,function(t,e){o.appendChild(r._addItem(t,e))})}};t.clear=function t(){var e=this.get("container");if(this.get("htmlContent")){e&&e.remove()}else{var r=S(e,h);var a=S(e,p);if(r){r.innerHTML=""}if(a){a.innerHTML=""}}};t.show=function t(){var e=this.get("container");if(!e||this.destroyed){return}e.style.visibility="visible";e.style.display="block";var r=this.get("crosshairGroup");r&&r.show();var a=this.get("markerGroup");a&&a.show();x.prototype.show.call(this);this.get("canvas").draw()};t.hide=function t(){var e=this.get("container");if(!e||this.destroyed){return}e.style.visibility="hidden";e.style.display="none";var r=this.get("crosshairGroup");r&&r.hide();var a=this.get("markerGroup");a&&a.hide();x.prototype.hide.call(this);this.get("canvas").draw()};t.destroy=function t(){var e=this;var r=e.get("container");var a=e.get("containerTpl");if(r&&!/^\#/.test(a)){r.parentNode.removeChild(r)}var i=this.get("crosshairGroup");i&&i.destroy();var n=this.get("markerGroup");n&&n.remove();x.prototype.destroy.call(this)};t._getMarkerSvg=function t(e){var r=e.marker||{};var a=r.activeSymbol||r.symbol;var i;if(b.isFunction(a)){i=a}else if(b.isString(a)){i=w.Symbols[a]}i=b.isFunction(i)?i:w.Symbols.circle;var n=i(m/2,m/2,m/2);var o=n.reduce(function(t,e){return""+t+e[0]+e.slice(1).join(",")},"");return'<path d="'+o+'" fill="'+(r.fill||"none")+'" stroke="'+(r.stroke||"none")+'" />'};t._addItem=function t(e,r){var a=this.get("itemTpl");var i=b.substitute(a,b.mix({index:r},e));var n=_.createDom(i);_.modifyCSS(n,this.style[y]);var o=S(n,g);if(o){_.modifyCSS(o,u({},this.style[g],{borderRadius:"unset"}));var s=this._getMarkerSvg(e);o.innerHTML=s}var l=S(n,d);if(l){_.modifyCSS(l,this.style[d])}return n};t._getHtmlContent=function t(){var e=this.get("htmlContent");var r=this.get("titleContent");var a=this.get("items");var i=e(r,a);var n=_.createDom(i);return n};t.setPosition=function t(e,r,a){var i=this.get("container");var n=this.get("canvas").get("el");var o=_.getWidth(n);var s=_.getHeight(n);var l=i.clientWidth;var u=i.clientHeight;var f=e;var c=r;var v;var h=this.get("prePosition")||{x:0,y:0};if(!l){i.style.display="block";l=i.clientWidth;u=i.clientHeight;i.style.display="none"}if(this.get("enterable")){r=r-i.clientHeight/2;v=[e,r];if(h&&e-h.x>0){e-=i.clientWidth+1}else{e+=1}}else if(this.get("position")){v=this._calcTooltipPosition(e,r,this.get("position"),l,u,a);e=v[0];r=v[1]}else{v=this._constraintPositionInBoundary(e,r,l,u,o,s);e=v[0];r=v[1]}if(this.get("inPlot")){var p=this.get("plotRange");v=this._constraintPositionInPlot(e,r,l,u,p,this.get("enterable"));e=v[0];r=v[1]}var g=this.get("markerItems");if(!b.isEmpty(g)){f=g[0].x;c=g[0].y}this.set("prePosition",v);var d=this.get("follow");if(d){i.style.left=e+"px";i.style.top=r+"px"}var y=this.get("crosshairGroup");if(y){var m=this.get("items");y.setPosition(f,c,m)}x.prototype.setPosition.call(this,e,r)};return e}(n);t.exports=x},function(t,e,r){var a;var i=r(14),n=i.FONT_FAMILY;var o="g2-tooltip";var s="g2-tooltip-title";var l="g2-tooltip-list";var u="g2-tooltip-list-item";var f="g2-tooltip-marker";var c="g2-tooltip-value";var v=(a={crosshairs:false,offset:15},a[""+o]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:n,lineHeight:"20px",padding:"10px 10px 6px 10px"},a[""+s]={marginBottom:"4px"},a[""+l]={margin:0,listStyleType:"none",padding:0},a[""+u]={marginBottom:"4px"},a[""+f]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},a[""+c]={display:"inline-block",float:"right",marginLeft:"30px"},a);t.exports=v},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var u=r(3);var i=r(163);var n=r(14),o=n.FONT_FAMILY;var d=u.DomUtil;var y=u.MatrixUtil;var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return u.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:o,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})};e._init_=function t(){var e=this;var r=e.get("padding");var a=e.get("frontPlot");var i=a.addGroup();e.set("container",i);var n=i.addShape("rect",{attrs:u.mix({},e.get("boardStyle"))});e.set("board",n);var o=i.addShape("path",{attrs:{fill:e.get("boardStyle").fill}});e.set("triangleShape",o);var s=i.addGroup();s.move(r.left,r.top);var l=s.addShape("text",{attrs:u.mix({},e.get("valueStyle"))});e.set("valueShape",l)};e.render=function t(){var e=this;e.clear();var r=e.get("board");var a=e.get("valueShape");var i=e.get("padding");var n=e.get("items")[0];if(a){a.attr("text",n.value)}var o=a?a.getBBox():{width:80,height:30};var s=i.left+o.width+i.right;var l=i.top+o.height+i.bottom;r.attr("width",s);r.attr("height",l);e._centerTriangleShape()};e.clear=function t(){var e=this.get("valueShape");e.attr("text","")};e.setPosition=function t(e,r,a){var i=this;var n=i.get("container");var o=i.get("plotRange");var s=n.getBBox();var l=s.width;var u=s.height;e-=l/2;if(a&&(a.name==="point"||a.name==="interval")){var f=a.getBBox().y;r=f}r-=u;if(this.get("inPlot")){if(e<o.tl.x){e=o.tl.x;i._leftTriangleShape()}else if(e+l/2>o.tr.x){e=o.tr.x-l;i._rightTriangleShape()}else{i._centerTriangleShape()}if(r<o.tl.y){r=o.tl.y}else if(r+u>o.bl.y){r=o.bl.y-u}}else{var c=this.get("canvas").get("el");var v=d.getWidth(c);var h=d.getHeight(c);if(e<0){e=0;i._leftTriangleShape()}else if(e+l/2>v){e=v-l;i._rightTriangleShape()}else{i._centerTriangleShape()}if(r<0){r=0}else if(r+u>h){r=h-u}}var p=[1,0,0,0,1,0,0,0,1];var g=y.transform(p,[["t",e,r]]);n.stopAnimate();n.animate({matrix:g},this.get("animationDuration"))};e._centerTriangleShape=function t(){var e=this.get("triangleShape");var r=this.get("triangleWidth");var a=this.get("triangleHeight");var i=this.get("board").getBBox();var n=i.width;var o=i.height;var s=[["M",0,0],["L",r,0],["L",r/2,a],["L",0,0],["Z"]];e.attr("path",s);e.move(n/2-r/2,o-1)};e._leftTriangleShape=function t(){var e=this.get("triangleShape");var r=this.get("triangleWidth");var a=this.get("triangleHeight");var i=this.get("board").getBBox();var n=i.height;var o=[["M",0,0],["L",r,0],["L",0,a+3],["L",0,0],["Z"]];e.attr("path",o);e.move(0,n-3)};e._rightTriangleShape=function t(){var e=this.get("triangleShape");var r=this.get("triangleWidth");var a=this.get("triangleHeight");var i=this.get("board").getBBox();var n=i.width;var o=i.height;var s=[["M",0,0],["L",r,0],["L",r,a+4],["L",0,0],["Z"]];e.attr("path",s);e.move(n-r-1,o-4)};return t}(i);t.exports=s},function(t,e,r){var a=r(0).MatrixUtil;var M=a.vec2;function p(t,e,r,a){var i=[];var n;var o;var s=!!a;var l,u;if(s){l=[Infinity,Infinity];u=[-Infinity,-Infinity];for(var f=0,c=t.length;f<c;f++){var v=t[f];l=M.min([],l,v);u=M.max([],u,v)}l=M.min([],l,a[0]);u=M.max([],u,a[1])}for(var h=0,p=t.length;h<p;h++){var g=t[h];if(r){n=t[h?h-1:p-1];o=t[(h+1)%p]}else{if(h===0||h===p-1){i.push(g);continue}else{n=t[h-1];o=t[h+1]}}var d=[];d=M.sub(d,o,n);d=M.scale(d,d,e);var y=M.distance(g,n);var m=M.distance(g,o);var x=y+m;if(x!==0){y/=x;m/=x}var b=M.scale([],d,-y);var _=M.scale([],d,m);var w=M.add([],g,b);var S=M.add([],g,_);if(s){w=M.max([],w,l);w=M.min([],w,u);S=M.max([],S,l);S=M.min([],S,u)}i.push(w);i.push(S)}if(r){i.push(i.shift())}return i}function i(t,e,r){var a=!!e;var i=[];for(var n=0,o=t.length;n<o;n+=2){i.push([t[n],t[n+1]])}var s=p(i,.4,a,r);var l=i.length;var u=[];var f;var c;var v;for(var h=0;h<l-1;h++){f=s[h*2];c=s[h*2+1];v=i[h+1];u.push(["C",f[0],f[1],c[0],c[1],v[0],v[1]])}if(a){f=s[l];c=s[l+1];v=i[0];u.push(["C",f[0],f[1],c[0],c[1],v[0],v[1]])}return u}t.exports={catmullRom2bezier:i}},function(t,e,r){var u=r(0);var a=r(164);var f=r(23);var i=r(7);var c=5;function v(t,e,r){return{x:t.x+r*Math.cos(e),y:t.y+r*Math.sin(e)}}function p(r,a,t,i,n){var e=true;var o=t.start;var s=t.end;var l=Math.min(o.y,s.y);var u=Math.abs(o.y-s.y);var f;var c=0;var v=Number.MIN_VALUE;var h=r.map(function(t){if(t.y>c){c=t.y}if(t.y<v){v=t.y}return{size:a,targets:[t.y-l]}});v-=l;if(c-l>u){u=c-l}while(e){h.forEach(function(t){var e=(Math.min.apply(v,t.targets)+Math.max.apply(v,t.targets))/2;t.pos=Math.min(Math.max(v,e-t.size/2),u-t.size)});e=false;f=h.length;while(f--){if(f>0){var p=h[f-1];var g=h[f];if(p.pos+p.size>g.pos){p.size+=g.size;p.targets=p.targets.concat(g.targets);if(p.pos+p.size>u){p.pos=u-p.size}h.splice(f,1);e=true}}}}f=0;h.forEach(function(t){var e=l+a/2;t.targets.forEach(function(){r[f].y=t.pos+e;e+=a;f++})});r.forEach(function(t){var e=t.r*t.r;var r=Math.pow(Math.abs(t.y-i.y),2);if(e<r){t.x=i.x}else{var a=Math.sqrt(e-r);if(!n){t.x=i.x-a}else{t.x=i.x+a}}})}var n=function t(e){t.superclass.constructor.call(this,e)};u.extend(n,a);u.augment(n,{getDefaultCfg:function t(){return{label:i.thetaLabels}},getDefaultOffset:function t(e){return e.offset||0},adjustItems:function t(e){var r=this;var a=e[0]?e[0].offset:0;if(a>0){e=r._distribute(e,a)}return n.superclass.adjustItems.call(this,e)},_distribute:function t(e,r){var a=this;var i=a.get("coord");var n=i.getRadius();var o=a.get("label").labelHeight;var s=i.getCenter();var l=n+r;var u=l*2+o*2;var f={start:i.start,end:i.end};var c=a.get("geom");if(c){var v=c.get("view");f=v.getViewRegion()}var h=[[],[]];e.forEach(function(t){if(!t){return}if(t.textAlign==="right"){h[0].push(t)}else{h[1].push(t)}});h.forEach(function(t,e){var r=parseInt(u/o,10);if(t.length>r){t.sort(function(t,e){return e["..percent"]-t["..percent"]});t.splice(r,t.length-r)}t.sort(function(t,e){return t.y-e.y});p(t,o,f,s,e)});return h[0].concat(h[1])},lineToLabel:function t(e){var r=this;var a=r.get("coord");var i=a.getRadius();var n=e.offset;var o=e.orignAngle||e.angle;var s=a.getCenter();var l=v(s,o,i+c/2);var u=v(s,o,i+n/2);if(!e.labelLine){e.labelLine=r.get("label").labelLine||{}}e.labelLine.path=["M"+l.x,l.y+" Q"+u.x,u.y+" "+e.x,e.y].join(",")},getLabelRotate:function t(e,r){var a;if(r<0){a=e*180/Math.PI;if(a>90){a=a-180}if(a<-90){a=a+180}}return a/180*Math.PI},getLabelAlign:function t(e){var r=this;var a=r.get("coord");var i=a.getCenter();var n;if(e.angle<=Math.PI/2&&e.x>=i.x){n="left"}else{n="right"}var o=r.getDefaultOffset(e);if(o<=0){if(n==="right"){n="left"}else{n="right"}}return n},getArcPoint:function t(e){return e},getPointAngle:function t(e){var r=this;var a=r.get("coord");var i={x:u.isArray(e.x)?e.x[0]:e.x,y:e.y[0]};r.transLabelPoint(i);var n={x:u.isArray(e.x)?e.x[1]:e.x,y:e.y[1]};r.transLabelPoint(n);var o;var s=f.getPointAngle(a,i);if(e.points&&e.points[0].y===e.points[1].y){o=s}else{var l=f.getPointAngle(a,n);if(s>=l){l=l+Math.PI*2}o=s+(l-s)/2}return o},getCirclePoint:function t(e,r){var a=this;var i=a.get("coord");var n=i.getCenter();var o=i.getRadius()+r;var s=v(n,e,o);s.angle=e;s.r=o;return s}});t.exports=n},function(t,e,r){var c=r(0);var a=r(66);var i=function t(e){t.superclass.constructor.call(this,e)};c.extend(i,a);c.augment(i,{setLabelPosition:function t(e,r,a,i){if(c.isFunction(i)){i=i(e.text,r._origin,a)}var n=this.get("coord");var o=n.isTransposed;var s=n.convertPoint(r.points[0]);var l=n.convertPoint(r.points[2]);var u=(s.x-l.x)/2*(o?-1:1);var f=(s.y-l.y)/2*(o?-1:1);switch(i){case"right":if(o){e.x-=u;e.y+=f;e.textAlign=e.textAlign||"center"}else{e.x-=u;e.y+=f;e.textAlign=e.textAlign||"left"}break;case"left":if(o){e.x-=u;e.y-=f;e.textAlign=e.textAlign||"center"}else{e.x+=u;e.y+=f;e.textAlign=e.textAlign||"right"}break;case"bottom":if(o){e.x-=u*2;e.textAlign=e.textAlign||"left"}else{e.y+=f*2;e.textAlign=e.textAlign||"center"}break;case"middle":if(o){e.x-=u}else{e.y+=f}e.textAlign=e.textAlign||"center";break;case"top":if(o){e.textAlign=e.textAlign||"left"}else{e.textAlign=e.textAlign||"center"}break;default:break}}});t.exports=i},function(t,e,r){var P=r(0);var a=r(7),d=a.defaultColor;var I="_origin";function y(t){return t.alias||t.field}var i={_getIntervalSize:function t(e){var r=null;var a=this.get("type");var i=this.get("coord");if(i.isRect&&(a==="interval"||a==="schema")){r=this.getSize(e[I]);var n=i.isTransposed?"y":"x";if(P.isArray(e[n])){var o=Math.abs(e[n][1]-e[n][0]);r=r<o?null:r}}return r},_snapEqual:function t(e,r,a){var i;e=a.translate(e);r=a.translate(r);if(a.isCategory){i=e===r}else{i=P.snapEqual(e,r)}return i},_getScaleValueByPoint:function t(e){var r=0;var a=this.get("coord");var i=this.getXScale();var n=a.invert(e);var o=n.x;if(this.isInCircle()&&o>(1+i.rangeMax())/2){o=i.rangeMin()}r=i.invert(o);if(i.isCategory){r=i.translate(r)}return r},_getOriginByPoint:function t(e){var r=this.getXScale();var a=this.getYScale();var i=r.field;var n=a.field;var o=this.get("coord");var s=o.invert(e);var l=r.invert(s.x);var u=a.invert(s.y);var f={};f[i]=l;f[n]=u;return f},_getScale:function t(e){var r=this;var a=r.get("scales");var i=null;P.each(a,function(t){if(t.field===e){i=t;return false}});return i},_getTipValueScale:function t(){var e=this.getAttrsForLegend();var r;P.each(e,function(t){var e=t.getScale(t.type);if(e.isLinear){r=e;return false}});var a=this.getXScale();var i=this.getYScale();if(!r&&i&&i.field==="..y"){return a}return r||i||a},_getTipTitleScale:function t(e){var r=this;if(e){return r._getScale(e)}var a=r.getAttr("position");var i=a.getFields();var n;P.each(i,function(t){if(!t.includes("..")){n=t;return false}});return r._getScale(n)},_filterValue:function t(e,r){var a=this.get("coord");var i=this.getYScale();var n=i.field;var o=a.invert(r);var s=o.y;s=i.invert(s);var l=e[e.length-1];P.each(e,function(t){var e=t[I];if(e[n][0]<=s&&e[n][1]>=s){l=t;return false}});return l},getXDistance:function t(){var e=this;var r=e.get("xDistance");if(!r){var a=e.getXScale();if(a.isCategory){r=1}else{var i=a.values;var n=a.translate(i[0]);var o=n;P.each(i,function(t){t=a.translate(t);if(t<n){n=t}if(t>o){o=t}});var s=i.length;r=(o-n)/(s-1)}e.set("xDistance",r)}return r},findPoint:function t(e,a){var i=this;var r=i.get("type");var n=i.getXScale();var o=i.getYScale();var s=n.field;var l=o.field;var u=null;if(P.indexOf(["heatmap","point"],r)>-1){var f=i.get("coord");var c=f.invert(e);var v=n.invert(c.x);var h=o.invert(c.y);var p=Infinity;P.each(a,function(t){var e=Math.pow(t[I][s]-v,2)+Math.pow(t[I][l]-h,2);if(e<p){p=e;u=t}});return u}var g=a[0];var d=a[a.length-1];if(!g){return u}var y=i._getScaleValueByPoint(e);var m=g[I][s];var x=g[I][l];var b=d[I][s];var _=o.isLinear&&P.isArray(x);if(P.isArray(m)){P.each(a,function(t){var e=t[I];if(n.translate(e[s][0])<=y&&n.translate(e[s][1])>=y){if(_){if(!P.isArray(u)){u=[]}u.push(t)}else{u=t;return false}}});if(P.isArray(u)){u=this._filterValue(u,e)}}else{var w;if(!n.isLinear&&n.type!=="timeCat"){P.each(a,function(t,e){var r=t[I];if(i._snapEqual(r[s],y,n)){if(_){if(!P.isArray(u)){u=[]}u.push(t)}else{u=t;return false}}else if(n.translate(r[s])<=y){d=t;w=a[e+1]}});if(P.isArray(u)){u=this._filterValue(u,e)}}else{if((y>n.translate(b)||y<n.translate(m))&&(y>n.max||y<n.min)){return null}var S=0;var M=a.length-1;var C;while(S<=M){C=Math.floor((S+M)/2);var k=a[C][I][s];if(i._snapEqual(k,y,n)){return a[C]}if(n.translate(k)<=n.translate(y)){S=C+1;d=a[C];w=a[C+1]}else{if(M===0){d=a[0]}M=C-1}}}if(d&&w){if(Math.abs(n.translate(d[I][s])-y)>Math.abs(n.translate(w[I][s])-y)){d=w}}}var A=i.getXDistance();if(!u&&Math.abs(n.translate(d[I][s])-y)<=A/2){u=d}return u},getTipTitle:function t(e,r){var a="";var i=this._getTipTitleScale(r);if(i){var n=e[i.field];a=i.getText(n)}else if(this.get("type")==="heatmap"){var o=this.getXScale();var s=this.getYScale();var l=o.getText(e[o.field]);var u=s.getText(e[s.field]);a="( "+l+", "+u+" )"}return a},getTipValue:function t(e,r){var a;var i=r.field;var n=e.key;a=e[i];if(P.isArray(a)){var o=[];P.each(a,function(t){o.push(r.getText(t))});a=o.join("-")}else{a=r.getText(a,n)}return a},getTipName:function t(e){var r;var a;var i=this._getGroupScales();if(i.length){P.each(i,function(t){a=t;return false})}if(a){var n=a.field;r=a.getText(e[n])}else{var o=this._getTipValueScale();r=y(o)}return r},getTipItems:function t(i,e){var n=this;var r=i[I];var o=n.getTipTitle(r,e);var a=n.get("tooltipCfg");var s=[];var l;var u;function f(t,e,r){if(!P.isNil(e)&&e!==""){var a={title:o,point:i,name:t||o,value:e,color:i.color||d,marker:true};a.size=n._getIntervalSize(i);s.push(P.mix({},a,r))}}if(a){var c=a.fields;var v=a.cfg;var h=[];P.each(c,function(t){h.push(r[t])});if(v){if(P.isFunction(v)){v=v.apply(null,h)}var p=P.mix({},{point:i,title:o,color:i.color||d,marker:true},v);p.size=n._getIntervalSize(i);s.push(p)}else{P.each(c,function(t){if(!P.isNil(r[t])){var e=n._getScale(t);l=y(e);u=e.getText(r[t]);f(l,u)}})}}else{var g=n._getTipValueScale();if(!P.isNil(r[g.field])){u=n.getTipValue(r,g);l=n.getTipName(r);f(l,u)}}return s},isShareTooltip:function t(){var e=this.get("shareTooltip");var r=this.get("type");var a=this.get("view");var i;if(a.get("parent")){i=a.get("parent").get("options")}else{i=a.get("options")}if(r==="interval"){var n=this.get("coord");var o=n.type;if(o==="theta"||o==="polar"&&n.isTransposed){e=false}}else if(!this.getYScale()||P.inArray(["contour","point","polygon","edge"],r)){e=false}if(i.tooltip&&P.isBoolean(i.tooltip.shared)){e=i.tooltip.shared}return e}};t.exports=i},function(t,e,r){var f=r(0);var l="_origin";var c=r(165);var v="_originActiveAttrs";function i(t,e){if(f.isNil(t)||f.isNil(e)){return false}var r=t.get("origin");var a=e.get("origin");return f.isEqual(r,a)}function u(r,t){if(!r){return true}if(r.length!==t.length){return true}var a=false;f.each(t,function(t,e){if(!i(t,r[e])){a=true;return false}});return a}function h(t,a){var i={};f.each(t,function(t,e){var r=a.attr(e);if(f.isArray(r)){r=f.cloneDeep(r)}i[e]=r});return i}var a={_isAllowActive:function t(){var e=this.get("allowActive");if(f.isNil(e)){var r=this.get("view");var a=this.isShareTooltip();var i=r.get("options");if(i.tooltip===false||!a){return true}}else{return e}return false},_onMouseenter:function t(e){var r=this;var a=e.shape;var i=r.get("shapeContainer");if(a&&i.contain(a)&&r._isAllowActive()){r.setShapesActived(a)}},_onMouseleave:function t(){var e=this;var r=e.get("view");var a=r.get("canvas");if(e.get("activeShapes")){e.clearActivedShapes();a.draw()}},_bindActiveAction:function t(){var e=this;var r=e.get("view");var a=e.get("type");r.on(a+":mouseenter",f.wrapBehavior(e,"_onMouseenter"));r.on(a+":mouseleave",f.wrapBehavior(e,"_onMouseleave"))},_offActiveAction:function t(){var e=this;var r=e.get("view");var a=e.get("type");r.off(a+":mouseenter",f.getWrapBehavior(e,"_onMouseenter"));r.off(a+":mouseleave",f.getWrapBehavior(e,"_onMouseleave"))},_setActiveShape:function t(e){var r=this;var a=r.get("activedOptions")||{};var i=e.get("origin");var n=i.shape||r.getDefaultValue("shape");if(f.isArray(n)){n=n[0]}var o=r.get("shapeFactory");var s=f.mix({},e.attr(),{origin:i});var l=o.getActiveCfg(n,s);if(a.style){f.mix(l,a.style)}var u=h(l,e);e.setSilent(v,u);if(a.animate){e.animate(l,300)}else{e.attr(l)}c.toFront(e)},setShapesActived:function t(e){var r=this;if(!f.isArray(e)){e=[e]}var a=r.get("activeShapes");if(!u(a,e)){return}var i=r.get("view");var n=i.get("canvas");var o=r.get("activedOptions");if(o&&o.highlight){f.each(e,function(t){if(t.get("animating")){t.stopAnimate()}});r.highlightShapes(e)}else{if(a){r.clearActivedShapes()}f.each(e,function(t){if(t.get("animating")){t.stopAnimate()}if(t.get("visible")){r._setActiveShape(t)}})}r.set("activeShapes",e);n.draw()},clearActivedShapes:function t(){var e=this;var r=e.get("shapeContainer");var a=e.get("activedOptions");var i=a&&a.animate;if(r&&!r.get("destroyed")){var n=e.get("activeShapes");f.each(n,function(t){var e=t.get(v);if(i){t.stopAnimate();t.animate(e,300)}else{t.attr(e)}c.resetZIndex(t);t.setSilent(v,null)});var o=e.get("preHighlightShapes");if(o){var s=r.get("children");f.each(s,function(t){var e=t.get(v);if(e){if(i){t.stopAnimate();t.animate(e,300)}else{t.attr(e)}c.resetZIndex(t);t.setSilent(v,null)}})}e.set("activeShapes",null);e.set("preHighlightShapes",null)}},getGroupShapesByPoint:function t(e){var r=this;var a=r.get("shapeContainer");var i=[];if(a){var n=r.getXScale().field;var o=r.getShapes();var s=r._getOriginByPoint(e);f.each(o,function(t){var e=t.get("origin");if(t.get("visible")&&e){var r=e[l][n];if(r===s[n]){i.push(t)}}})}return i},getSingleShapeByPoint:function t(e){var r=this;var a=r.get("shapeContainer");var i=a.get("canvas");var n=i.get("pixelRatio");var o;if(a){o=a.getShape(e.x*n,e.y*n)}if(o&&o.get("origin")){return o}},highlightShapes:function t(a,i){var e=this;if(!f.isArray(a)){a=[a]}var r=e.get("activeShapes");if(!u(r,a)){return}if(r){e.clearActivedShapes()}var n=e.getShapes();var o=e.get("activedOptions");var s=o&&o.animate;var l=o&&o.style;f.each(n,function(t){var e={};t.stopAnimate();if(f.indexOf(a,t)!==-1){f.mix(e,l,i);c.toFront(t)}else{f.mix(e,{fillOpacity:.3,opacity:.3});c.resetZIndex(t)}var r=h(e,t);t.setSilent(v,r);if(s){t.animate(e,300)}else{t.attr(e)}});e.set("preHighlightShapes",a);e.set("activeShapes",a)}};t.exports=a},function(t,e,r){var p=r(0);var i="_origin";var g=r(165);function s(t,e){if(p.isNil(t)||p.isNil(e)){return false}var r=t.get("origin");var a=e.get("origin");return p.isEqual(r,a)}function d(t,a){var i={};p.each(t,function(t,e){if(e==="transform"){e="matrix"}var r=a.attr(e);if(p.isArray(r)){r=p.cloneDeep(r)}i[e]=r});return i}var a={_isAllowSelect:function t(){var e=this.get("allowSelect");if(p.isNil(e)){var r=this.get("type");var a=this.get("coord");var i=a&&a.type;if(r==="interval"&&i==="theta"){return true}}else{return e}return false},_onClick:function t(e){var r=this;if(r._isAllowSelect()){var a=e.shape;var i=r.get("shapeContainer");if(a&&i.contain(a)){r.setShapeSelected(a)}}},_bindSelectedAction:function t(){var e=this;var r=e.get("view");var a=e.get("type");r.on(a+":click",p.wrapBehavior(e,"_onClick"))},_offSelectedAction:function t(){var e=this;var r=e.get("view");var a=e.get("type");r.off(a+":click",p.getWrapBehavior(e,"_onClick"))},_setShapeStatus:function t(e,r){var a=this;var i=a.get("view");var n=a.get("selectedOptions")||{};var o=n.animate!==false;var s=i.get("canvas");e.set("selected",r);var l=e.get("origin");if(r){var u=l.shape||a.getDefaultValue("shape");if(p.isArray(u)){u=u[0]}var f=a.get("shapeFactory");var c=p.mix({geom:a,point:l},n);var v=f.getSelectedCfg(u,c);p.mix(v,c.style);if(!e.get("_originAttrs")){if(e.get("animating")){e.stopAnimate()}e.set("_originAttrs",d(v,e))}if(n.toFront){g.toFront(e)}if(o){e.animate(v,300)}else{e.attr(v);s.draw()}}else{var h=e.get("_originAttrs");if(n.toFront){g.resetZIndex(e)}e.set("_originAttrs",null);if(o){e.animate(h,300)}else{e.attr(h);s.draw()}}},setShapeSelected:function t(e){var r=this;var a=r._getSelectedShapes();var i=r.get("selectedOptions")||{};var n=i.cancelable!==false;if(i.mode==="multiple"){if(p.indexOf(a,e)===-1){a.push(e);r._setShapeStatus(e,true)}else if(n){p.Array.remove(a,e);r._setShapeStatus(e,false)}}else{var o=a[0];if(n){e=s(o,e)?null:e}if(!s(o,e)){if(o){r._setShapeStatus(o,false)}if(e){r._setShapeStatus(e,true)}}}},clearSelected:function t(){var e=this;var r=e.get("shapeContainer");if(r&&!r.get("destroyed")){var a=e._getSelectedShapes();p.each(a,function(t){e._setShapeStatus(t,false);t.set("_originAttrs",null)})}},setSelected:function t(r){var a=this;var e=a.getShapes();p.each(e,function(t){var e=t.get("origin");if(e&&e[i]===r){a.setShapeSelected(t)}});return this},_getSelectedShapes:function t(){var e=this;var r=e.getShapes();var a=[];p.each(r,function(t){if(t.get("selected")){a.push(t)}});e.set("selectedShapes",a);return a}};t.exports=a},function(t,e,r){var a=r(0);t.exports=function(t){if(a.isArray(t)){return t}if(a.isString(t)){return t.split("*")}return[t]}},function(t,e,r){var f=r(74);var c=r(0);var n=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;var o={LINEAR:"linear",CAT:"cat",TIME:"time"};var a=function(){function t(t){this.defs={};this.viewTheme={scales:{}};this.filters={};c.assign(this,t)}var e=t.prototype;e._getDef=function t(e){var r=this.defs;var a=this.viewTheme;var i=null;if(a.scales[e]||r[e]){i=c.mix({},a.scales[e]);c.each(r[e],function(t,e){if(c.isNil(t)){delete i[e]}else{i[e]=t}});if(this.filters[e]){delete i.min;delete i.max}}return i};e._getDefaultType=function t(e,r){var a=o.LINEAR;var i=c.Array.firstValue(r,e);if(c.isArray(i)){i=i[0]}if(n.test(i)){a=o.TIME}else if(c.isString(i)){a=o.CAT}return a};e._getScaleCfg=function t(e,r,a){var i={field:r};var n=c.Array.values(a,r);i.values=n;if(!f.isCategory(e)&&e!=="time"){var o=c.Array.getRange(n);i.min=o.min;i.max=o.max;i.nice=true}if(e==="time"){i.nice=false}return i};e.createScale=function t(e,r){var a=this;var i=a._getDef(e);var n;var o=r||[];var s=c.Array.firstValue(o,e);if(c.isNumber(e)||c.isNil(s)&&!i){n=f.identity({value:e,field:e.toString(),values:[e]})}else{var l;if(i){l=i.type}l=l||a._getDefaultType(e,o);var u=a._getScaleCfg(l,e,o);if(i){c.mix(u,i)}n=f[l](u)}return n};return t}();t.exports=a},function(t,e,r){var u=r(0);var f=r(344);var a=function(){function t(t){this.type="rect";this.actions=[];this.cfg={};u.mix(this,t);this.option=t||{}}var e=t.prototype;e.reset=function t(e){this.actions=e.actions||[];this.type=e.type;this.cfg=e.cfg;this.option.actions=this.actions;this.option.type=this.type;this.option.cfg=this.cfg;return this};e._execActions=function t(r){var e=this.actions;u.each(e,function(t){var e=t[0];r[e](t[1],t[2])})};e.hasAction=function t(e){var r=this.actions;var a=false;u.each(r,function(t){if(e===t[0]){a=true;return false}});return a};e.createCoord=function t(e,r){var a=this;var i=a.type;var n=a.cfg;var o;var s;var l=u.mix({start:e,end:r},n);if(i==="theta"){o=f.Polar;if(!a.hasAction("transpose")){a.transpose()}s=new o(l);s.type=i}else{o=f[u.upperFirst(i||"")]||f.Rect;s=new o(l)}a._execActions(s);return s};e.rotate=function t(e){e=e*Math.PI/180;this.actions.push(["rotate",e]);return this};e.reflect=function t(e){this.actions.push(["reflect",e]);return this};e.scale=function t(e,r){this.actions.push(["scale",e,r]);return this};e.transpose=function t(){this.actions.push(["transpose"]);return this};return t}();t.exports=a},function(t,e,r){"use strict";var a=r(44);a.Cartesian=r(345);a.Rect=a.Cartesian;a.Polar=r(346);a.Helix=r(347);t.exports=a},function(t,e,r){"use strict";function a(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function t(e){return typeof e}}else{a=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return a(t)}function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function n(t,e){if(e&&(a(e)==="object"||typeof e==="function")){return e}return o(t)}function o(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function l(t,e,r){if(e)s(t.prototype,e);if(r)s(t,r);return t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)f(t,e)}function f(t,e){f=Object.setPrototypeOf||function t(e,r){e.__proto__=r;return e};return f(t,e)}function c(t,e,r){if(typeof Reflect!=="undefined"&&Reflect.get){c=Reflect.get}else{c=function t(e,r,a){var i=v(e,r);if(!i)return;var n=Object.getOwnPropertyDescriptor(i,r);if(n.get){return n.get.call(a)}return n.value}}return c(t,e,r||t)}function v(t,e){while(!Object.prototype.hasOwnProperty.call(t,e)){t=h(t);if(t===null)break}return t}function h(t){h=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return h(t)}var p=r(8);var g=r(44);var d=function(t){u(r,t);l(r,[{key:"getDefaultCfg",value:function t(){var e=c(h(r.prototype),"getDefaultCfg",this).call(this);return p({},e,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:true})}}]);function r(t){var e;i(this,r);e=n(this,h(r).call(this,t));e._init();return e}l(r,[{key:"_init",value:function t(){var e=this.start,r=this.end;var a={start:e.x,end:r.x};var i={start:e.y,end:r.y};this.x=a;this.y=i}},{key:"convertPoint",value:function t(e){var r;var a;if(this.isTransposed){r=e.y;a=e.x}else{r=e.x;a=e.y}return{x:this.convertDim(r,"x"),y:this.convertDim(a,"y")}}},{key:"invertPoint",value:function t(e){var r=this.invertDim(e.x,"x");var a=this.invertDim(e.y,"y");if(this.isTransposed){return{x:a,y:r}}return{x:r,y:a}}}]);return r}(g);t.exports=d},function(t,e,r){"use strict";function a(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function t(e){return typeof e}}else{a=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return a(t)}function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function n(t,e){if(e&&(a(e)==="object"||typeof e==="function")){return e}return o(t)}function o(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function l(t,e,r){if(e)s(t.prototype,e);if(r)s(t,r);return t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)f(t,e)}function f(t,e){f=Object.setPrototypeOf||function t(e,r){e.__proto__=r;return e};return f(t,e)}function c(t,e,r){if(typeof Reflect!=="undefined"&&Reflect.get){c=Reflect.get}else{c=function t(e,r,a){var i=v(e,r);if(!i)return;var n=Object.getOwnPropertyDescriptor(i,r);if(n.get){return n.get.call(a)}return n.value}}return c(t,e,r||t)}function v(t,e){while(!Object.prototype.hasOwnProperty.call(t,e)){t=h(t);if(t===null)break}return t}function h(t){h=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return h(t)}var p=r(43);var g=r(35);var d=r(8);var y=r(44);var m=p.mat3;var x=p.vec2;var b=p.vec3;var _=function(t){u(r,t);l(r,[{key:"getDefaultCfg",value:function t(){var e=c(h(r.prototype),"getDefaultCfg",this).call(this);return d({},e,{startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,type:"polar",isPolar:true})}}]);function r(t){var e;i(this,r);e=n(this,h(r).call(this,t));e._init();return e}l(r,[{key:"_init",value:function t(){var e=this.radius;var r=this.innerRadius;var a=this.center;var i=this.startAngle;var n=this.endAngle;while(n<i){n+=Math.PI*2}this.endAngle=n;var o=this.getOneBox();var s=o.maxX-o.minX;var l=o.maxY-o.minY;var u=Math.abs(o.minX)/s;var f=Math.abs(o.minY)/l;var c=this.width;var v=this.height;var h;var p;if(v/l>c/s){h=c/s;p={x:a.x-(.5-u)*c,y:a.y-(.5-f)*h*l}}else{h=v/l;p={x:a.x-(.5-u)*h*s,y:a.y-(.5-f)*v}}if(!e){e=h}else if(e>0&&e<=1){e=h*e}else if(e<=0||e>h){e=h}var g={start:i,end:n};var d={start:r*e,end:e};this.x=g;this.y=d;this.radius=e;this.circleCentre=p;this.center=p}},{key:"getCenter",value:function t(){return this.circleCentre}},{key:"getOneBox",value:function t(){var e=this.startAngle;var r=this.endAngle;if(Math.abs(r-e)>=Math.PI*2){return{minX:-1,maxX:1,minY:-1,maxY:1}}var a=[0,Math.cos(e),Math.cos(r)];var i=[0,Math.sin(e),Math.sin(r)];for(var n=Math.min(e,r);n<Math.max(e,r);n+=Math.PI/18){a.push(Math.cos(n));i.push(Math.sin(n))}return{minX:Math.min.apply(Math,a),maxX:Math.max.apply(Math,a),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}}},{key:"getRadius",value:function t(){return this.radius}},{key:"convertPoint",value:function t(e){var r=this.getCenter();var a=this.isTransposed?e.y:e.x;var i=this.isTransposed?e.x:e.y;a=this.convertDim(a,"x");i=this.convertDim(i,"y");return{x:r.x+Math.cos(a)*i,y:r.y+Math.sin(a)*i}}},{key:"invertPoint",value:function t(e){var r=this.getCenter();var a=[e.x-r.x,e.y-r.y];var i=this.x;var n=[1,0,0,0,1,0,0,0,1];m.rotate(n,n,i.start);var o=[1,0,0];b.transformMat3(o,o,n);o=[o[0],o[1]];var s=x.angleTo(o,a,i.end<i.start);if(g(s,Math.PI*2)){s=0}var l=x.length(a);var u=s/(i.end-i.start);u=i.end-i.start>0?u:-u;var f=this.invertDim(l,"y");var c={};c.x=this.isTransposed?f:u;c.y=this.isTransposed?u:f;return c}}]);return r}(y);t.exports=_},function(t,e,r){"use strict";function a(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function t(e){return typeof e}}else{a=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return a(t)}function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function n(t,e){if(e&&(a(e)==="object"||typeof e==="function")){return e}return o(t)}function o(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(t,a.key,a)}}function l(t,e,r){if(e)s(t.prototype,e);if(r)s(t,r);return t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)f(t,e)}function f(t,e){f=Object.setPrototypeOf||function t(e,r){e.__proto__=r;return e};return f(t,e)}function c(t,e,r){if(typeof Reflect!=="undefined"&&Reflect.get){c=Reflect.get}else{c=function t(e,r,a){var i=v(e,r);if(!i)return;var n=Object.getOwnPropertyDescriptor(i,r);if(n.get){return n.get.call(a)}return n.value}}return c(t,e,r||t)}function v(t,e){while(!Object.prototype.hasOwnProperty.call(t,e)){t=h(t);if(t===null)break}return t}function h(t){h=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return h(t)}var p=r(43);var g=r(35);var d=r(8);var y=r(44);var m=p.vec2;var x=function(t){u(r,t);l(r,[{key:"getDefaultCfg",value:function t(){var e=c(h(r.prototype),"getDefaultCfg",this).call(this);return d({},e,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:true})}}]);function r(t){var e;i(this,r);e=n(this,h(r).call(this,t));e._init();return e}l(r,[{key:"_init",value:function t(){var e=this.width;var r=this.height;var a=this.radius;var i=this.innerRadius;var n=this.startAngle;var o=this.endAngle;var s=(o-n)/(2*Math.PI)+1;var l=Math.min(e,r)/2;if(a&&a>=0&&a<=1){l=l*a}var u=Math.floor(l*(1-i)/s);var f=u/(Math.PI*2);var c={start:n,end:o};var v={start:i*l,end:i*l+u*.99};this.a=f;this.d=u;this.x=c;this.y=v}},{key:"getCenter",value:function t(){return this.center}},{key:"convertPoint",value:function t(e){var r=this.a;var a=this.center;var i;var n;if(this.isTransposed){i=e.y;n=e.x}else{i=e.x;n=e.y}var o=this.convertDim(i,"x");var s=r*o;var l=this.convertDim(n,"y");return{x:a.x+Math.cos(o)*(s+l),y:a.y+Math.sin(o)*(s+l)}}},{key:"invertPoint",value:function t(e){var r=this.center;var a=this.a;var i=this.d+this.y.start;var n=m.subtract([],[e.x,e.y],[r.x,r.y]);var o=m.angleTo(n,[1,0],true);var s=o*a;if(m.length(n)<s){s=m.length(n)}var l=Math.floor((m.length(n)-s)/i);o=2*l*Math.PI+o;var u=a*o;var f=m.length(n)-u;f=g(f,0)?0:f;var c=this.invertDim(o,"x");var v=this.invertDim(f,"y");c=g(c,0)?0:c;v=g(v,0)?0:v;var h={};h.x=this.isTransposed?v:c;h.y=this.isTransposed?c:v;return h}}]);return r}(y);t.exports=x},function(t,e,r){var y=r(0);var a=r(22),p=a.Axis;var v=y.MatrixUtil.vec2;function o(t){var e=[];if(t.length>0){e=t.slice(0);var r=e[0];var a=e[e.length-1];if(r.value!==0){e.unshift({value:0})}if(a.value!==1){e.push({value:1})}}return e}function s(t,e,r){var a=[];if(t.length<1)return a;if(t.length>=2&&e&&r){a.push({text:"",tickValue:"",value:0})}if(t[0].value!==0){a.push({text:"",tickValue:"",value:0})}a=a.concat(t);if(a[a.length-1].value!==1){a.push({text:"",tickValue:"",value:1})}return a}function g(t,e){if(e===void 0){e=0}if(t==="middle"){e=.5}if(t.includes("%")){e=parseInt(t,10)/100}return e}var i=function(){function t(t){this.visible=true;this.canvas=null;this.container=null;this.coord=null;this.options=null;this.axes=[];y.mix(this,t)}var e=t.prototype;e._isHide=function t(e){var r=this.options;if(r&&r[e]===false){return true}return false};e._getMiddleValue=function t(e,r,a,i){if(e===0&&!i){return 0}if(e===1){return 1}var n=r[a+1].value;if(!i&&n===1){return 1}return(e+n)/2};e._getLineRange=function t(e,r,a,i){var n;var o;var s;var l=r.field;var u=this.options;var f="";if(u[l]&&u[l].position){f=u[l].position}if(a==="x"){var c=f==="top"?1:0;c=g(f,c);n={x:0,y:c};o={x:1,y:c};s=false}else{if(i){var v=f==="left"?0:1;v=g(f,v);n={x:v,y:0};o={x:v,y:1}}else{var h=f==="right"?1:0;h=g(f,h);n={x:h,y:0};o={x:h,y:1}}s=true}n=e.convert(n);o=e.convert(o);return{start:n,end:o,isVertical:s}};e._getLineCfg=function t(e,r,a,i){var n;var o=this._getLineRange(e,r,a,i);var s=o.isVertical;var l=o.start;var u=o.end;var f=e.center;if(e.isTransposed){s=!s}if(s&&l.x>f.x||!s&&l.y>f.y){n=1}else{n=-1}return{isVertical:s,factor:n,start:l,end:u}};e._getCircleCfg=function t(e){var r={};var a=e.x;var i=e.y;var n=i.start>i.end;var o;if(e.isTransposed){o={x:n?0:1,y:0}}else{o={x:0,y:n?0:1}}o=e.convert(o);var s=e.circleCentre;var l=[o.x-s.x,o.y-s.y];var u=[1,0];var f;if(o.y>s.y){f=v.angle(l,u)}else{f=v.angle(l,u)*-1}var c=f+(a.end-a.start);r.startAngle=f;r.endAngle=c;r.center=s;r.radius=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2));r.inner=e.innerRadius||0;return r};e._getRadiusCfg=function t(e){var r=e.x.start;var a=r<0?-1:1;var i;var n;if(e.isTransposed){i={x:0,y:0};n={x:1,y:0}}else{i={x:0,y:0};n={x:0,y:1}}return{factor:a,start:e.convert(i),end:e.convert(n)}};e._getAxisPosition=function t(e,r,a,i){var n="";var o=this.options;if(o[i]&&o[i].position){n=o[i].position}else{var s=e.type;if(e.isRect){if(r==="x"){n="bottom"}else if(r==="y"){if(a){n="right"}else{n="left"}}}else if(s==="helix"){n="helix"}else if(r==="x"){n=e.isTransposed?"radius":"circle"}else{n=e.isTransposed?"circle":"radius"}}return n};e._getAxisDefaultCfg=function t(e,r,a,i){var n=this;var o=n.viewTheme;var s={};var l=n.options;var u=r.field;s=y.deepMix({},o.axis[i],s,l[u]);s.viewTheme=o;if(s.title){var f=y.isPlainObject(s.title)?s.title:{};f.text=f.text||r.alias||u;y.deepMix(s,{title:f})}s.ticks=r.getTicks();if(e.isPolar&&!r.isCategory){if(a==="x"&&Math.abs(e.endAngle-e.startAngle)===Math.PI*2){s.ticks.pop()}}s.coord=e;if(s.label&&y.isNil(s.label.autoRotate)){s.label.autoRotate=true}if(l.hasOwnProperty("xField")&&l.xField.hasOwnProperty("grid")){if(s.position==="left"){y.deepMix(s,l.xField)}}return s};e._getAxisCfg=function t(u,r,e,f,a,i){if(a===void 0){a=""}var c=this;var n=c._getAxisPosition(u,f,a,r.field);var v=c._getAxisDefaultCfg(u,r,f,n);if(!y.isEmpty(v.grid)&&e){var h=[];var p=[];var g=o(e.getTicks());if(g.length){var d=s(v.ticks,r.isLinear,v.grid.align==="center");y.each(d,function(t,e){p.push(t.tickValue);var n=[];var o=t.value;if(v.grid.align==="center"){o=c._getMiddleValue(o,d,e,r.isLinear)}if(!y.isNil(o)){var s=u.x;var l=u.y;y.each(g,function(t){var e=f==="x"?o:t.value;var r=f==="x"?t.value:o;var a=u.convert({x:e,y:r});if(u.isPolar){var i=u.circleCentre;if(l.start>l.end){r=1-r}a.flag=s.start>s.end?0:1;a.radius=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))}n.push(a)});h.push({_id:i+"-"+f+a+"-grid-"+t.tickValue,points:n})}})}v.grid.items=h;v.grid.tickValues=p}v.type=r.type;return v};e._getHelixCfg=function t(e){var r={};var a=e.a;var i=e.startAngle;var n=e.endAngle;var o=100;var s=[];for(var l=0;l<=o;l++){var u=e.convert({x:l/100,y:0});s.push(u.x);s.push(u.y)}var f=e.convert({x:0,y:0});r.a=a;r.startAngle=i;r.endAngle=n;r.crp=s;r.axisStart=f;r.center=e.center;r.inner=e.y.start;return r};e._drawAxis=function t(e,r,a,i,n,o,s){var l=this.container;var u=this.canvas;var f;var c;if(e.type==="cartesian"){f=p.Line;c=this._getLineCfg(e,r,i,s)}else if(e.type==="helix"&&i==="x"){f=p.Helix;c=this._getHelixCfg(e)}else if(i==="x"){f=p.Circle;c=this._getCircleCfg(e)}else{f=p.Line;c=this._getRadiusCfg(e)}var v=this._getAxisCfg(e,r,a,i,s,n);v=y.mix({},v,c);if(i==="y"&&o&&o.get("type")==="circle"){v.circle=o}v._id=n+"-"+i;if(!y.isNil(s)){v._id=n+"-"+i+s}y.mix(v,{canvas:u,group:l.addGroup({viewId:n})});var h=new f(v);h.render();this.axes.push(h);return h};e.createAxis=function t(r,e,a){var i=this;var n=this.coord;var o=n.type;if(o!=="theta"&&!(o==="polar"&&n.isTransposed)){var s;if(r&&!i._isHide(r.field)){s=i._drawAxis(n,r,e[0],"x",a)}if(!y.isEmpty(e)&&o!=="helix"){y.each(e,function(t,e){if(!i._isHide(t.field)){i._drawAxis(n,t,r,"y",a,s,e)}})}}};e.changeVisible=function t(e){var r=this.axes;y.each(r,function(t){t.set("visible",e)})};e.clear=function t(){var e=this;var r=e.axes;y.each(r,function(t){t.destroy()});e.axes=[]};return t}();t.exports=i},function(t,e,r){var l=r(0);var u=r(350);var a=function(){function t(t){this.guides=[];this.options=[];this.xScales=null;this.yScales=null;this.view=null;this.viewTheme=null;this.frontGroup=null;this.backGroup=null;l.mix(this,t)}var e=t.prototype;e._creatGuides=function t(){var i=this;var e=this.options;var n=this.xScales;var o=this.yScales;var r=this.view;var s=this.viewTheme;if(this.backContainer&&r){this.backGroup=this.backContainer.addGroup({viewId:r.get("_id")})}if(this.frontContainer&&r){this.frontGroup=this.frontContainer.addGroup({viewId:r.get("_id")})}e.forEach(function(t){var e=t.type;var r=l.deepMix({xScales:n,yScales:o,viewTheme:s},s?s.guide[e]:{},t);e=l.upperFirst(e);var a=new u[e](r);i.guides.push(a)});return i.guides};e.line=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"line"},e));return this};e.arc=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"arc"},e));return this};e.text=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"text"},e));return this};e.image=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"image"},e));return this};e.region=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"region"},e));return this};e.regionFilter=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"regionFilter"},e));return this};e.dataMarker=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"dataMarker"},e));return this};e.dataRegion=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"dataRegion"},e));return this};e.html=function t(e){if(e===void 0){e={}}this.options.push(l.mix({type:"html"},e));return this};e.render=function t(r){var a=this;var i=a.view;var n=i&&i.get("data");var e=a._creatGuides();l.each(e,function(t){var e;if(t.get("top")){e=a.frontGroup||a.frontContainer}else{e=a.backGroup||a.backContainer}t.render(r,e,n,i)})};e.clear=function t(){this.options=[];this.reset()};e.changeVisible=function t(e){var r=this.guides;l.each(r,function(t){t.changeVisible(e)})};e.reset=function t(){var e=this.guides;l.each(e,function(t){t.clear()});this.guides=[];this.backGroup&&this.backGroup.remove();this.frontGroup&&this.frontGroup.remove()};return t}();t.exports=a},function(t,e,r){var a=r(22),i=a.Guide;var n=r(351);i.RegionFilter=n;t.exports=i},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=r(0);var i=r(15);var n=r(20),l=n.Path;var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return s.mix({},e,{name:"regionFilter",zIndex:1,top:true,start:null,end:null,color:null,apply:null,style:{opacity:1}})};e.render=function t(e,r,a,i){var n=this;var o=r.addGroup();o.name="guide-region-filter";i.once("afterpaint",function(){if(o.get("destroyed"))return;n._drawShapes(i,o);var t=n._drawClip(e);o.attr({clip:t});n.set("clip",t);n.get("appendInfo")&&o.setSilent("appendInfo",n.get("appendInfo"));n.set("el",o)})};e._drawShapes=function t(e,i){var n=this;var o=[];var r=e.getAllGeoms();r.map(function(t){var e=t.getShapes();var r=t.get("type");var a=n._geomFilter(r);if(a){e.map(function(t){var e=t.type;var r=s.cloneDeep(t.attr());n._adjustDisplay(r);var a=i.addShape(e,{attrs:r});o.push(a);return t})}return t});return o};e._drawClip=function t(e){var r=this;var a=r.parsePoint(e,r.get("start"));var i=r.parsePoint(e,r.get("end"));var n=[["M",a.x,a.y],["L",i.x,a.y],["L",i.x,i.y],["L",a.x,i.y],["z"]];var o=new l({attrs:{path:n,opacity:1}});return o};e._adjustDisplay=function t(e){var r=this;var a=r.get("color");if(e.fill){e.fill=e.fillStyle=a}e.stroke=e.strokeStyle=a};e._geomFilter=function t(e){var r=this;var a=r.get("apply");if(a){return s.contains(a,e)}return true};e.clear=function t(){r.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()};return t}(i);t.exports=o},function(t,e,r){function A(){A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){t[a]=r[a]}}}return t};return A.apply(this,arguments)}var P=r(0);var a=r(22),I=a.Legend;var T=r(353);var O=r(18);var i=r(167);var n=r(169);var L=r(7);var l="_origin";var x=4.5;var u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var b=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];function c(t,e,r){var a;if(P.isNil(r)){return false}t=r.translate(t);e=r.translate(e);if(r.isCategory){a=t===e}else{a=Math.abs(t-e)<=1}return a}function _(t,r){var a;P.each(t,function(t){if(t.get("visible")){var e=t.getYScale();if(e.field===r){a=t;return}}});return a}var o=function(){function t(t){var e=this;e.options={};P.mix(e,t);e.clear();var r=e.chart;e.container=r.get("frontPlot");e.plotRange=r.get("plotRange")}var e=t.prototype;e.clear=function t(){var e=this.legends;this.backRange=null;P.each(e,function(t){P.each(t,function(t){t.destroy()})});this.legends={}};e.getBackRange=function t(){var e=this.backRange;if(!e){var r=this.chart.get("backPlot");e=i(r,n(this.chart.get("plotRange")));var a=this.plotRange;if(e.maxX-e.minX<a.br.x-a.tl.x&&e.maxY-e.minY<a.br.y-a.tl.y){e={minX:a.tl.x,minY:a.tl.y,maxX:a.br.x,maxY:a.br.y}}this.backRange=e}return e};e._isFieldInView=function t(e,r,a){var i=false;var n=a.get("scales");var o=n[e];if(o&&o.values){i=P.inArray(o.values,r)}return i};e._bindClickEvent=function t(n,e,o){var s=this;var l=s.chart;var u=l.get("views");var f=e.field;var c=s.options;n.on("itemclick",function(t){if(c.onClick&&c.defaultClickHandlerEnabled!==true){c.onClick(t)}else{var e=t.item;var r=t.checked;var a=n.get("selectedMode")==="single";var i=e.dataValue;if(r){P.Array.remove(o,i);if(s._isFieldInView(f,i,l)){l.filter(f,function(t){return a?t===i:!P.inArray(o,t)})}P.each(u,function(t){if(s._isFieldInView(f,i,t)){t.filter(f,function(t){return a?t===i:!P.inArray(o,t)})}})}else if(!a){o.push(i);if(s._isFieldInView(f,i,l)){l.filter(f,function(t){return!P.inArray(o,t)})}P.each(u,function(t){if(s._isFieldInView(f,i,t)){t.filter(f,function(t){return!P.inArray(o,t)})}})}if(c.onClick){c.onClick(t)}l.set("keepLegend",true);l.set("keepPadding",true);l.repaint();l.set("keepPadding",false);l.set("keepLegend",false)}})};e._bindClickEventForMix=function t(e){var r=this;var a=r.chart;var i=a.getAllGeoms();e.on("itemclick",function(t){var r=t.item.field;var e=t.checked;if(e){P.each(i,function(t){var e=t.getYScale().field;if(e===r){t.show()}})}else{P.each(i,function(t){var e=t.getYScale().field;if(e===r){t.hide()}})}})};e._filterLabels=function t(r,e,a){if(r.get("gLabel")){r.get("gLabel").set("visible",a)}else{var i=e.get("labelCfg");if(i&&i.fields&&i.fields.length>0){var n=e.getXScale();var o=e.getYScale();var s=n.field;var l=o.field;var u=r.get("origin")._origin;var f=e.get("labelContainer");var c=f.get("labelsGroup").get("children");P.each(c,function(t){var e=t.get("origin")||[];if(e[s]===u[s]&&e[l]===u[l]){t.set("visible",a);r.set("gLabel",t)}})}}};e._bindFilterEvent=function t(e,r){var n=this;var o=this.chart;var s=r.field;e.on("itemfilter",function(t){var i=t.range;o.filterShape(function(t,e,r){if(!P.isNil(t[s])){var a=t[s]>=i[0]&&t[s]<=i[1];n._filterLabels(e,r,a);return a}return true});var a=o.getAllGeoms()||[];var e=function t(e){var r=a[e];if(r.get("type")==="heatmap"){u(function(){r.drawWithRange(i)})}};for(var r=0;r<a.length;r++){e(r)}})};e._getShapeData=function t(e){var r=e.get("origin");if(P.isArray(r)){r=r[0]}return r[l]};e._bindHoverEvent=function t(e,s){var l=this;var r=l.chart;var a=r.getAllGeoms();var u=l.options;var f=r.get("canvas");e.on("itemhover",function(n){var o=n.item.value;var t=l.pre;if(!t){P.each(a,function(t){var e=t.get("shapeContainer");var r=t.getShapes();var a=[];if(s){var i=t.get("scales")[s];P.each(r,function(t){var e=l._getShapeData(t);if(e&&c(e[s],o,i)){a.push(t)}})}else if(t.getYScale().field===o){a=r}if(!P.isEmpty(a)){n.shapes=a;n.geom=t;if(u.onHover){u.onHover(n);e.sort();f.draw()}else{t.setShapesActived(a)}}});l.pre=o}else if(t===o){return}});e.on("itemunhover",function(t){l.pre=null;if(u.onUnhover){u.onUnhover(t)}P.each(a,function(t){if(t.get("activeShapes")){t.clearActivedShapes();f.draw()}})})};e._isFiltered=function t(e,r,a){if(!e.isCategory){return true}var i=true;a=e.invert(a);P.each(r,function(t){if(e.getText(t)===e.getText(a)){i=false;return false}});return i};e._alignLegend=function t(e,r,a,i){var n=this;var o=n.viewTheme;var s=n.container;var l=s.get("canvas");var u=l.get("width");var f=l.get("height");var c=n.totalRegion;var v=n.plotRange;var h=n.getBackRange();var p=e.get("offset")[0]||0;var g=e.get("offset")[1]||0;var d=e.getHeight();var y=e.getWidth();var m=o.legend.margin;var x=o.legend.legendMargin;var b=n.legends[i].length;var _=i.split("-");var w=0;var S=0;var M=b>1?c:a;if(_[0]==="left"||_[0]==="right"){f=v.br.y;w=n._getXAlign(_[0],u,a,h,y,m);if(r){S=(r.get("y")||r.get("group").get("y"))+r.getHeight()+x}else{S=n._getYAlignVertical(_[1],f,M,h,0,m,l.get("height"))}}else if(_[0]==="top"||_[0]==="bottom"){S=n._getYAlignHorizontal(_[0],f,a,h,d,m);if(r){var C=r.getWidth();w=(r.get("x")||r.get("group").get("x"))+C+x}else{w=n._getXAlign(_[1],u,M,h,0,m);if(_[1]==="right")w=v.br.x-M.totalWidth}}e.move(w+p,S+g)};e._getXAlign=function t(e,r,a,i,n,o){var s=i.minX-n-o[3]<0?0:i.minX-n-o[3];var l=e==="left"?s:i.maxX+o[1];if(e==="center"){l=(r-a.totalWidth)/2}return l};e._getYAlignHorizontal=function t(e,r,a,i,n,o){var s=e==="top"?i.minY-n-o[0]:i.maxY+o[2];return s};e._getYAlignVertical=function t(e,r,a,i,n,o,s){var l=e==="top"?i.minY-n-o[0]:r-a.totalHeight;if(e==="center"){l=(s-a.totalHeight)/2}return l};e._getSubRegion=function t(e){var a=0;var i=0;var n=0;var o=0;P.each(e,function(t){var e=t.getWidth();var r=t.getHeight();if(a<e){a=e}n+=e;if(i<r){i=r}o+=r});return{maxWidth:a,totalWidth:n,maxHeight:i,totalHeight:o}};e._getRegion=function t(){var r=this;var e=r.viewTheme;var a=r.legends;var i=e.legend.legendMargin;var n=[];var o=0;var s=0;P.each(a,function(t){var e=r._getSubRegion(t);n.push(e);o+=e.totalWidth+i;s+=e.totalHeight+i});return{totalWidth:o,totalHeight:s,subs:n}};e._addCategoryLegend=function t(h,e,p,g,r){var d=this;var a=h.field;var i=d.options;var n=i[a];if(n){i=n}var o=d.legends;o[r]=o[r]||[];var s=d.container;var y=[];var l=h.getTicks();var m=true;var x=p.get("shapeType")||"point";var b=p.getDefaultValue("shape")||"circle";if(i[a]&&i[a].marker){b=i[a].marker;x="point";m=false}else if(i.marker){b=i.marker;x="point";m=false}var u=d.chart;var _=d.viewTheme;var f=u.get("canvas");var c=d.plotRange;var v=r.split("-");var w=v[0]==="right"||v[0]==="left"?c.bl.y-c.tr.y:f.get("width");P.each(l,function(t){var e=t.text;var r=e;var a=t.value;var i=h.invert(a);var n={isInCircle:p.isInCircle()};var o=g?d._isFiltered(h,g,a):true;var s=p.getAttr("color");var l=p.getAttr("shape");if(s){if(s.callback&&s.callback.length>1){var u=Array(s.callback.length-1).fill("");n.color=s.mapping.apply(s,[i].concat(u)).join("")||_.defaultColor}else{n.color=s.mapping(i).join("")||_.defaultColor}}if(m&&l){if(l.callback&&l.callback.length>1){var f=Array(l.callback.length-1).fill("");b=l.mapping.apply(l,[i].concat(f)).join("")}else{b=l.mapping(i).join("")}}var c=O.getShapeFactory(x);var v=c.getMarkerCfg(b,n);if(L.legendMarkerRadius){v.radius=L.legendMarkerRadius}if(P.isFunction(b)){v.symbol=b}y.push({value:r,dataValue:i,checked:o,marker:v})});var S=P.deepMix({},_.legend[v[0]],i[a]||i,{viewId:u.get("_id"),maxLength:w,items:y,container:s,position:[0,0]});if(S.title){P.deepMix(S,{title:{text:h.alias||h.field}})}var M;if(d._isTailLegend(i,p)){S.chart=d.chart;S.geom=p;M=new T(S)}else{if(i.useHtml){var C=s.get("canvas").get("el");s=i.container;if(P.isString(s)&&/^\#/.test(s)){var k=s.replace("#","");s=document.getElementById(k)}if(!s){s=C.parentNode}S.container=s;if(S.legendStyle===undefined)S.legendStyle={};S.legendStyle.CONTAINER_CLASS=A({},S.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":C.style.zIndex===""?1:parseInt(C.style.zIndex,10)+1});if(i.flipPage){S.legendStyle.CONTAINER_CLASS.height=v[0]==="right"||v[0]==="left"?w+"px":"auto";S.legendStyle.CONTAINER_CLASS.width=!(v[0]==="right"||v[0]==="left")?w+"px":"auto";M=new I.CatPageHtml(S)}else{M=new I.CatHtml(S)}}else{M=new I.Category(S)}}d._bindClickEvent(M,h,g);o[r].push(M);return M};e._bindChartMove=function t(o){var e=this.chart;var s=this.legends;e.on("plotmove",function(t){var e=false;if(t.target){var r=t.target.get("origin");if(r){var a=r[l]||r[0][l];var i=o.field;if(a){var n=a[i];P.each(s,function(t){P.each(t,function(t){e=true;!t.destroyed&&t.activate(n)})})}}}if(!e){P.each(s,function(t){P.each(t,function(t){!t.destroyed&&t.deactivate()})})}})};e._addContinuousLegend=function t(i,n,e){var r=this;var a=r.legends;a[e]=a[e]||[];var o=r.container;var s=i.field;var l=i.getTicks();var u=[];var f;var c;var v;var h=r.viewTheme;P.each(l,function(t){var e=t.value;var r=i.invert(e);var a=n.mapping(r).join("");u.push({value:t.tickValue,attrValue:a,color:a,scaleValue:e});if(e===0){c=true}if(e===1){v=true}});if(!c){u.push({value:i.min,attrValue:n.mapping(0).join(""),color:n.mapping(0).join(""),scaleValue:0})}if(!v){u.push({value:i.max,attrValue:n.mapping(1).join(""),color:n.mapping(1).join(""),scaleValue:1})}var p=r.options;var g=e.split("-");var d=h.legend[g[0]];if(p&&p.slidable===false||p[s]&&p[s].slidable===false){d=P.mix({},d,h.legend.gradient)}var y=P.deepMix({},d,p[s]||p,{items:u,attr:n,formatter:i.formatter,container:o,position:[0,0]});if(y.title){P.deepMix(y,{title:{text:i.alias||i.field}})}if(n.type==="color"){f=new I.Color(y)}else if(n.type==="size"){if(p&&p.sizeType==="circle")f=new I.CircleSize(y);else f=new I.Size(y)}else{return}r._bindFilterEvent(f,i);a[e].push(f);return f};e._isTailLegend=function t(e,r){if(e.hasOwnProperty("attachLast")&&e.attachLast){var a=r.get("type");if(a==="line"||a==="lineStack"||a==="area"||a==="areaStack")return true}return false};e._adjustPosition=function t(e,r){var a;if(r){a="right-top"}else if(P.isArray(e)){a=String(e[0])+"-"+String(e[1])}else{var i=e.split("-");if(i.length===1){if(i[0]==="left")a="left-bottom";if(i[0]==="right")a="right-bottom";if(i[0]==="top")a="top-center";if(i[0]==="bottom")a="bottom-center"}else{a=e}}return a};e.addLegend=function t(e,r,a,i){var n=this;var o=n.options;var s=e.field;var l=o[s];var u=n.viewTheme;if(l===false){return null}if(l&&l.custom){n.addCustomLegend(s)}else{var f=o.position||u.defaultLegendPosition;f=n._adjustPosition(f,n._isTailLegend(o,a));if(l&&l.position){f=n._adjustPosition(l.position,n._isTailLegend(l,a))}var c;if(e.isLinear){c=n._addContinuousLegend(e,r,f)}else{c=n._addCategoryLegend(e,r,a,i,f)}if(c){n._bindHoverEvent(c,s);o.reactive&&n._bindChartMove(e)}}};e.addCustomLegend=function t(e){var r=this;var a=r.chart;var i=r.viewTheme;var n=r.container;var o=r.options;if(e){o=o[e]}var s=o.position||i.defaultLegendPosition;s=r._adjustPosition(s);var l=r.legends;l[s]=l[s]||[];var u=o.items;if(!u){return}var f=a.getAllGeoms();P.each(u,function(t){var e=_(f,t.value);if(!P.isPlainObject(t.marker)){t.marker={symbol:t.marker||"circle",radius:L.legendMarkerRadius||x};if(P.indexOf(b,t.marker.symbol)!==-1){t.marker.stroke=t.fill}else{t.marker.fill=t.fill}}else{t.marker.radius=t.marker.radius||L.legendMarkerRadius||x}var r=t.marker.symbol;if(P.isString(r)&&r.indexOf("hollow")!==-1){t.marker.symbol=P.lowerFirst(r.substr(6))}t.checked=P.isNil(t.checked)?true:t.checked;t.geom=e});var c=a.get("canvas");var v=r.plotRange;var h=s.split("-");var p=h[0]==="right"||h[0]==="left"?v.bl.y-v.tr.y:c.get("width");var g=P.deepMix({},i.legend[h[0]],o,{maxLength:p,items:u,container:n,position:[0,0]});var d;if(o.useHtml){var y=o.container;if(/^\#/.test(n)){var m=y.replace("#","");y=document.getElementById(m)}else if(!y){y=n.get("canvas").get("el").parentNode}g.container=y;if(g.legendStyle===undefined)g.legendStyle={};if(!g.legendStyle.CONTAINER_CLASS){g.legendStyle.CONTAINER_CLASS={height:h[0]==="right"||h[0]==="left"?p+"px":"auto",width:!(h[0]==="right"||h[0]==="left")?p+"px":"auto",position:"absolute",overflow:"auto"}}if(o.flipPage)d=new I.CatPageHtml(g);else d=new I.CatHtml(g)}else d=new I.Category(g);l[s].push(d);d.on("itemclick",function(t){if(o.onClick){o.onClick(t)}});r._bindHoverEvent(d);return d};e.addMixedLegend=function t(e,r){var a=this;var i=a.options;var f=[];P.each(e,function(s){var l=s.alias||s.field;var u=i[s.field];P.each(r,function(t){if(t.getYScale()===s&&s.values&&s.values.length>0&&u!==false){var e=t.get("shapeType")||"point";var r=t.getDefaultValue("shape")||"circle";var a=O.getShapeFactory(e);var i={color:t.getDefaultValue("color")};var n=a.getMarkerCfg(r,i);if(L.legendMarkerRadius){n.radius=L.legendMarkerRadius}var o={value:l,marker:n,field:s.field};f.push(o)}})});var n={custom:true,items:f};a.options=P.deepMix({},n,a.options);var o=a.addCustomLegend();a._bindClickEventForMix(o)};e.alignLegends=function t(){var o=this;var e=o.legends;var r=o._getRegion(e);o.totalRegion=r;var s=0;P.each(e,function(a,i){var n=r.subs[s];P.each(a,function(t,e){var r=a[e-1];if(!(t.get("useHtml")&&!t.get("autoPosition"))){o._alignLegend(t,r,n,i)}});s++});return this};return t}();t.exports=o},function(t,e,r){function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var y=r(0);var a=r(22);var s=r(7);var n=a.Legend;var o=n.Category;var l=function(a){i(t,a);function t(){return a.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);return y.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:true})};e._addItem=function t(e){var r=this.get("itemsGroup");var a=this._getNextX();var i=0;var n=this.get("unCheckColor");var o=r.addGroup({x:0,y:0,value:e.value,scaleValue:e.scaleValue,checked:e.checked});o.translate(a,i);o.set("viewId",r.get("viewId"));var s=this.get("textStyle");var l=this.get("_wordSpaceing");var u=0;if(e.marker){var f=y.mix({},e.marker,{x:e.marker.radius,y:0});if(!e.checked){if(f.fill){f.fill=n}if(f.stroke){f.stroke=n}}var c=o.addShape("marker",{type:"marker",attrs:f});c.attr("cursor","pointer");c.name="legend-marker";u+=c.getBBox().width+l}var v=y.mix({},s,{x:u,y:0,text:this._formatItemValue(e.value)});if(!e.checked){y.mix(v,{fill:n})}var h=o.addShape("text",{attrs:v});h.attr("cursor","pointer");h.name="legend-text";this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"));var p=o.getBBox();var g=this.get("itemWidth");var d=o.addShape("rect",{attrs:{x:a,y:i-p.height/2,fill:"#fff",fillOpacity:0,width:g||p.width,height:p.height}});d.attr("cursor","pointer");d.setSilent("origin",e);d.name="legend-item";this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"));o.name="legendGroup";return o};e._adjust=function t(){var e=this;var r=e.get("geom");if(r){var a=e.get("group").attr("matrix");a[7]=0;var o=e.get("geom").get("dataArray");var i=this.get("itemsGroup").get("children");var s=0;y.each(i,function(t){var e=o[s];var r=e[e.length-1].y;if(y.isArray(r)){r=r[1]}var a=t.getBBox().height;var i=t.get("x");var n=r-a/2;t.translate(i,n);s++});if(e.get("autoLayout")){e._antiCollision(i)}}};e.render=function t(){var e=this;a.prototype.render.call(this);var r=this.get("chart");r.once("afterpaint",function(){e._adjust()})};e._getPreviousY=function t(e){var r=e.attr("matrix")[7];var a=e.getBBox().height;return r+a};e._adjustDenote=function t(e,r,a){var i=s.legend.legendMargin;var n=-2;var o=-i*2;e.addShape("path",{attrs:{path:"M"+n+","+r+"L"+o+","+(a+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})};e._antiCollision=function t(n){if(n===void 0){n=[]}if(!n.length)return;var o=this;n.sort(function(t,e){var r=t.attr("matrix")[7];var a=e.attr("matrix")[7];return r-a});var e=true;var r=o.get("chart").get("plotRange");var s=r.tl.y;var a=Math.abs(s-r.bl.y);var l=n[0].getBBox().height;var i=Number.MIN_VALUE;var u=0;var f=n.map(function(t){var e=t.attr("matrix")[7];if(e>u){u=e}if(e<i){i=e}return{size:t.getBBox().height,targets:[e-s]}});i-=s;var c=0;while(e){for(var v=0;v<f.length;v++){var h=f[v];var p=(Math.min.apply(i,h.targets)+Math.max.apply(i,h.targets))/2;h.pos=Math.min(Math.max(i,p-h.size/2),a-h.size)}e=false;c=f.length;while(c--){if(c>0){var g=f[c-1];var d=f[c];if(g.pos+g.size>d.pos){g.size+=d.size;g.targets=g.targets.concat(d.targets);f.splice(c,1);e=true}}}}c=0;var y=this.get("itemsGroup").addGroup();f.forEach(function(a){var i=s+l;a.targets.forEach(function(){var t=n[c].attr("matrix")[7];var e=a.pos+i-l/2;var r=Math.abs(t-e);if(r>l/2){o._adjustDenote(y,e,t-o.get("group").attr("matrix")[7]/2)}n[c].translate(0,-t);n[c].translate(0,e);i+=l;c++})})};return t}(o);t.exports=l},function(t,e,r){function f(){f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){t[a]=r[a]}}}return t};return f.apply(this,arguments)}var m=r(0);var c=r(18);var a=r(22),v=a.Tooltip;var i=m.MatrixUtil;var l=i.vec2;var h=["line","area","path","areaStack"];var p=["line","area"];var o=["marker","showMarker"];function n(t,i){var n=-1;m.each(t,function(t,e){var r=true;for(var a in i){if(i.hasOwnProperty(a)&&!o.includes(a)){if(!m.isObject(i[a])&&i[a]!==t[a]){r=false;break}}}if(r){n=e;return false}});return n}function s(t,e){if(!t){return false}var r="";if(!t.className)return false;if(!m.isNil(t.className.baseVal)){r=t.className.baseVal}else{r=t.className}return r.includes(e)}function u(t,e){var r=t.parentNode;var a=false;while(r&&r!==document.body){if(s(r,e)){a=true;break}r=r.parentNode}return a}function g(t){var r=[];m.each(t,function(t){var e=n(r,t);if(e===-1){r.push(t)}else{r[e]=t}});return r}var d=function(){function t(t){m.assign(this,t);this.timeStamp=0;this.locked=false}var e=t.prototype;e._normalizeEvent=function t(e){var r=this.chart;var a=this._getCanvas();var i=a.getPointByClient(e.clientX,e.clientY);var n=a.get("pixelRatio");i.x=i.x/n;i.y=i.y/n;var o=r.getViewsByPoint(i);i.views=o;return i};e._getCanvas=function t(){return this.chart.get("canvas")};e._getTriggerEvent=function t(){var e=this.options;var r=e.triggerOn;var a;if(!r||r==="mousemove"){a="plotmove"}else if(r==="click"){a="plotclick"}else if(r==="none"){a=null}return a};e._getDefaultTooltipCfg=function t(){var e=this;var r=e.chart;var a=e.viewTheme;var i=e.options;var n=m.mix({},a.tooltip);var o=r.getAllGeoms().filter(function(t){return t.get("visible")});var s=[];m.each(o,function(t){var e=t.get("type");var r=t.get("adjusts");var a=false;if(r){m.each(r,function(t){if(t.type==="symmetric"||t.type==="Symmetric"){a=true;return false}})}if(m.indexOf(s,e)===-1&&!a){s.push(e)}});var l=o.length&&o[0].get("coord")?o[0].get("coord").isTransposed:false;var u;if(o.length&&o[0].get("coord")&&o[0].get("coord").type==="cartesian"){if(s[0]==="interval"&&i.shared!==false){var f=m.mix({},a.tooltipCrosshairsRect);f.isTransposed=l;u={zIndex:0,crosshairs:f}}else if(m.indexOf(p,s[0])>-1){var c=m.mix({},a.tooltipCrosshairsLine);c.isTransposed=l;u={crosshairs:c}}}return m.mix(n,u,{})};e._bindEvent=function t(){var e=this.chart;var r=this._getTriggerEvent();if(r){e.on(r,m.wrapBehavior(this,"onMouseMove"));e.on("plotleave",m.wrapBehavior(this,"onMouseOut"))}};e._offEvent=function t(){var e=this.chart;var r=this._getTriggerEvent();if(r){e.off(r,m.getWrapBehavior(this,"onMouseMove"));e.off("plotleave",m.getWrapBehavior(this,"onMouseOut"))}};e._setTooltip=function t(e,r,a,i){var n=this;var o=n.tooltip;var s=n.prePoint;if(!s||s.x!==e.x||s.y!==e.y){r=g(r);n.prePoint=e;var l=n.chart;var u=n.viewTheme;var f=m.isArray(e.x)?e.x[e.x.length-1]:e.x;var c=m.isArray(e.y)?e.y[e.y.length-1]:e.y;if(!o.get("visible")){l.emit("tooltip:show",{x:f,y:c,tooltip:o})}var v=r[0];var h=v.title||v.name;if(o.isContentChange(h,r)){l.emit("tooltip:change",{tooltip:o,x:f,y:c,items:r});h=r[0].title||r[0].name;o.setContent(h,r);if(!m.isEmpty(a)){if(n.options.hideMarkers===true){o.set("markerItems",a)}else{o.setMarkers(a,u.tooltipMarker)}}else{o.clearMarkers();o.set("markerItems",[])}}var p=this._getCanvas();if(i===p&&o.get("type")==="mini"){o.hide()}else{o.setPosition(f,c,i);o.show()}}};e.hideTooltip=function t(){var e=this.tooltip;var r=this.chart;var a=this._getCanvas();this.prePoint=null;e.hide();r.emit("tooltip:hide",{tooltip:e});a.draw()};e.onMouseMove=function t(e){if(m.isEmpty(e.views)||this.locked){return}var r=this.timeStamp;var a=+new Date;var i={x:e.x,y:e.y};if(a-r>16&&!this.chart.get("stopTooltip")){this.showTooltip(i,e.views,e.shape);this.timeStamp=a}};e.onMouseOut=function t(e){var r=this.tooltip;if(!r.get("visible")||!r.get("follow")||this.locked){return}if(e&&e.toElement&&(s(e.toElement,"g2-tooltip")||u(e.toElement,"g2-tooltip"))){return}this.hideTooltip()};e.renderTooltip=function t(){var r=this;if(r.tooltip){return}var a=r.chart;var e=r.viewTheme;var i=r._getCanvas();var n=r._getDefaultTooltipCfg();var o=r.options;o=m.deepMix({plotRange:a.get("plotRange"),capture:false,canvas:i,frontPlot:a.get("frontPlot"),viewTheme:e.tooltip,backPlot:a.get("backPlot")},n,o);if(o.crosshairs&&o.crosshairs.type==="rect"){o.zIndex=0}o.visible=false;var s;if(o.type==="mini"){o.crosshairs=false;o.position="top";s=new v.Mini(o)}else if(o.useHtml){s=new v.Html(o)}else{s=new v.Canvas(o)}r.tooltip=s;var l=r._getTriggerEvent();var u=s.get("container");if(!s.get("enterable")&&l==="plotmove"){if(u){u.onmousemove=function(t){var e=r._normalizeEvent(t);a.emit(l,e)}}}if(u){u.onmouseleave=function(){if(!r.locked){r.hideTooltip()}}}r._bindEvent()};e._formatMarkerOfItem=function t(e,r,a){var i=this;var n=i.options;var o=a.point;if(o&&o.x&&o.y){var s=m.isArray(o.x)?o.x[o.x.length-1]:o.x;var l=m.isArray(o.y)?o.y[o.y.length-1]:o.y;o=e.applyMatrix(s,l,1);a.x=o[0];a.y=o[1];a.showMarker=true;if(a.color.substring(0,2)==="l("&&(!n.hasOwnProperty("useHtml")||n.useHtml)){a.color=a.color.split(" ")[1].substring(2)}var u=i._getItemMarker(r,a);a.marker=u;if(m.indexOf(h,r.get("type"))!==-1){return a}}return null};e.lockTooltip=function t(){this.locked=true};e.unlockTooltip=function t(){this.locked=false};e.showTooltip=function t(v,e,r){var h=this;var p=this;if(m.isEmpty(e)||!v){return}if(!this.tooltip){this.renderTooltip()}var g=p.options;var d=[];var y=[];m.each(e,function(t){if(!t.get("tooltipEnable")){return true}var e=t.get("geoms");var c=t.get("coord");m.each(e,function(a){var t=a.get("type");if(a.get("visible")&&a.get("tooltipCfg")!==false){var e=a.get("dataArray");if(a.isShareTooltip()||g.shared===false&&m.inArray(["area","line","path","polygon"],t)){var r=a.getXScale();var i=a.getAttr("color");var n=i?i.field:undefined;if(t==="interval"&&r.field===n&&a.hasAdjust("dodge")){var o=m.find(e,function(t){return!!a.findPoint(v,t)});m.each(o,function(t){var e=a.getTipItems(t,g.title);m.each(e,function(t){var e=p._formatMarkerOfItem(c,a,t);if(e){d.push(e)}});y=y.concat(e)})}else{m.each(e,function(t){var e=a.findPoint(v,t);if(e){var r=a.getTipItems(e,g.title);m.each(r,function(t){var e=p._formatMarkerOfItem(c,a,t);if(e){d.push(e)}});y=y.concat(r)}})}}else{var s=a.get("shapeContainer");var l=s.get("canvas");var u=l.get("pixelRatio");var f=s.getShape(v.x*u,v.y*u);if(f&&f.get("visible")&&f.get("origin")){y=a.getTipItems(f.get("origin"),g.title)}m.each(y,function(t){var e=h._formatMarkerOfItem(c,a,t);if(e){d.push(e)}})}}});m.each(y,function(t){var e=t.point;var r=m.isArray(e.x)?e.x[e.x.length-1]:e.x;var a=m.isArray(e.y)?e.y[e.y.length-1]:e.y;e=c.applyMatrix(r,a,1);t.x=e[0];t.y=e[1]})});if(y.length){var a=y[0];if(!y.every(function(t){return t.title===a.title})){var i=a;var n=Infinity;y.forEach(function(t){var e=l.distance([v.x,v.y],[t.x,t.y]);if(e<n){n=e;i=t}});y=y.filter(function(t){return t.title===i.title});d=d.filter(function(t){return t.title===i.title})}if(g.shared===false&&y.length>1){var o=y[0];var s=Math.abs(v.y-o.y);m.each(y,function(t){if(Math.abs(v.y-t.y)<=s){o=t;s=Math.abs(v.y-t.y)}});if(o&&o.x&&o.y){d=[o]}y=[o]}p._setTooltip(v,y,d,r)}else{p.hideTooltip()}};e.clear=function t(){var e=this.tooltip;e&&e.destroy();this.tooltip=null;this.prePoint=null;this._offEvent()};e._getItemMarker=function t(e,r){var a=this.options;var i=a.marker||this.viewTheme.tooltip.marker;if(m.isFunction(i)){var n=e.get("shapeType")||"point";var o=e.getDefaultValue("shape")||"circle";var s=c.getShapeFactory(n);var l={color:r.color};var u=s.getMarkerCfg(o,l);return i(u,r)}return f({fill:r.color},i)};return t}();t.exports=d},function(t,e,r){var f=r(0);function c(t,e){if(f.isNil(t)||f.isNil(e)){return false}var r=t.get("origin");var a=e.get("origin");if(f.isNil(r)&&f.isNil(a)){return f.isEqual(t,e)}return f.isEqual(r,a)}function v(t){if(t.shape&&t.shape.get("origin")){t.data=t.shape.get("origin")}}var a=function(){function t(t){this.view=null;this.canvas=null;f.assign(this,t);this._init()}var e=t.prototype;e._init=function t(){this.pixelRatio=this.canvas.get("pixelRatio")};e._getShapeEventObj=function t(e){return{x:e.x/this.pixelRatio,y:e.y/this.pixelRatio,target:e.target,toElement:e.event.toElement||e.event.relatedTarget}};e._getShape=function t(e,r){var a=this.view;var i=a.get("canvas");return i.getShape(e,r)};e._getPointInfo=function t(e){var r=this.view;var a={x:e.x/this.pixelRatio,y:e.y/this.pixelRatio};var i=r.getViewsByPoint(a);a.views=i;return a};e._getEventObj=function t(e,r,a){return{x:r.x,y:r.y,target:e.target,toElement:e.event.toElement||e.event.relatedTarget,views:a}};e.bindEvents=function t(){var e=this.canvas;e.on("mousedown",f.wrapBehavior(this,"onDown"));e.on("mousemove",f.wrapBehavior(this,"onMove"));e.on("mouseleave",f.wrapBehavior(this,"onOut"));e.on("mouseup",f.wrapBehavior(this,"onUp"));e.on("click",f.wrapBehavior(this,"onClick"));e.on("dblclick",f.wrapBehavior(this,"onClick"));e.on("touchstart",f.wrapBehavior(this,"onTouchstart"));e.on("touchmove",f.wrapBehavior(this,"onTouchmove"));e.on("touchend",f.wrapBehavior(this,"onTouchend"))};e._triggerShapeEvent=function t(e,r,a){if(e&&e.name&&!e.get("destroyed")){var i=this.view;if(i.isShapeInView(e)){var n=e.name+":"+r;a.view=i;a.appendInfo=e.get("appendInfo");i.emit(n,a);var o=i.get("parent");if(o){o.emit(n,a)}}}};e.onDown=function t(e){var r=this.view;var a=this._getShapeEventObj(e);a.shape=this.currentShape;v(a);r.emit("mousedown",a);this._triggerShapeEvent(this.currentShape,"mousedown",a)};e.onMove=function t(e){var r=this;var a=r.view;var i=r.currentShape;if(i&&i.get("destroyed")){i=null;r.currentShape=null}var n=r._getShape(e.x,e.y)||e.currentTarget;var o=r._getShapeEventObj(e);o.shape=n;v(o);a.emit("mousemove",o);r._triggerShapeEvent(n,"mousemove",o);if(i&&!c(i,n)){var s=r._getShapeEventObj(e);s.shape=i;s.toShape=n;v(s);r._triggerShapeEvent(i,"mouseleave",s)}if(n&&!c(i,n)){var l=r._getShapeEventObj(e);l.shape=n;l.fromShape=i;v(l);r._triggerShapeEvent(n,"mouseenter",l)}r.currentShape=n;var u=r._getPointInfo(e);var f=r.curViews||[];if(f.length===0&&u.views.length){a.emit("plotenter",r._getEventObj(e,u,u.views))}if(f.length&&u.views.length===0){a.emit("plotleave",r._getEventObj(e,u,f))}if(u.views.length){o=r._getEventObj(e,u,u.views);o.shape=n;v(o);a.emit("plotmove",o)}r.curViews=u.views};e.onOut=function t(e){var r=this;var a=r.view;var i=r._getPointInfo(e);var n=r.curViews||[];var o=r._getEventObj(e,i,n);if(r.curViews&&r.curViews.length!==0&&(!o.toElement||o.toElement.tagName!=="CANVAS")){a.emit("plotleave",o);r.curViews=[]}};e.onUp=function t(e){var r=this.view;var a=this._getShapeEventObj(e);a.shape=this.currentShape;r.emit("mouseup",a);this._triggerShapeEvent(this.currentShape,"mouseup",a)};e.onClick=function t(e){var r=this;var a=r.view;var i=r._getShape(e.x,e.y)||e.currentTarget;var n=r._getShapeEventObj(e);n.shape=i;v(n);a.emit("click",n);r._triggerShapeEvent(i,e.type,n);r.currentShape=i;var o=r._getPointInfo(e);var s=o.views;if(!f.isEmpty(s)){var l=r._getEventObj(e,o,s);if(r.currentShape){var u=r.currentShape;l.shape=u;v(l)}if(e.type==="dblclick"){a.emit("plotdblclick",l);a.emit("dblclick",n)}else{a.emit("plotclick",l)}}};e.onTouchstart=function t(e){var r=this.view;var a=this._getShape(e.x,e.y)||e.currentTarget;var i=this._getShapeEventObj(e);i.shape=a;v(i);r.emit("touchstart",i);this._triggerShapeEvent(a,"touchstart",i);this.currentShape=a};e.onTouchmove=function t(e){var r=this.view;var a=this._getShape(e.x,e.y)||e.currentTarget;var i=this._getShapeEventObj(e);i.shape=a;v(i);r.emit("touchmove",i);this._triggerShapeEvent(a,"touchmove",i);this.currentShape=a};e.onTouchend=function t(e){var r=this.view;var a=this._getShapeEventObj(e);a.shape=this.currentShape;v(a);r.emit("touchend",a);this._triggerShapeEvent(this.currentShape,"touchend",a)};e.clearEvents=function t(){var e=this.canvas;e.off("mousemove",f.getWrapBehavior(this,"onMove"));e.off("mouseleave",f.getWrapBehavior(this,"onOut"));e.off("mousedown",f.getWrapBehavior(this,"onDown"));e.off("mouseup",f.getWrapBehavior(this,"onUp"));e.off("click",f.getWrapBehavior(this,"onClick"));e.off("dblclick",f.getWrapBehavior(this,"onClick"));e.off("touchstart",f.getWrapBehavior(this,"onTouchstart"));e.off("touchmove",f.getWrapBehavior(this,"onTouchmove"));e.off("touchend",f.getWrapBehavior(this,"onTouchend"))};return t}();t.exports=a},function(t,e,r){var p=r(0);var n=r(126);var a=p.MatrixUtil;var g=a.mat3;function v(t,r){var a=[];if(t.get("animate")===false){return[]}var e=t.get("children");p.each(e,function(t){if(t.isGroup){a=a.concat(v(t,r))}else if(t.isShape&&t._id){var e=t._id;e=e.split("-")[0];if(e===r){a.push(t)}}});return a}function h(t){var r={};p.each(t,function(t){if(!t._id||t.isClip)return;var e=t._id;r[e]={_id:e,type:t.get("type"),attrs:p.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}});return r}function d(t,e,r,a){var i;if(a){i=n.Action[r][a]}else{i=n.getAnimation(t,e,r)}return i}function y(t,e,r){var a=n.getAnimateCfg(t,e);if(r&&r[e]){return p.deepMix({},a,r[e])}return a}function m(r,t,f,e){var c;var v;var h=false;if(e){var a=[];var i=[];p.each(t,function(t){var e=r[t._id];if(!e){i.push(t)}else{t.setSilent("cacheShape",e);a.push(t);delete r[t._id]}});p.each(r,function(t){var e=t.name,r=t.coord,a=t._id,i=t.attrs,n=t.index,o=t.type;v=y(e,"leave",t.animateCfg);c=d(e,r,"leave",v.animation);if(p.isFunction(c)){var s=f.addShape(o,{attrs:i,index:n});s._id=a;s.name=e;if(r&&e!=="label"){var l=s.getMatrix();var u=g.multiply([],l,r.matrix);s.setMatrix(u)}h=true;c(s,v,r)}});p.each(a,function(t){var e=t.name;var r=t.get("coord");var a=t.get("cacheShape").attrs;if(!p.isEqual(a,t.attr())){v=y(e,"update",t.get("animateCfg"));c=d(e,r,"update",v.animation);if(p.isFunction(c)){c(t,v,r)}else{var i=p.cloneDeep(t.attr());t.attr(a);t.animate(i,v.duration,v.easing,function(){t.setSilent("cacheShape",null)})}h=true}});p.each(i,function(t){var e=t.name;var r=t.get("coord");v=y(e,"enter",t.get("animateCfg"));c=d(e,r,"enter",v.animation);if(p.isFunction(c)){c(t,v,r);h=true}})}else{p.each(t,function(t){var e=t.name;var r=t.get("coord");v=y(e,"appear",t.get("animateCfg"));c=d(e,r,"appear",v.animation);if(p.isFunction(c)){c(t,v,r);h=true}})}return h}t.exports={execAnimation:function t(e,r){var a=e.get("middlePlot");var i=e.get("backPlot");var n=e.get("_id");var o=e.get("canvas");var s=o.get(n+"caches")||[];if(s.length===0){r=false}var l=v(a,n);var u=v(i,n);var f=l.concat(u);o.setSilent(n+"caches",h(f));var c;if(r){c=m(s,f,o,r)}else{c=m(s,l,o,r)}if(!c){o.draw()}}}},function(t,e,r){var d=r(0);var a=r(16),i=a.Group;var o="auto";var n=function t(e){t.superclass.constructor.call(this,e)};d.extend(n,i);d.augment(n,{getDefaultCfg:function t(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function t(){this._calculateRange()},_renderUI:function t(){this._renderBackground();this._renderPlotBackground()},_renderBackground:function t(){var e=this;var r=e.get("background");if(r){var a=this.get("canvas");var i=e.get("width")||a.get("width");var n=e.get("height")||a.get("height");var o={x:0,y:0,width:i,height:n};var s=e.get("backgroundShape");if(!s){s=this.addShape("rect",{attrs:d.mix(o,r)});this.set("backgroundShape",s)}else{s.attr(o)}}else{return}},_renderPlotBackground:function t(){var e=this;var r=e.get("plotBackground");if(r){var a=e.get("plotRange");var i=a.br.x-a.bl.x;var n=a.br.y-a.tr.y;var o=a.tl;var s={x:o.x,y:o.y,width:i,height:n};var l=e.get("plotBackShape");if(!l){if(r.image){s.img=r.image;l=e.addShape("image",{attrs:s})}else{d.mix(s,r);l=e.addShape("rect",{attrs:s})}e.set("plotBackShape",l)}else{l.attr(s)}}else{return}},_convert:function t(e,r){if(d.isString(e)){if(e===o){e=0}else if(e.includes("%")){var a=this.get("canvas");var i=this.get("width")||a.get("width");var n=this.get("height")||a.get("height");e=parseInt(e,10)/100;e=r?e*i:e*n}}return e},_calculateRange:function t(){var e=this;var r=e.get("plotRange");if(d.isNil(r)){r={}}var a=e.get("padding");var i=this.get("canvas");var n=e.get("width")||i.get("width");var o=e.get("height")||i.get("height");var s=d.toAllPadding(a);var l=e._convert(s[0],false);var u=e._convert(s[1],true);var f=e._convert(s[2],false);var c=e._convert(s[3],true);var v=Math.min(c,n-u);var h=Math.max(c,n-u);var p=Math.min(o-f,l);var g=Math.max(o-f,l);r.tl={x:v,y:p};r.tr={x:h,y:p};r.bl={x:v,y:g};r.br={x:h,y:g};r.cc={x:(h+v)/2,y:(g+p)/2};this.set("plotRange",r)},repaint:function t(){this._calculateRange();this._renderBackground();this._renderPlotBackground();return this}});t.exports=n},function(t,e,r){var g=r(7);var l=r(0);function d(t,e){var r=t.length;if(l.isString(t[0])){t=t.map(function(t){return e.translate(t)})}var a=t[1]-t[0];for(var i=2;i<r;i++){var n=t[i]-t[i-1];if(a>n){a=n}}return a}var a={getDefaultSize:function t(){var e=this.get("defaultSize");var r=this.get("viewTheme")||g;if(!e){var a=this.get("coord");var i=this.getXScale();var n=i.values;var o=this.get("dataArray");var s;if(i.isLinear&&n.length>1){n.sort();var l=d(n,i);s=(i.max-i.min)/l;if(n.length>s){s=n.length}}else{s=n.length}var u=i.range;var f=1/s;var c=1;if(this.isInCircle()){if(a.isTransposed&&s>1){c=r.widthRatio.multiplePie}else{c=r.widthRatio.rose}}else{if(i.isLinear){f*=u[1]-u[0]}c=r.widthRatio.column}f*=c;if(this.hasAdjust("dodge")){var v=this._getDodgeCfg(o),h=v.dodgeCount,p=v.dodgeRatio;f=f/h;if(p>0){f=p*f/c}}e=f;this.set("defaultSize",e)}return e},_getDodgeCfg:function t(e){var r=this.get("adjusts");var a;var i;var n=e.length;l.each(r,function(t){if(t.type==="dodge"){a=t.dodgeBy;i=t.dodgeRatio}});if(a){var o=l.Array.merge(e);var s=l.Array.values(o,a);n=s.length}return{dodgeCount:n,dodgeRatio:i}},getDimWidth:function t(e){var r=this.get("coord");var a=r.convertPoint({x:0,y:0});var i=r.convertPoint({x:e==="x"?1:0,y:e==="x"?0:1});var n=0;if(a&&i){n=Math.sqrt(Math.pow(i.x-a.x,2)+Math.pow(i.y-a.y,2))}return n},_getWidth:function t(){var e=this.get("coord");var r;if(this.isInCircle()&&!e.isTransposed){r=(e.endAngle-e.startAngle)*e.radius}else{r=this.getDimWidth("x")}return r},_toNormalizedSize:function t(e){var r=this._getWidth();return e/r},_toCoordSize:function t(e){var r=this._getWidth();return r*e},getNormalizedSize:function t(e){var r=this.getAttrValue("size",e);if(l.isNil(r)){r=this.getDefaultSize()}else{r=this._toNormalizedSize(r)}return r},getSize:function t(e){var r=this.getAttrValue("size",e);if(l.isNil(r)){var a=this.getDefaultSize();r=this._toCoordSize(a)}return r}};t.exports=a},function(t,e,r){var l=r(0);var u=r(7);t.exports={splitData:function t(e){var r=this.get("viewTheme")||u;if(!e.length)return[];var a=[];var i=[];var n=this.getYScale();var o=n.field;var s;l.each(e,function(t){s=t._origin?t._origin[o]:t[o];if(r.connectNulls){if(!l.isNil(s)){i.push(t)}}else{if(l.isArray(s)&&l.isNil(s[0])||l.isNil(s)){if(i.length){a.push(i);i=[]}}else{i.push(t)}}});if(i.length){a.push(i)}return a}}},function(t,e,r){function i(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var a=r(21);var o=r(359);var l=r(0);var s=function(a){n(e,a);var t=e.prototype;t.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);e.type="path";e.shapeType="line";return e};function e(t){var e;e=a.call(this,t)||this;l.assign(i(e),o);return e}t.getDrawCfg=function t(e){var r=a.prototype.getDrawCfg.call(this,e);r.isStack=this.hasStack();return r};t.draw=function t(e,a,i,n){var o=this;var r=this.splitData(e);var s=this.getDrawCfg(e[0]);o._applyViewThemeShapeStyle(s,s.shape,i);s.origin=e;l.each(r,function(t,e){if(!l.isEmpty(t)){s.splitedIndex=e;s.points=t;var r=i.drawShape(s.shape,s,a);o.appendShapeInfo(r,n+e)}})};return e}(a);a.Path=s;t.exports=s},function(t,e,r){"use strict";var a=r(371);var i=r(372);function n(r){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i["b"]&&t.documentElement.namespaceURI===i["b"]?t.createElement(r):t.createElementNS(e,r)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}e["a"]=function(t){var e=Object(a["a"])(t);return(e.local?o:n)(e)}},function(t,e,r){"use strict";e["a"]=function(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();a.x=e.clientX,a.y=e.clientY;a=a.matrixTransform(t.getScreenCTM().inverse());return[a.x,a.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,r){"use strict";e["b"]=a;var f=r(46);function s(i,n){var o,s;return function(){var t=Object(f["h"])(this,i),e=t.tween;if(e!==o){s=o=e;for(var r=0,a=s.length;r<a;++r){if(s[r].name===n){s=s.slice();s.splice(r,1);break}}}t.tween=s}}function l(n,o,s){var l,u;if(typeof s!=="function")throw new Error;return function(){var t=Object(f["h"])(this,n),e=t.tween;if(e!==l){u=(l=e).slice();for(var r={name:o,value:s},a=0,i=u.length;a<i;++a){if(u[a].name===o){u[a]=r;break}}if(a===i)u.push(r)}t.tween=u}}e["a"]=function(t,e){var r=this._id;t+="";if(arguments.length<2){var a=Object(f["f"])(this.node(),r).tween;for(var i=0,n=a.length,o;i<n;++i){if((o=a[i]).name===t){return o.value}}return null}return this.each((e==null?s:l)(r,t,e))};function a(t,e,r){var a=t._id;t.each(function(){var t=Object(f["h"])(this,a);(t.value||(t.value={}))[e]=r.apply(this,arguments)});return function(t){return Object(f["f"])(t,a).value[e]}}},function(t,e,r){var a=r(7);var i=r(0);var n=i.assign;var f=i.isNil;var c=i.isArray;var o=i.cloneDeep;var s=i.wrapBehavior;var l=i.getWrapBehavior;var u=function(){var t=e.prototype;t.getDefaultCfg=function t(){return{chart:null,group:null,showTitle:true,autoSetAxis:true,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:a.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:a.fontFamily}}}};function e(t){var e=this.getDefaultCfg();n(this,e,t);this.init()}t.init=function t(){if(!this.chart){throw new Error("Facets Error: please specify the chart!")}this._bindEvent();this.initContainer();if(this.chart.get("data")){this.initViews()}};t.initContainer=function t(){var e=this.chart;var r=e.get("frontPlot");var a=r.addGroup();this.group=a};t.initViews=function t(){var e=this.chart;var r=e.get("data");var a=this.eachView;var i=this.generateFacets(r);for(var n=0;n<i.length;n++){var o=i[n];var s=o.region;var l=e.view({start:s.start,end:s.end,padding:this.padding});l.source(o.data);this.beforeProcessView(l,o);if(a){a(l,o)}this.afterProcessView(l,o);o.view=l}this.facets=i};t.beforeProcessView=function t(){};t.afterProcessView=function t(e,r){if(this.autoSetAxis){this.processAxis(e,r)}};t.processAxis=function t(e,r){var a=e.get("options");var i=e.get("geoms");if((!a.coord.type||a.coord.type==="rect")&&i.length){var n=i[0].get("attrOptions").position.field;var o=c(n)?n:n.split("*").map(function(t){return t.trim()});var s=o[0];var l=o[1];if(f(a.axes)){a.axes={}}var u=a.axes;if(u!==false){if(s&&u[s]!==false){u[s]=u[s]||{};this.setXAxis(s,u,r)}if(l&&u[l]!==false){u[l]=u[l]||{};this.setYAxis(l,u,r)}}}};t.setXAxis=function t(){};t.setYAxis=function t(){};t.renderTitle=function t(e,r){this.drawColTitle(e,r)};t.getScaleText=function t(e,r,a){var i;if(e){var n=a.get("scales");var o=n[e];if(!o){o=a.createScale(e)}i=o.getText(r)}else{i=r}return i};t.drawColTitle=function t(e,r){var a=this.getScaleText(r.colField,r.colValue,e);var i=n({position:["50%","0%"],content:a},this.colTitle);e.guide().text(i)};t.drawRowTitle=function t(e,r){var a=this.getScaleText(r.rowField,r.rowValue,e);var i=n({position:["100%","50%"],content:a},o(this.rowTitle));e.guide().text(i)};t.getFilter=function t(e){var r=function t(i){var n=true;e.forEach(function(t){var e=t.field;var r=t.value;var a=true;if(!f(r)&&e){a=i[e]===r}n=n&&a});return n};return r};t.getFieldValues=function t(e,r){var a=[];var i={};for(var n=0;n<r.length;n++){var o=r[n];var s=o[e];if(!f(s)&&!i[s]){a.push(s);i[s]=true}}return a};t.getRegion=function t(e,r,a,i){var n=1/r;var o=1/e;var s={x:n*a,y:o*i};var l={x:s.x+n,y:s.y+o};return{start:s,end:l}};t.generateFacets=function t(){return[]};t._bindEvent=function t(){var e=this.chart;e.on("afterchangedata",s(this,"onDataChange"));e.on("beforeclear",s(this,"onClear"));e.on("beforedestroy",s(this,"destroy"));e.on("beforepaint",s(this,"onPaint"));e.on("setdata",s(this,"onDataChange"))};t._clearEvent=function t(){var e=this.chart;if(e){e.off("afterchangedata",l(this,"onDataChange"));e.off("beforeclear",l(this,"onClear"));e.off("beforedestroy",l(this,"destroy"));e.off("beforepaint",l(this,"onPaint"));e.off("setdata",l(this,"onDataChange"))}};t._clearFacets=function t(){var e=this.facets;var r=this.chart;if(e){for(var a=0;a<e.length;a++){var i=e[a];r.removeView(i.view)}}this.facets=null};t.onClear=function t(){this.onRemove()};t.onPaint=function t(){if(this.showTitle){var e=this.facets;for(var r=0;r<e.length;r++){var a=e[r];var i=a.view;this.renderTitle(i,a)}}};t.onDataChange=function t(){this._clearFacets();this.initViews()};t.onRemove=function t(){this._clearFacets();this._clearEvent();this.group&&this.group.remove();this.chart=null;this.facets=null;this.group=null};t.destroy=function t(){this.onRemove();this.destroyed=true};return e}();t.exports=u},function(t,e,r){function i(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var a=r(21);var o=r(0);var s=r(358);r(366);var l=function(a){n(e,a);var t=e.prototype;t.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);e.type="interval";e.shapeType="interval";e.generatePoints=true;return e};function e(t){var e;e=a.call(this,t)||this;o.assign(i(e),s);return e}t.createShapePointsCfg=function t(e){var r=a.prototype.createShapePointsCfg.call(this,e);r.size=this.getNormalizedSize(e);return r};t.clearInner=function t(){a.prototype.clearInner.call(this);this.set("defaultSize",null)};return e}(a);var u=function(r){n(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"stack"}];return e};return t}(l);var f=function(r){n(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"dodge"}];return e};return t}(l);var c=function(r){n(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"symmetric"}];return e};return t}(l);l.Stack=u;l.Dodge=f;l.Symmetric=c;a.Interval=l;a.IntervalStack=u;a.IntervalDodge=f;a.IntervalSymmetric=c;t.exports=l},function(t,e,r){var k=r(0);var a=r(18);var u=r(23);var i=r(45);var g=r(7);var p=r(16);var A=k.PathUtil;function n(t,e){var r=t.x;var a=t.y;var i=t.y0;var n=t.size;var o=i;var s=a;if(k.isArray(a)){s=a[1];o=a[0]}var l;var u;if(k.isArray(r)){l=r[0];u=r[1]}else{l=r-n/2;u=r+n/2}var f=[];f.push({x:l,y:o},{x:l,y:s});if(e){f.push({x:u,y:(s+o)/2})}else{f.push({x:u,y:s},{x:u,y:o})}return f}function f(t){var e=[];for(var r=0;r<t.length;r++){var a=t[r];if(a){var i=r===0?"M":"L";e.push([i,a.x,a.y])}}var n=t[0];e.push(["L",n.x,n.y]);e.push(["z"]);return e}function o(t){var r=t.x;var e=t.y;var a=t.y0;var i=[];if(k.isArray(e)){k.each(e,function(t,e){i.push({x:k.isArray(r)?r[e]:r,y:t})})}else{i.push({x:r,y:e},{x:r,y:a})}return i}function s(t){var e=t.x;var r=k.isArray(t.y)?t.y[1]:t.y;var a=k.isArray(t.y)?t.y[0]:t.y0;var i=t.size;var n=[];n.push({x:e-i/2,y:r},{x:e+i/2,y:r},{x:e,y:r},{x:e,y:a},{x:e-i/2,y:a},{x:e+i/2,y:a});return n}function l(t){var e=[];e.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]);return e}function P(t){var e=g.shape.interval;var r=k.mix({},e,t.style);i.addFillAttrs(r,t);if(t.color){r.stroke=r.stroke||t.color}return r}function I(t){var e=g.shape.hollowInterval;var r=k.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}function c(t,e){var r=[];var a=t.points;var i=t.nextPoints;if(!k.isNil(i)){r.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"])}else if(e){r.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",a[2].x,a[2].y],["L",a[3].x,a[3].y],["Z"])}else{r.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",a[2].x,a[2].y],["L",a[2].x,a[2].y],["Z"])}return r}function v(t,e){var r=e.getRadius();var a=e.innerRadius;var i;var n;var o=r*a;var s;var l;if(!k.isArray(t.x)&&k.isArray(t.y)){t.x=[t.x,t.x]}if(k.isArray(t.x)){s={x:t.x[0],y:t.y[0]};l={x:t.x[1],y:t.y[1]};i=u.getPointAngle(e,s);n=u.getPointAngle(e,l);if(n<=i){n=n+Math.PI*2}}else{l=t;i=e.startAngle;n=u.getPointAngle(e,l)}return{r:r,ir:o,startAngle:i,endAngle:n}}function h(t,e){var r=e.geom;var a=r.get("coord");var i=e.point;var n=7.5;var o;if(a&&a.type==="theta"){var s=v(i,a);var l=(s.endAngle-s.startAngle)/2+s.startAngle;var u=n*Math.cos(l);var f=n*Math.sin(l);o={transform:[["t",u,f]]}}return k.mix({},o)}var d=a.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function t(e,r){if(!e||k.inArray(["rect","funnel","pyramid"],e)){var a=r.fillOpacity||r.opacity||1;return{fillOpacity:a-.15}}var i=r.lineWidth||0;return{lineWidth:i+1}},getDefaultPoints:function t(e){return n(e)},getSelectedCfg:function t(e,r){return h(e,r)}});a.registerShape("interval","rect",{draw:function t(e,r){var a=P(e);var i=f(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=P(e);var a=e.isInCircle;return k.mix({symbol:a?"circle":"square",radius:a?4.5:4},r)}});a.registerShape("interval","hollowRect",{draw:function t(e,r){var a=I(e);var i=f(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=I(e);var a=e.isInCircle;return k.mix({symbol:a?"circle":"square",radius:a?4.5:4},r)}});a.registerShape("interval","line",{getPoints:function t(e){return o(e)},draw:function t(e,r){var a=I(e);a.lineWidth=e.size||1;var i=f(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=I(e);return k.mix({symbol:"line",radius:5},r)}});a.registerShape("interval","tick",{getPoints:function t(e){return s(e)},draw:function t(e,r){var a=I(e);if(!a.lineWidth){a.lineWidth=2}var i=l(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=I(e);return k.mix({symbol:"tick",radius:5},r)}});a.registerShape("interval","funnel",{getPoints:function t(e){e.size=e.size*2;return n(e)},draw:function t(e,r){var a=P(e);var i=c(e,true);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=P(e);return k.mix({symbol:"square",radius:4},r)}});a.registerShape("interval","pyramid",{getPoints:function t(e){e.size=e.size*2;return n(e,true)},draw:function t(e,r){var a=P(e);var i=c(e,false);i=this.parsePath(i);return r.addShape("path",{attrs:k.mix(a,{path:i})})},getMarkerCfg:function t(e){var r=P(e);return k.mix({symbol:"square",radius:4},r)}});function y(t,e,r,a){if(e===0){return[[t+1/2*r/Math.PI/2,a/2],[t+1/2*r/Math.PI,a],[t+r/4,a]]}else if(e===1){return[[t+1/2*r/Math.PI/2*(Math.PI-2),a],[t+1/2*r/Math.PI/2*(Math.PI-1),a/2],[t+r/4,0]]}else if(e===2){return[[t+1/2*r/Math.PI/2,-a/2],[t+1/2*r/Math.PI,-a],[t+r/4,-a]]}return[[t+1/2*r/Math.PI/2*(Math.PI-2),-a],[t+1/2*r/Math.PI/2*(Math.PI-1),-a/2],[t+r/4,0]]}function m(t,e,r,a,i,n,o){var s=Math.ceil(2*t/r*4)*2;var l=[];while(a<-Math.PI*2){a+=Math.PI*2}while(a>0){a-=Math.PI*2}a=a/Math.PI/2*r;var u=n-t+a-t*2;l.push(["M",u,e]);var f=0;for(var c=0;c<s;++c){var v=c%4;var h=y(c*r/4,v,r,i);l.push(["C",h[0][0]+u,-h[0][1]+e,h[1][0]+u,-h[1][1]+e,h[2][0]+u,-h[2][1]+e]);if(c===s-1){f=h[2][0]}}l.push(["L",f+u,o+t]);l.push(["L",u,o+t]);l.push(["L",u,e]);return l}function T(t,e,r,a,i,n,o,s){var l=o.getBBox();var u=l.maxX-l.minX;var f=l.maxY-l.minY;var c=5e3;var v=300;for(var h=0;h<a;h++){var p=n.addShape("path",{attrs:{path:m(s,l.minY+f*r,u/4,0,u/64,t,e),fill:i[h],clip:o}});if(g.renderer==="canvas"){p.animate({transform:[["t",u/2,0]],repeat:true},c-h*v)}}}a.registerShape("interval","liquid-fill-gauge",{draw:function t(e,r){var a=this;var i=.5;var n=0;var o=Infinity;k.each(e.points,function(t){if(t.x<o){o=t.x}n+=t.x});var s=n/e.points.length;var l=a.parsePoint({x:s,y:i});var u=a.parsePoint({x:o,y:.5});var f=l.x-u.x;var c=Math.min(f,u.y);var v=P(e);var h=new p.Circle({attrs:{x:l.x,y:l.y,r:c}});T(l.x,l.y,e.y/(2*l.y),1,[v.fill],r,h,c*4);return r.addShape("circle",{attrs:k.mix(I(e),{x:l.x,y:l.y,r:c+c/8})})}});var O={};a.registerShape("interval","liquid-fill-path",{draw:function t(e,r){var a=this;var i=k.mix({},P(e));var n=e.shape[1];var o=.5;var s=0;var l=Infinity;k.each(e.points,function(t){if(t.x<l){l=t.x}s+=t.x});var u=s/e.points.length;var f=a.parsePoint({x:u,y:o});var c=a.parsePoint({x:l,y:.5});var v=f.x-c.x;var h=Math.min(v,c.y);var p;if(O[n]){p=O[n]}else{var g=A.parsePathString(n);O[n]=p={segments:g}}var d=[];if(i.rotate){d.push(["r",i.rotate/180*Math.PI]);delete i.rotate}var y=r.addShape("path",{attrs:k.mix(i,{fillOpacity:0,path:p.segments})});var m=k.cloneDeep(y.getBBox());var x=m.maxX-m.minX;var b=m.maxY-m.minY;var _=Math.max(x,b);var w=h*2/_;y.transform(d.concat([["s",w,w]]));var S=w*x/2;var M=w*b/2;y.transform([["t",f.x-S,f.y-M]]);T(f.x,f.y,e.y/(2*f.y),1,[i.fill],r,y,c.y*4);var C=r.addShape("path",{attrs:k.mix(I(e),{path:p.segments})});C.transform(d.concat([["s",w,w],["t",f.x-S,f.y-M]]));return C}});a.registerShape("interval","top-line",{draw:function t(e,r){var a=P(e);var i=e.style||{};var n=[["M",e.points[1].x,e.points[1].y],["L",e.points[2].x,e.points[2].y]];var o={stroke:i.stroke||"white",lineWidth:i.lineWidth||1,path:this.parsePath(n)};var s=f(e.points);s=this.parsePath(s);delete a.stroke;var l=r.addShape("path",{attrs:k.mix(a,{zIndex:0,path:s})});r.addShape("path",{zIndex:1,attrs:o});return l},getMarkerCfg:function t(e){var r=P(e);var a=e.isInCircle;return k.mix({symbol:a?"circle":"square",radius:a?4.5:4},r)}});t.exports=d},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(21);var n=r(360);r(368);var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="line";e.sortable=true;return e};return t}(n);var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"stack"}];return e};return t}(o);o.Stack=s;i.Line=o;i.LineStack=s;t.exports=o},function(t,e,r){var o=r(0);var s=r(23);var v=r(45);var a=r(18);var l=r(7);var n=[1,1];var u=[5.5,1];function f(t){var e=l.shape.line;var r=o.mix({},e,t.style);v.addStrokeAttrs(r,t);if(t.size){r.lineWidth=t.size}return r}function i(t){var e=l.shape.line;var r=o.mix({lineWidth:2,radius:6},e,t.style);v.addStrokeAttrs(r,t);return r}function c(t,e,r,a){var i=[];var n=a.isStack;var o=[];for(var s=0;s<t.length;s++){var l=t[s];var u=v.splitPoints(l);o.push(u[0]);i.push(u[1])}var f=h(i,e,r,a);var c=h(o,e,r,a);if(n){return f}return f.concat(c)}function h(t,e,r,a){var i;if(!e){i=s.getLinePath(t,false);if(r){i.push(["Z"])}}else{var n=a.constraint;if(r&&t.length){t.push({x:t[0].x,y:t[0].y})}i=s.getSplinePath(t,false,n)}return i}function p(t,e){var r;var a=t.points;var i=t.isInCircle;var n=a[0];if(o.isArray(n.y)){r=c(a,e,i,t)}else{r=h(a,e,i,t)}return r}function g(a,i){var n=[];o.each(a,function(t,e){var r=a[e+1];n.push(t);if(r){n=n.concat(i(t,r))}});return n}function d(t){var a=[];o.each(t,function(t,e){var r=e===0?["M",t.x,t.y]:["L",t.x,t.y];a.push(r)});return a}function y(t,e){var r=g(t.points,e);return d(r)}function m(t,e,r){return[["M",t-r,e],["L",t+r,e]]}function x(t,e,r){return[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]]}function b(t,e){return o.mix({symbol:e?x:m},i(t))}function _(t,e){return o.mix({symbol:e},i(t))}function w(t,e,r){var a=e.points[0];return r.addShape("circle",{attrs:o.mix({x:a.x,y:a.y,r:2,fill:e.color},e.style)})}var S=a.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function t(e,r){var a=r.lineWidth||0;return{lineWidth:a+1}},getDefaultPoints:function t(e){return v.splitPoints(e)},drawShape:function t(e,r,a){var i=this.getShape(e);var n;if(r.points.length===1&&l.showSinglePoint){n=w(this,r,a)}else{n=i.draw(r,a)}if(n){n.set("origin",r.origin);n._id=r.splitedIndex?r._id+r.splitedIndex:r._id;n.name=this.name}return n}});a.registerShape("line","line",{draw:function t(e,r){var a=f(e);var i=p(e,false);return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return b(e)}});a.registerShape("line","dot",{draw:function t(e,r){var a=f(e);var i=p(e,false);return r.addShape("path",{attrs:o.mix(a,{path:i,lineDash:n})})},getMarkerCfg:function t(e){var r=b(e,false);r.lineDash=n;return r}});a.registerShape("line","dash",{draw:function t(e,r){var a=f(e);var i=p(e,false);return r.addShape("path",{attrs:o.mix({path:i,lineDash:u},a)})},getMarkerCfg:function t(e){var r=b(e,false);r.lineDash=r.lineDash||u;return r}});a.registerShape("line","smooth",{draw:function t(e,r){var a=f(e);var i=this._coord;e.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var n=p(e,true);return r.addShape("path",{attrs:o.mix(a,{path:n})})},getMarkerCfg:function t(e){return b(e,true)}});a.registerShape("line","hv",{draw:function t(e,r){var a=f(e);var i=y(e,function(t,e){var r=[];r.push({x:e.x,y:t.y});return r});return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return _(e,function(t,e,r){return[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]]})}});a.registerShape("line","vh",{draw:function t(e,r){var a=f(e);var i=y(e,function(t,e){var r=[];r.push({x:t.x,y:e.y});return r});return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return _(e,function(t,e,r){return[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]]})}});a.registerShape("line","hvh",{draw:function t(e,r){var a=f(e);var i=y(e,function(t,e){var r=[];var a=(e.x-t.x)/2+t.x;r.push({x:a,y:t.y});r.push({x:a,y:e.y});return r});return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return _(e,function(t,e,r){return[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]]})}});a.registerShape("line","vhv",{draw:function t(e,r){var a=f(e);var i=y(e,function(t,e){var r=[];var a=(e.y-t.y)/2+t.y;r.push({x:t.x,y:a});r.push({x:e.x,y:a});return r});return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return _(e,function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]})}});S.spline=S.smooth;t.exports=S},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(21);var f=r(0);r(370);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="point";e.shapeType="point";e.generatePoints=true;return e};e.drawPoint=function t(e,r,a,i){var n=this;var o=e.shape;var s=n.getDrawCfg(e);n._applyViewThemeShapeStyle(s,o,a);var l;if(f.isArray(e.y)){var u=n.hasStack();f.each(e.y,function(t,e){s.y=t;s.yIndex=e;if(!u||e!==0){l=a.drawShape(o,s,r);n.appendShapeInfo(l,i+e)}})}else if(!f.isNil(e.y)){l=a.drawShape(o,s,r);n.appendShapeInfo(l,i)}};return t}(i);var o=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"jitter"}];return e};return t}(n);var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"stack"}];return e};return t}(n);n.Jitter=o;n.Stack=s;i.Point=n;i.PointJitter=o;i.PointStack=s;t.exports=n},function(t,e,r){var v=r(0);var a=r(45);var i=r(7);var n=r(18);var o=r(16),s=o.Marker;var h=v.PathUtil;var l=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];var u=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"];var f=Math.sqrt(3);v.mix(s.Symbols,{hexagon:function t(e,r,a){var i=a/2*f;return[["M",e,r-a],["L",e+i,r-a/2],["L",e+i,r+a/2],["L",e,r+a],["L",e-i,r+a/2],["L",e-i,r-a/2],["Z"]]},bowtie:function t(e,r,a){var i=a-1.5;return[["M",e-a,r-i],["L",e+a,r+i],["L",e+a,r-i],["L",e-a,r+i],["Z"]]},cross:function t(e,r,a){return[["M",e-a,r-a],["L",e+a,r+a],["M",e+a,r-a],["L",e-a,r+a]]},tick:function t(e,r,a){return[["M",e-a/2,r-a],["L",e+a/2,r-a],["M",e,r-a],["L",e,r+a],["M",e-a/2,r+a],["L",e+a/2,r+a]]},plus:function t(e,r,a){return[["M",e-a,r],["L",e+a,r],["M",e,r-a],["L",e,r+a]]},hyphen:function t(e,r,a){return[["M",e-a,r],["L",e+a,r]]},line:function t(e,r,a){return[["M",e,r-a],["L",e,r+a]]}});function p(t){var e=i.shape.point;var r=v.mix({},e,t.style);a.addFillAttrs(r,t);if(v.isNumber(t.size)){r.radius=t.size}return r}function g(t){var e=i.shape.hollowPoint;var r=v.mix({},e,t.style);a.addStrokeAttrs(r,t);if(v.isNumber(t.size)){r.radius=t.size}return r}var c=n.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function t(e,r){var a=r.radius;var i;if(e&&(e.indexOf("hollow")===0||v.indexOf(u,e)!==-1)||!e){i=r.stroke||r.strokeStyle}else{i=r.fill||r.fillStyle}return{radius:a+1,shadowBlur:a,shadowColor:i,stroke:i,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function t(e){return a.splitPoints(e)}});function d(t){var e=t.points[0].x;var r=t.points[0].y;var a=t.size[0];var i=t.size[1];var n=[["M",e-.5*a,r-.5*i],["L",e+.5*a,r-.5*i],["L",e+.5*a,r+.5*i],["L",e-.5*a,r+.5*i],["z"]];return n}n.registerShape("point","rect",{draw:function t(e,r){var a=p(e);var i=d(e);i=this.parsePath(i);var n=r.addShape("path",{attrs:v.mix(a,{path:i})});return n},getMarkerCfg:function t(e){var r=p(e);r.symbol="rect";r.radius=4.5;return r}});v.each(l,function(i){n.registerShape("point",i,{draw:function t(e,r){var a=p(e);return r.addShape("Marker",{attrs:v.mix(a,{symbol:i,x:e.x,y:e.y})})},getMarkerCfg:function t(e){var r=p(e);r.symbol=i;r.radius=4.5;return r}});n.registerShape("point","hollow"+v.upperFirst(i),{draw:function t(e,r){var a=g(e);return r.addShape("Marker",{attrs:v.mix(a,{symbol:i,x:e.x,y:e.y})})},getMarkerCfg:function t(e){var r=g(e);r.symbol=i;r.radius=4.5;return r}})});v.each(u,function(i){n.registerShape("point",i,{draw:function t(e,r){var a=g(e);return r.addShape("Marker",{attrs:v.mix(a,{symbol:i,x:e.x,y:e.y})})},getMarkerCfg:function t(e){var r=g(e);r.symbol=i;r.radius=4.5;return r}})});n.registerShape("point","image",{draw:function t(e,r){e.points=this.parsePoints(e.points);return r.addShape("image",{attrs:{x:e.points[0].x-e.size/2,y:e.points[0].y-e.size,width:e.size,height:e.size,img:e.shape[1]}})}});var y={};n.registerShape("point","path",{draw:function t(e,r){var a=v.mix({},g(e),p(e));var i=e.shape[1];var n=e.size||10;var o;if(y[i]){o=y[i]}else{var s=h.parsePathString(i);var l=v.flatten(s).filter(function(t){return v.isNumber(t)});y[i]=o={range:Math.max.apply(null,l)-Math.min.apply(null,l),segments:s}}var u=n/o.range;var f=[];if(a.rotate){f.push(["r",a.rotate/180*Math.PI]);delete a.rotate}var c=r.addShape("path",{attrs:v.mix(a,{path:o.segments})});f.push(["s",u,u],["t",e.x,e.y]);c.transform(f);return c}});t.exports=c},function(t,e,r){"use strict";var a=r(372);e["a"]=function(t){var e=t+="",r=e.indexOf(":");if(r>=0&&(e=t.slice(0,r))!=="xmlns")t=t.slice(r+1);return a["a"].hasOwnProperty(e)?{space:a["a"][e],local:t}:t}},function(t,e,r){"use strict";r.d(e,"b",function(){return a});var a="http://www.w3.org/1999/xhtml";e["a"]={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,r){"use strict";function a(){}e["a"]=function(t){return t==null?a:function(){return this.querySelector(t)}}},function(t,e,r){"use strict";e["a"]=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,r){"use strict";r.d(e,"c",function(){return n});e["a"]=l;var a={};var n=null;if(typeof document!=="undefined"){var i=document.documentElement;if(!("onmouseenter"in i)){a={mouseenter:"mouseover",mouseleave:"mouseout"}}}function o(r,t,e){r=s(r,t,e);return function(t){var e=t.relatedTarget;if(!e||e!==this&&!(e.compareDocumentPosition(this)&8)){r.call(this,t)}}}function s(r,a,i){return function(t){var e=n;n=t;try{r.call(this,this.__data__,a,i)}finally{n=e}}}function c(t){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0)e=t.slice(r+1),t=t.slice(0,r);return{type:t,name:e}})}function v(n){return function(){var t=this.__on;if(!t)return;for(var e=0,r=-1,a=t.length,i;e<a;++e){if(i=t[e],(!n.type||i.type===n.type)&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.capture)}else{t[++r]=i}}if(++r)t.length=r;else delete this.__on}}function h(l,u,f){var c=a.hasOwnProperty(l.type)?o:s;return function(t,e,r){var a=this.__on,i,n=c(u,e,r);if(a)for(var o=0,s=a.length;o<s;++o){if((i=a[o]).type===l.type&&i.name===l.name){this.removeEventListener(i.type,i.listener,i.capture);this.addEventListener(i.type,i.listener=n,i.capture=f);i.value=u;return}}this.addEventListener(l.type,n,f);i={type:l.type,name:l.name,value:u,listener:n,capture:f};if(!a)this.__on=[i];else a.push(i)}}e["b"]=function(t,e,r){var a=c(t+""),i,n=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var l=0,u=s.length,f;l<u;++l){for(i=0,f=s[l];i<n;++i){if((o=a[i]).type===f.type&&o.name===f.name){return f.value}}}return}s=e?h:v;if(r==null)r=false;for(i=0;i<n;++i)this.each(s(a[i],e,r));return this};function l(t,e,r,a){var i=n;t.sourceEvent=n;n=t;try{return e.apply(r,a)}finally{n=i}}},function(t,e,r){"use strict";var a=r(375);e["a"]=function(){var t=a["c"],e;while(e=t.sourceEvent)t=e;return t}},function(t,e){t.exports=function(t){var e=t.get("scaleController")||{};return e.defs}},function(t,e,r){var a=r(377);t.exports=function(t,e){var r=a(t);if(r&&r[e]){return r[e]}}},function(t,e,r){var o=r(0);var s=r(71);t.exports=function(t,e){var r;var a=e.field,i=e.type;var n=o.Array.values(t,a);if(i==="linear"){r=o.Array.getRange(n);if(e.min<r.min){r.min=e.min}if(e.max>r.max){r.max=e.max}}else if(i==="timeCat"){o.each(n,function(t,e){n[e]=s.toTimeStamp(t)});n.sort(function(t,e){return t-e});r=n}else{r=n}return r}},function(t,e,r){"use strict";var a=r(70);e["a"]=function(t){return typeof t==="string"?new a["a"]([[document.querySelector(t)]],[document.documentElement]):new a["a"]([[t]],a["c"])}},function(t,e,r){"use strict";function a(){return[]}e["a"]=function(t){return t==null?a:function(){return this.querySelectorAll(t)}}},function(t,e,r){"use strict";e["a"]=function(t){return function(){return this.matches(t)}}},function(t,e,r){"use strict";e["a"]=n;var a=r(384);var i=r(70);e["b"]=function(){return new i["a"](this._enter||this._groups.map(a["a"]),this._parents)};function n(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}n.prototype={constructor:n,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,r){"use strict";e["a"]=function(t){return new Array(t.length)}},function(t,e,r){"use strict";e["b"]=s;var a=r(374);function i(t){return function(){this.style.removeProperty(t)}}function n(t,e,r){return function(){this.style.setProperty(t,e,r)}}function o(e,r,a){return function(){var t=r.apply(this,arguments);if(t==null)this.style.removeProperty(e);else this.style.setProperty(e,t,a)}}e["a"]=function(t,e,r){return arguments.length>1?this.each((e==null?i:typeof e==="function"?o:n)(t,e,r==null?"":r)):s(this.node(),t)};function s(t,e){return t.style.getPropertyValue(e)||Object(a["a"])(t).getComputedStyle(t,null).getPropertyValue(e)}},function(t,e,r){"use strict";var s=r(46);e["a"]=function(t,e){var r=t.__transition,a,i,n=true,o;if(!r)return;e=e==null?null:e+"";for(o in r){if((a=r[o]).name!==e){n=false;continue}i=a.state>s["d"]&&a.state<s["b"];a.state=s["a"];a.timer.stop();a.on.call(i?"interrupt":"cancel",t,t.__data__,a.index,a.group);delete r[o]}if(n)delete t.__transition}},function(t,e,r){"use strict";var a=r(19);var i=r(117);e["a"]=function(t,e){var r;return(typeof e==="number"?i["interpolateNumber"]:e instanceof a["a"]?i["interpolateRgb"]:(r=Object(a["a"])(e))?(e=r,i["interpolateRgb"]):i["interpolateString"])(t,e)}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(364);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="rect";return e};e.generateFacets=function t(l){var u=this;var e=u.fields;var f=[];var c=1;var v=1;var h=e[0];var p=e[1];var g=[""];var d=[""];if(h){g=u.getFieldValues(h,l);v=g.length}if(p){d=u.getFieldValues(p,l);c=d.length}g.forEach(function(o,s){d.forEach(function(t,e){var r=[{field:h,value:o,values:g},{field:p,value:t,values:d}];var a=u.getFilter(r);var i=l.filter(a);var n={type:u.type,colValue:o,rowValue:t,colField:h,rowField:p,colIndex:s,rowIndex:e,cols:v,rows:c,data:i,region:u.getRegion(c,v,s,e)};f.push(n)})});return f};e.setXAxis=function t(e,r,a){if(a.rowIndex!==a.rows-1){r[e].title=null;r[e].label=null}else if(a.colIndex!==parseInt((a.cols-1)/2)){r[e].title=null}};e.setYAxis=function t(e,r,a){if(a.colIndex!==0){r[e].title=null;r[e].label=null}else if(a.rowIndex!==parseInt((a.rows-1)/2)){r[e].title=null}};e.renderTitle=function t(e,r){if(r.rowIndex===0){this.drawColTitle(e,r)}if(r.colIndex===r.cols-1){this.drawRowTitle(e,r)}};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(364);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="list";e.cols=null;return e};e.generateFacets=function t(l){var u=this;var e=u.fields;var f=e[0];if(!f){throw"Please specify for the field for facet!"}var c=u.getFieldValues(f,l);var v=c.length;var h=u.cols||v;var p=parseInt((v+h-1)/h);var g=[];c.forEach(function(t,e){var r=parseInt(e/h);var a=e%h;var i=[{field:f,value:t,values:c}];var n=u.getFilter(i);var o=l.filter(n);var s={type:u.type,count:v,colValue:t,colField:f,rowField:null,rowValue:t,colIndex:a,rowIndex:r,cols:h,rows:p,data:o,region:u.getRegion(p,h,a,r)};g.push(s)});return g};e.setXAxis=function t(e,r,a){if(a.rowIndex!==a.rows-1&&a.cols*a.rowIndex+a.colIndex+1+a.cols<=a.count){r[e].label=null;r[e].title=null}};e.setYAxis=function t(e,r,a){if(a.colIndex!==0){r[e].title=null;r[e].label=null}};return t}(i);t.exports=n},function(t,e,r){var a=r(173);r(391);r(393);r(395);r(365);r(367);r(360);r(369);r(396);r(398);r(400);r(463);r(465);r(470);t.exports=a},function(t,e,r){function a(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var n=r(21);var o=r(359);var u=r(0);r(392);var s=function(r){i(e,r);var t=e.prototype;t.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="area";e.shapeType="area";e.generatePoints=true;e.sortable=true;return e};function e(t){var e;e=r.call(this,t)||this;u.assign(a(e),o);return e}t.draw=function t(e,i,n,o){var s=this;var l=this.getDrawCfg(e[0]);s._applyViewThemeShapeStyle(l,l.shape,n);var r=this.splitData(e);l.origin=e;u.each(r,function(t,e){l.splitedIndex=e;var r=t.map(function(t){return t.points});l.points=r;var a=n.drawShape(l.shape,l,i);s.appendShapeInfo(a,o+e)})};return e}(n);var l=function(r){i(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"stack"}];return e};return t}(s);s.Stack=l;n.Area=s;n.AreaStack=l;t.exports=s},function(t,e,r){var u=r(0);var a=r(18);var f=r(23);var i=r(45);var o=r(7);function n(t){var e=o.shape.hollowArea;var r=u.mix({},e,t.style);i.addStrokeAttrs(r,t);if(u.isNumber(t.size)){r.lineWidth=t.size}return r}function s(t){var e=o.shape.area;var r=u.mix({},e,t.style);i.addFillAttrs(r,t);if(t.color){r.stroke=r.stroke||t.color}if(u.isNumber(t.size)){r.lineWidth=t.size}return r}function l(i,n,o){var s=[];var t=[];var e=[];var r=[];var l=i.isInCircle;u.each(i.points,function(t){e.push(t[1]);r.push(t[0])});r=r.reverse();t.push(e,r);u.each(t,function(t,e){var r=[];t=o.parsePoints(t);var a=t[0];if(l){t.push({x:a.x,y:a.y})}if(n){r=f.getSplinePath(t,false,i.constraint)}else{r=f.getLinePath(t,false)}if(e>0){r[0][0]="L"}s=s.concat(r)});s.push(["Z"]);return s}function c(t){return{symbol:function t(e,r,a){return[["M",e-a,r-4],["L",e+a,r-4],["L",e+a,r+4],["L",e-a,r+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}function v(t,e){if(t==="line"||t==="smoothLine"){var r=e.lineWidth||0;return{lineWidth:r+1}}var a=e.fillOpacity||e.opacity||1;return{fillOpacity:a-.15,strokeOpacity:a-.15}}function h(t,e,r){var a=t._coord;var i=a.convertPoint(e.points[0][1]);return r.addShape("circle",{attrs:u.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}var p=a.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function t(e){var r=[];var a=e.x;var i=e.y;var n=e.y0;i=u.isArray(i)?i:[n,i];u.each(i,function(t){r.push({x:a,y:t})});return r},getActiveCfg:function t(e,r){return v(e,r)},drawShape:function t(e,r,a){var i=this.getShape(e);var n;if(r.points.length===1&&o.showSinglePoint){n=h(this,r,a)}else{n=i.draw(r,a)}if(n){n.set("origin",r.origin);n._id=r.splitedIndex?r._id+r.splitedIndex:r._id;n.name=this.name}return n},getSelectedCfg:function t(e,r){if(r&&r.style){return r.style}return this.getActiveCfg(e,r)}});a.registerShape("area","area",{draw:function t(e,r){var a=s(e);var i=l(e,false,this);return r.addShape("path",{attrs:u.mix(a,{path:i})})},getMarkerCfg:function t(e){return c(e)}});a.registerShape("area","smooth",{draw:function t(e,r){var a=s(e);var i=this._coord;e.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var n=l(e,true,this);return r.addShape("path",{attrs:u.mix(a,{path:n})})},getMarkerCfg:function t(e){return c(e)}});a.registerShape("area","line",{draw:function t(e,r){var a=n(e);var i=l(e,false,this);return r.addShape("path",{attrs:u.mix(a,{path:i})})},getMarkerCfg:function t(e){return c(e)}});a.registerShape("area","smoothLine",{draw:function t(e,r){var a=n(e);var i=l(e,true,this);return r.addShape("path",{attrs:u.mix(a,{path:i})})},getMarkerCfg:function t(e){return c(e)}});p.spline=p.smooth;t.exports=p},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(21);r(394);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="edge";e.shapeType="edge";e.generatePoints=true;return e};return t}(i);i.Edge=n;t.exports=n},function(t,e,r){var c=r(0);var a=r(18);var i=r(45);var n=r(7);var s=r(23);var o=1/3;function v(t){var e=n.shape.edge;var r=c.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}var l=a.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function t(e){return i.splitPoints(e)},getActiveCfg:function t(e,r){var a=r.lineWidth||0;return{lineWidth:a+1}}});function h(t,e){var r=[];r.push({x:t.x,y:t.y*(1-1/2)+e.y*1/2});r.push({y:t.y*(1-1/2)+e.y*1/2,x:e.x});r.push(e);var a=["C"];c.each(r,function(t){a.push(t.x,t.y)});return a}function u(t,e){var r=[];r.push({x:e.x,y:e.y});r.push(t);var a=["Q"];c.each(r,function(t){a.push(t.x,t.y)});return a}function f(t,e){var r=h(t,e);var a=[["M",t.x,t.y]];a.push(r);return a}function p(t,e,r){var a=u(e,r);var i=[["M",t.x,t.y]];i.push(a);return i}function g(t,e){var r=u(t[1],e);var a=u(t[3],e);var i=[["M",t[0].x,t[0].y]];i.push(a);i.push(["L",t[3].x,t[3].y]);i.push(["L",t[2].x,t[2].y]);i.push(r);i.push(["L",t[1].x,t[1].y]);i.push(["L",t[0].x,t[0].y]);i.push(["Z"]);return i}function d(t,e){var r=[];r.push({y:t.y*(1-o)+e.y*o,x:t.x});r.push({y:t.y*(1-o)+e.y*o,x:e.x});r.push(e);var a=[["M",t.x,t.y]];c.each(r,function(t){a.push(["L",t.x,t.y])});return a}a.registerShape("edge","line",{draw:function t(e,r){var a=this.parsePoints(e.points);var i=v(e);var n=s.getLinePath(a);var o=r.addShape("path",{attrs:c.mix(i,{path:n})});return o},getMarkerCfg:function t(e){return c.mix({symbol:"circle",radius:4.5},v(e))}});a.registerShape("edge","vhv",{draw:function t(e,r){var a=e.points;var i=v(e);var n=d(a[0],a[1]);n=this.parsePath(n);var o=r.addShape("path",{attrs:c.mix(i,{path:n})});return o},getMarkerCfg:function t(e){return c.mix({symbol:"circle",radius:4.5},v(e))}});a.registerShape("edge","smooth",{draw:function t(e,r){var a=e.points;var i=v(e);var n=f(a[0],a[1]);n=this.parsePath(n);var o=r.addShape("path",{attrs:c.mix(i,{path:n})});return o},getMarkerCfg:function t(e){return c.mix({symbol:"circle",radius:4.5},v(e))}});a.registerShape("edge","arc",{draw:function t(e,r){var a=e.points;var i=a.length>2?"weight":"normal";var n=v(e);var o;var s;if(e.isInCircle){var l={x:0,y:1};if(i==="normal"){s=p(a[0],a[1],l)}else{n.fill=n.stroke;s=g(a,l)}s=this.parsePath(s);o=r.addShape("path",{attrs:c.mix(n,{path:s})})}else{if(i==="normal"){a=this.parsePoints(a);o=r.addShape("arc",{attrs:c.mix(n,{x:(a[1].x+a[0].x)/2,y:a[0].y,r:Math.abs(a[1].x-a[0].x)/2,startAngle:Math.PI,endAngle:Math.PI*2})})}else{s=[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y]];var u=h(a[1],a[3]);var f=h(a[2],a[0]);s.push(u);s.push(["L",a[3].x,a[3].y]);s.push(["L",a[2].x,a[2].y]);s.push(f);s.push(["Z"]);s=this.parsePath(s);n.fill=n.stroke;o=r.addShape("path",{attrs:c.mix(n,{path:s})})}}return o},getMarkerCfg:function t(e){return c.mix({symbol:"circle",radius:4.5},v(e))}});t.exports=l},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(73),u=i.ColorUtil;var n=r(21);var o=r(0);var x="_origin";var s="shadowCanvas";var l="valueRange";var f="imageShape";var b="mappedData";var c="grayScaleBlurredCanvas";var _="heatmapSize";var v=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="heatmap";e.paletteCache={};return e};e._prepareRange=function t(){var e=this;var r=e.get(b);var a=e.getAttr("color");var i=a.field;var n=Infinity;var o=-Infinity;r.forEach(function(t){var e=t[x][i];if(e>o){o=e}if(e<n){n=e}});if(n===o){n=o-1}var s=[n,o];e.set(l,s)};e._prepareSize=function t(){var e=this;var r=e.getDefaultValue("size");if(!o.isNumber(r)){r=e._getDefaultSize()}var a=e.get("styleOptions");var i=a&&o.isObject(a.style)?a.style.blur:null;if(!o.isFinite(i)||i===null){i=r/2}e.set(_,{blur:i,radius:r})};e._getDefaultSize=function t(){var e=this;var r=e.getAttr("position");var a=e.get("coord");var i=Math.min(a.width/(r.scales[0].ticks.length*4),a.height/(r.scales[1].ticks.length*4));return i};e._colorize=function t(e){var r=this;var a=r.getAttr("color");var i=e.data;var n=r.get("paletteCache");for(var o=3;o<i.length;o+=4){var s=i[o];if(s){var l=void 0;if(n[s]){l=n[s]}else{l=u.rgb2arr(a.gradient(s/256));n[s]=l}i[o-3]=l[0];i[o-2]=l[1];i[o-1]=l[2];i[o]=s}}};e._prepareGreyScaleBlurredCircle=function t(e,r){var a=this;var i=a.get(c);if(!i){i=document.createElement("canvas");a.set(c,i)}var n=e+r;var o=i.getContext("2d");i.width=i.height=n*2;o.clearRect(0,0,i.width,i.height);o.shadowOffsetX=o.shadowOffsetY=n*2;o.shadowBlur=r;o.shadowColor="black";o.beginPath();o.arc(-n,-n,e,0,Math.PI*2,true);o.closePath();o.fill()};e._drawGrayScaleBlurredCircle=function t(e,r,a,i,n){var o=this;var s=o.get(c);n.globalAlpha=i;n.drawImage(s,e-a,r-a)};e._getShadowCanvasCtx=function t(){var e=this;var r=e.get(s);if(!r){r=document.createElement("canvas");e.set(s,r)}var a=e.get("coord");if(a){r.width=a.width;r.height=a.height}return r.getContext("2d")};e._clearShadowCanvasCtx=function t(){var e=this._getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)};e._getImageShape=function t(){var e=this;var r=e.get(f);if(r){return r}var a=e.get("container");r=a.addShape("Image",{});e.set(f,r);return r};e.clear=function t(){this._clearShadowCanvasCtx();r.prototype.clear.call(this)};e.drawWithRange=function t(e){var r=this;var a=r.get("coord"),i=a.start,n=a.end,o=a.width,s=a.height;var l=r.getAttr("color").field;var u=r.get(_);r._clearShadowCanvasCtx();var f=r._getShadowCanvasCtx();var c=r.get(b);if(e){c=c.filter(function(t){return t[x][l]<=e[1]&&t[x][l]>=e[0]})}var v=r._getScale(l);for(var h=0;h<c.length;h++){var p=c[h];var g=r.getDrawCfg(p);var d=v.scale(p[x][l]);r._drawGrayScaleBlurredCircle(g.x-i.x,g.y-n.y,u.radius+u.blur,d,f)}var y=f.getImageData(0,0,o,s);r._clearShadowCanvasCtx();r._colorize(y);f.putImageData(y,0,0);var m=r._getImageShape();m.attr("x",i.x);m.attr("y",n.y);m.attr("width",o);m.attr("height",s);m.attr("img",f.canvas)};e.draw=function t(e){var r=this;r.set(b,e);r._prepareRange();r._prepareSize();var a=r.get(_);r._prepareGreyScaleBlurredCircle(a.radius,a.blur);var i=r.get(l);r.drawWithRange(i)};return t}(n);n.Heatmap=v;t.exports=v},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(21);var p=r(0);r(397);var n=function(h){a(t,h);function t(){return h.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=h.prototype.getDefaultCfg.call(this);e.type="polygon";e.shapeType="polygon";e.generatePoints=true;return e};e.createShapePointsCfg=function t(e){var r=h.prototype.createShapePointsCfg.call(this,e);var a=this;var i=r.x;var n=r.y;var o;if(!(p.isArray(i)&&p.isArray(n))){var s=a.getXScale();var l=a.getYScale();var u=s.values?s.values.length:s.ticks.length;var f=l.values?l.values.length:l.ticks.length;var c=.5*1/u;var v=.5*1/f;if(s.isCategory&&l.isCategory){i=[i-c,i-c,i+c,i+c];n=[n-v,n+v,n+v,n-v]}else if(p.isArray(i)){o=i;i=[o[0],o[0],o[1],o[1]];n=[n-v/2,n+v/2,n+v/2,n-v/2]}else if(p.isArray(n)){o=n;n=[o[0],o[1],o[1],o[0]];i=[i-c/2,i-c/2,i+c/2,i+c/2]}r.x=i;r.y=n}return r};return t}(i);i.Polygon=n;t.exports=n},function(t,e,r){var n=r(0);var a=r(18);var i=r(45);var o=r(7);function s(t){var e=o.shape.polygon;var r=n.mix({},e,t.style);i.addFillAttrs(r,t);return r}function l(t){var e=o.shape.hollowPolygon;var r=n.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}function u(t){var e=t[0];var r=1;var a=[["M",e.x,e.y]];while(r<t.length){var i=t[r];if(i.x!==t[r-1].x||i.y!==t[r-1].y){a.push(["L",i.x,i.y]);if(i.x===e.x&&i.y===e.y&&r<t.length-1){e=t[r+1];a.push(["Z"]);a.push(["M",e.x,e.y]);r++}}r++}if(!n.isEqual(a[a.length-1],e)){a.push(["L",e.x,e.y])}a.push(["Z"]);return a}var f=a.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function t(a){var i=[];n.each(a.x,function(t,e){var r=a.y[e];i.push({x:t,y:r})});return i},getActiveCfg:function t(e,r){var a=r.lineWidth||1;if(e==="hollow"){return{lineWidth:a+1}}var i=r.fillOpacity||r.opacity||1;return{fillOpacity:i-.08}},getSelectedCfg:function t(e,r){if(r&&r.style){return r.style}return this.getActiveCfg(e,r)}});a.registerShape("polygon","polygon",{draw:function t(e,r){if(!n.isEmpty(e.points)){var a=s(e);var i=u(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:n.mix(a,{path:i})})}},getMarkerCfg:function t(e){return n.mix({symbol:"square",radius:4},s(e))}});a.registerShape("polygon","hollow",{draw:function t(e,r){if(!n.isEmpty(e.points)){var a=l(e);var i=u(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:n.mix(a,{path:i})})}},getMarkerCfg:function t(e){return n.mix({symbol:"square",radius:4},s(e))}});t.exports=f},function(t,e,r){function i(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var a=r(21);var o=r(0);var s=r(358);r(399);var l=function(a){n(e,a);var t=e.prototype;t.getDefaultCfg=function t(){var e=a.prototype.getDefaultCfg.call(this);e.type="schema";e.shapeType="schema";e.generatePoints=true;return e};function e(t){var e;e=a.call(this,t)||this;o.assign(i(e),s);return e}t.createShapePointsCfg=function t(e){var r=a.prototype.createShapePointsCfg.call(this,e);r.size=this.getNormalizedSize(e);return r};t.clearInner=function t(){a.prototype.clearInner.call(this);this.set("defaultSize",null)};return e}(a);var u=function(r){n(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"dodge"}];return e};return t}(l);l.Dodge=u;a.Schema=l;a.SchemaDodge=u;t.exports=l},function(t,e,r){var o=r(0);var a=r(18);var i=r(45);var n=r(7);function s(t){if(!o.isArray(t)){t=[t]}var e=t[0];var r=t[t.length-1];var a=t.length>1?t[1]:e;var i=t.length>3?t[3]:r;var n=t.length>2?t[2]:a;return{min:e,max:r,min1:a,max1:i,median:n}}function l(t,e){o.each(t,function(t){e.push({x:t[0],y:t[1]})})}function u(t){var e=n.shape.schema;var r=o.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}function f(t){var e=n.shape.schema;var r=o.mix({},e,t.style);i.addFillAttrs(r,t);if(t.color){r.stroke=t.color||r.stroke}return r}function c(t,e,r){var a=[];var i;var n;if(o.isArray(e)){n=s(e);i=[[t-r/2,n.max],[t+r/2,n.max],[t,n.max],[t,n.max1],[t-r/2,n.min1],[t-r/2,n.max1],[t+r/2,n.max1],[t+r/2,n.min1],[t,n.min1],[t,n.min],[t-r/2,n.min],[t+r/2,n.min],[t-r/2,n.median],[t+r/2,n.median]]}else{e=e||.5;n=s(t);i=[[n.min,e-r/2],[n.min,e+r/2],[n.min,e],[n.min1,e],[n.min1,e-r/2],[n.min1,e+r/2],[n.max1,e+r/2],[n.max1,e-r/2],[n.max1,e],[n.max,e],[n.max,e-r/2],[n.max,e+r/2],[n.median,e-r/2],[n.median,e+r/2]]}l(i,a);return a}function v(t){if(!o.isArray(t)){t=[t]}var e=t.sort(function(t,e){return t<e?1:-1});var r=e.length;if(r<4){var a=e[r-1];for(var i=0;i<4-r;i++){e.push(a)}}return e}function h(t,e,r){var a=v(e);var i=[{x:t,y:a[0]},{x:t,y:a[1]},{x:t-r/2,y:a[2]},{x:t-r/2,y:a[1]},{x:t+r/2,y:a[1]},{x:t+r/2,y:a[2]},{x:t,y:a[2]},{x:t,y:a[3]}];return i}function p(t){var e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]];return e}function g(t){var e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]];return e}var d=a.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function t(e,r){if(e==="box"){var a=r.lineWidth||1;return{lineWidth:a+1}}var i=r.fillOpacity||r.opacity||1;return{fillOpacity:i-.15,strokeOpacity:i-.15}},getSelectedCfg:function t(e,r){if(r&&r.style){return r.style}return this.getActiveCfg(e,r)}});a.registerShape("schema","box",{getPoints:function t(e){return c(e.x,e.y,e.size)},draw:function t(e,r){var a=u(e);var i=p(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return{symbol:function t(e,r,a){var i=[r-6,r-3,r,r+3,r+6];var n=c(e,i,a);return[["M",n[0].x+1,n[0].y],["L",n[1].x-1,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x+1,n[10].y],["L",n[11].x-1,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]},radius:6,lineWidth:1,stroke:e.color}}});a.registerShape("schema","candle",{getPoints:function t(e){return h(e.x,e.y,e.size)},draw:function t(e,r){var a=f(e);var i=g(e.points);i=this.parsePath(i);return r.addShape("path",{attrs:o.mix(a,{path:i})})},getMarkerCfg:function t(e){return{symbol:function t(e,r,a){r=[r+7.5,r+3,r-3,r-7.5];var i=h(e,r,a);return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]},lineWidth:1,stroke:e.color,fill:e.color,radius:6}}});t.exports=d},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(21);var y=r(0);var n=r(401),m=n.venn,x=n.scaleSolution,b=n.circlePath,_=n.intersectionAreaPath,w=n.computeTextCentres;r(462);var o=function(d){a(t,d);function t(){return d.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=d.prototype.getDefaultCfg.call(this);e.type="venn";e.shapeType="venn";e.generatePoints=false;return e};e._getAttrValues=function t(e,r){if(e.type==="position"){return[r.x,r.y]}return d.prototype._getAttrValues.call(this,e,r)};e.sets=function t(e){this.set("setsField",e);return this};e._initAttrs=function t(){var e=this;d.prototype._initAttrs.call(this);var r=e.get("attrOptions");var a=e.get("setsField")||"sets";var i=e.get("data");var n=r.size?r.size.field:"size";i.forEach(function(t){t.sets=t[a];t._sets=t[a].join("&");t.size=t[n]});var o=m(i);var s=e.get("coord");var l=[Math.min(s.x.end,s.x.start),Math.max(s.x.end,s.x.start)];var u=[Math.min(s.y.end,s.y.start),Math.max(s.y.end,s.y.start)];var f=l[1]-l[0];var c=u[1]-u[0];var v=e.get("styleOptions");var h=v&&y.isObject(v.style)?v.style.padding:0;if(!y.isFinite(h)){h=0}var p=x(o,f,c,h);var g=w(p,i);i.forEach(function(t){var e=t.sets;var r=e.join(",");t.id=r;if(e.length===1){var a=p[r];t.path=b(a.x,a.y,a.radius);y.assign(t,a)}else{var i=e.map(function(t){return p[t]});var n=_(i);if(!/[zZ]$/.test(n)){n+="Z"}t.path=n;var o=g[r]||{x:0,y:0};y.assign(t,o)}})};return t}(i);i.Venn=o;t.exports=o},function(t,r,a){(function(t,e){true?e(r,a(72),a(437)):typeof define==="function"&&define.amd?define(["exports","d3-selection","d3-transition"],e):e(t.venn={},t.d3,t.d3)})(this,function(t,E,e){"use strict";var S=1e-10;function v(e,t){var r=C(e);var a=r.filter(function(t){return M(t,e)});var i=0,n=0,o=[],s;if(a.length>1){var l=P(a);for(s=0;s<a.length;++s){var u=a[s];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}a.sort(function(t,e){return e.angle-t.angle});var f=a[a.length-1];for(s=0;s<a.length;++s){var c=a[s];n+=(f.x+c.x)*(c.y-f.y);var v={x:(c.x+f.x)/2,y:(c.y+f.y)/2},h=null;for(var p=0;p<c.parentIndex.length;++p){if(f.parentIndex.indexOf(c.parentIndex[p])>-1){var g=e[c.parentIndex[p]],d=Math.atan2(c.x-g.x,c.y-g.y),y=Math.atan2(f.x-g.x,f.y-g.y);var m=y-d;if(m<0){m+=2*Math.PI}var x=y-m/2,b=A(v,{x:g.x+g.radius*Math.sin(x),y:g.y+g.radius*Math.cos(x)});if(b>g.radius*2){b=g.radius*2}if(h===null||h.width>b){h={circle:g,width:b,p1:c,p2:f}}}}if(h!==null){o.push(h);i+=k(h.circle.radius,h.width);f=c}}}else{var _=e[0];for(s=1;s<e.length;++s){if(e[s].radius<_.radius){_=e[s]}}var w=false;for(s=0;s<e.length;++s){if(A(e[s],_)>Math.abs(_.radius-e[s].radius)){w=true;break}}if(w){i=n=0}else{i=_.radius*_.radius*Math.PI;o.push({circle:_,p1:{x:_.x,y:_.y+_.radius},p2:{x:_.x-S,y:_.y+_.radius},width:_.radius*2})}}n/=2;if(t){t.area=i+n;t.arcArea=i;t.polygonArea=n;t.arcs=o;t.innerPoints=a;t.intersectionPoints=r}return i+n}function M(t,e){for(var r=0;r<e.length;++r){if(A(t,e[r])>e[r].radius+S){return false}}return true}function C(t){var e=[];for(var r=0;r<t.length;++r){for(var a=r+1;a<t.length;++a){var i=L(t[r],t[a]);for(var n=0;n<i.length;++n){var o=i[n];o.parentIndex=[r,a];e.push(o)}}}return e}function k(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function A(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function f(t,e,r){if(r>=t+e){return 0}if(r<=Math.abs(t-e)){return Math.PI*Math.min(t,e)*Math.min(t,e)}var a=t-(r*r-e*e+t*t)/(2*r),i=e-(r*r-t*t+e*e)/(2*r);return k(t,a)+k(e,i)}function L(t,e){var r=A(t,e),a=t.radius,i=e.radius;if(r>=a+i||r<=Math.abs(a-i)){return[]}var n=(a*a-i*i+r*r)/(2*r),o=Math.sqrt(a*a-n*n),s=t.x+n*(e.x-t.x)/r,l=t.y+n*(e.y-t.y)/r,u=-(e.y-t.y)*(o/r),f=-(e.x-t.x)*(o/r);return[{x:s+u,y:l-f},{x:s-u,y:l+f}]}function P(t){var e={x:0,y:0};for(var r=0;r<t.length;++r){e.x+=t[r].x;e.y+=t[r].y}e.x/=t.length;e.y/=t.length;return e}function i(t,e,r,a){a=a||{};var i=a.maxIterations||100,n=a.tolerance||1e-10,o=t(e),s=t(r),l=r-e;if(o*s>0){throw"Initial bisect points must have opposite signs"}if(o===0)return e;if(s===0)return r;for(var u=0;u<i;++u){l/=2;var f=e+l,c=t(f);if(c*o>=0){e=f}if(Math.abs(l)<n||c===0){return f}}return e+l}function m(t){var e=new Array(t);for(var r=0;r<t;++r){e[r]=0}return e}function r(t,e){return m(t).map(function(){return m(e)})}function g(t,e){var r=0;for(var a=0;a<t.length;++a){r+=t[a]*e[a]}return r}function x(t){return Math.sqrt(g(t,t))}function b(t,e,r){for(var a=0;a<e.length;++a){t[a]=e[a]*r}}function I(t,e,r,a,i){for(var n=0;n<t.length;++n){t[n]=e*r[n]+a*i[n]}}function h(t,e,r){r=r||{};var a=r.maxIterations||e.length*200,i=r.nonZeroDelta||1.05,n=r.zeroDelta||.001,o=r.minErrorDelta||1e-6,s=r.minErrorDelta||1e-5,l=r.rho!==undefined?r.rho:1,u=r.chi!==undefined?r.chi:2,f=r.psi!==undefined?r.psi:-.5,c=r.sigma!==undefined?r.sigma:.5,v;var h=e.length,p=new Array(h+1);p[0]=e;p[0].fx=t(e);p[0].id=0;for(var g=0;g<h;++g){var d=e.slice();d[g]=d[g]?d[g]*i:n;p[g+1]=d;p[g+1].fx=t(d);p[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++){p[h][e]=t[e]}p[h].fx=t.fx}var m=function(t,e){return t.fx-e.fx};var x=e.slice(),b=e.slice(),_=e.slice(),w=e.slice();for(var S=0;S<a;++S){p.sort(m);if(r.history){var M=p.map(function(t){var e=t.slice();e.fx=t.fx;e.id=t.id;return e});M.sort(function(t,e){return t.id-e.id});r.history.push({x:p[0].slice(),fx:p[0].fx,simplex:M})}v=0;for(g=0;g<h;++g){v=Math.max(v,Math.abs(p[0][g]-p[1][g]))}if(Math.abs(p[0].fx-p[h].fx)<o&&v<s){break}for(g=0;g<h;++g){x[g]=0;for(var C=0;C<h;++C){x[g]+=p[C][g]}x[g]/=h}var k=p[h];I(b,1+l,x,-l,k);b.fx=t(b);if(b.fx<p[0].fx){I(w,1+u,x,-u,k);w.fx=t(w);if(w.fx<b.fx){y(w)}else{y(b)}}else if(b.fx>=p[h-1].fx){var A=false;if(b.fx>k.fx){I(_,1+f,x,-f,k);_.fx=t(_);if(_.fx<k.fx){y(_)}else{A=true}}else{I(_,1-f*l,x,f*l,k);_.fx=t(_);if(_.fx<b.fx){y(_)}else{A=true}}if(A){if(c>=1)break;for(g=1;g<p.length;++g){I(p[g],1-c,p[0],c,p[g]);p[g].fx=t(p[g])}}}else{y(b)}}p.sort(m);return{fx:p[0].fx,x:p[0]}}function p(i,n,o,s,l,u,f){var c=o.fx,v=g(o.fxprime,n),h=c,t=c,p=v,e=0;l=l||1;u=u||1e-6;f=f||.1;function r(t,e,r){for(var a=0;a<16;++a){l=(t+e)/2;I(s.x,1,o.x,l,n);h=s.fx=i(s.x,s.fxprime);p=g(s.fxprime,n);if(h>c+u*l*v||h>=r){e=l}else{if(Math.abs(p)<=-f*v){return l}if(p*(e-t)>=0){e=t}t=l;r=h}}return 0}for(var a=0;a<10;++a){I(s.x,1,o.x,l,n);h=s.fx=i(s.x,s.fxprime);p=g(s.fxprime,n);if(h>c+u*l*v||a&&h>=t){return r(e,l,t)}if(Math.abs(p)<=-f*v){return l}if(p>=0){return r(l,e,h)}t=h;e=l;l*=2}return l}function _(t,e,r){var a={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},n=e.slice(),o,s,l=1,u;r=r||{};u=r.maxIterations||e.length*20;a.fx=t(a.x,a.fxprime);o=a.fxprime.slice();b(o,a.fxprime,-1);for(var f=0;f<u;++f){l=p(t,o,a,i,l);if(r.history){r.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:l})}if(!l){b(o,a.fxprime,-1)}else{I(n,1,i.fxprime,-1,a.fxprime);var c=g(a.fxprime,a.fxprime),v=Math.max(0,g(n,i.fxprime)/c);I(o,v,o,-1,i.fxprime);s=a;a=i;i=s}if(x(a.fxprime)<=1e-5){break}}if(r.history){r.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:l})}return a}function n(i,t){t=t||{};t.maxIterations=t.maxIterations||500;var e=t.initialLayout||d;var n=t.lossFunction||B;i=c(i);var o=e(i,t);var r=[],s=[],a;for(a in o){if(o.hasOwnProperty(a)){r.push(o[a].x);r.push(o[a].y);s.push(a)}}var l=h(function(t){var e={};for(var r=0;r<s.length;++r){var a=s[r];e[a]={x:t[2*r],y:t[2*r+1],radius:o[a].radius}}return n(e,i)},r,t);var u=l.x;for(var f=0;f<s.length;++f){a=s[f];o[a].x=u[2*f];o[a].y=u[2*f+1]}return o}var D=1e-10;function F(e,r,a){if(Math.min(e,r)*Math.min(e,r)*Math.PI<=a+D){return Math.abs(e-r)}return i(function(t){return f(e,r,t)-a},0,e+r)}function c(t){t=t.slice();var e=[],r={},a,i,n,o;for(a=0;a<t.length;++a){var s=t[a];if(s.sets.length==1){e.push(s.sets[0])}else if(s.sets.length==2){n=s.sets[0];o=s.sets[1];r[[n,o]]=true;r[[o,n]]=true}}e.sort(function(t,e){return t>e});for(a=0;a<e.length;++a){n=e[a];for(i=a+1;i<e.length;++i){o=e[i];if(!([n,o]in r)){t.push({sets:[n,o],size:0})}}}return t}function w(t,s,l){var u=r(s.length,s.length),f=r(s.length,s.length);t.filter(function(t){return t.sets.length==2}).map(function(t){var e=l[t.sets[0]],r=l[t.sets[1]],a=Math.sqrt(s[e].size/Math.PI),i=Math.sqrt(s[r].size/Math.PI),n=F(a,i,t.size);u[e][r]=u[r][e]=n;var o=0;if(t.size+1e-10>=Math.min(s[e].size,s[r].size)){o=1}else if(t.size<=1e-10){o=-1}f[e][r]=f[r][e]=o});return{distances:u,constraints:f}}function T(t,e,r,a){var i=0,n;for(n=0;n<e.length;++n){e[n]=0}for(n=0;n<r.length;++n){var o=t[2*n],s=t[2*n+1];for(var l=n+1;l<r.length;++l){var u=t[2*l],f=t[2*l+1],c=r[n][l],v=a[n][l];var h=(u-o)*(u-o)+(f-s)*(f-s),p=Math.sqrt(h),g=h-c*c;if(v>0&&p<=c||v<0&&p>=c){continue}i+=2*g*g;e[2*n]+=4*g*(o-u);e[2*n+1]+=4*g*(s-f);e[2*l]+=4*g*(u-o);e[2*l+1]+=4*g*(f-s)}}return i}function d(t,e){var r=l(t,e);var a=e.lossFunction||B;if(t.length>=8){var i=s(t,e),n=a(i,t),o=a(r,t);if(n+1e-8<o){r=i}}return r}function s(t,e){e=e||{};var r=e.restarts||10;var a=[],i={},n;for(n=0;n<t.length;++n){var o=t[n];if(o.sets.length==1){i[o.sets[0]]=a.length;a.push(o)}}var s=w(t,a,i),l=s.distances,u=s.constraints;var f=x(l.map(x))/l.length;l=l.map(function(t){return t.map(function(t){return t/f})});var c=function(t,e){return T(t,e,l,u)};var v,h;for(n=0;n<r;++n){var p=m(l.length*2).map(Math.random);h=_(c,p,e);if(!v||h.fx<v.fx){v=h}}var g=v.x;var d={};for(n=0;n<a.length;++n){var y=a[n];d[y.sets[0]]={x:g[2*n]*f,y:g[2*n+1]*f,radius:Math.sqrt(y.size/Math.PI)}}if(e.history){for(n=0;n<e.history.length;++n){b(e.history[n].x,f)}}return d}function l(t,e){var r=e&&e.lossFunction?e.lossFunction:B;var a={},i={},n;for(var o=0;o<t.length;++o){var s=t[o];if(s.sets.length==1){n=s.sets[0];a[n]={x:1e10,y:1e10,rowid:a.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)};i[n]=[]}}t=t.filter(function(t){return t.sets.length==2});for(o=0;o<t.length;++o){var l=t[o];var u=l.hasOwnProperty("weight")?l.weight:1;var f=l.sets[0],c=l.sets[1];if(l.size+D>=Math.min(a[f].size,a[c].size)){u=0}i[f].push({set:c,size:l.size,weight:u});i[c].push({set:f,size:l.size,weight:u})}var v=[];for(n in i){if(i.hasOwnProperty(n)){var h=0;for(o=0;o<i[n].length;++o){h+=i[n][o].size*i[n][o].weight}v.push({set:n,size:h})}}function p(t,e){return e.size-t.size}v.sort(p);var g={};function d(t){return t.set in g}function y(t,e){a[e].x=t.x;a[e].y=t.y;g[e]=true}y({x:0,y:0},v[0].set);for(o=1;o<v.length;++o){var m=v[o].set,x=i[m].filter(d);n=a[m];x.sort(p);if(x.length===0){throw"ERROR: missing pairwise overlap information"}var b=[];for(var _=0;_<x.length;++_){var w=a[x[_].set],S=F(n.radius,w.radius,x[_].size);b.push({x:w.x+S,y:w.y});b.push({x:w.x-S,y:w.y});b.push({y:w.y+S,x:w.x});b.push({y:w.y-S,x:w.x});for(var M=_+1;M<x.length;++M){var C=a[x[M].set],k=F(n.radius,C.radius,x[M].size);var A=L({x:w.x,y:w.y,radius:S},{x:C.x,y:C.y,radius:k});for(var P=0;P<A.length;++P){b.push(A[P])}}}var I=1e50,T=b[0];for(_=0;_<b.length;++_){a[m].x=b[_].x;a[m].y=b[_].y;var O=r(a,t);if(O<I){I=O;T=b[_]}}y(T,m)}return a}function B(e,t){var r=0;function a(t){return t.map(function(t){return e[t]})}for(var i=0;i<t.length;++i){var n=t[i],o;if(n.sets.length==1){continue}else if(n.sets.length==2){var s=e[n.sets[0]],l=e[n.sets[1]];o=f(s.radius,l.radius,A(s,l))}else{o=v(a(n.sets))}var u=n.hasOwnProperty("weight")?n.weight:1;r+=u*(o-n.size)*(o-n.size)}return r}function y(t,e,r){if(r===null){t.sort(function(t,e){return e.radius-t.radius})}else{t.sort(r)}var a;if(t.length>0){var i=t[0].x,n=t[0].y;for(a=0;a<t.length;++a){t[a].x-=i;t[a].y-=n}}if(t.length==2){var o=A(t[0],t[1]);if(o<Math.abs(t[1].radius-t[0].radius)){t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10;t[1].y=t[0].y}}if(t.length>1){var s=Math.atan2(t[1].x,t[1].y)-e,l=Math.cos(s),u=Math.sin(s),f,c;for(a=0;a<t.length;++a){f=t[a].x;c=t[a].y;t[a].x=l*f-u*c;t[a].y=u*f+l*c}}if(t.length>2){var v=Math.atan2(t[2].x,t[2].y)-e;while(v<0){v+=2*Math.PI}while(v>2*Math.PI){v-=2*Math.PI}if(v>Math.PI){var h=t[1].y/(1e-10+t[1].x);for(a=0;a<t.length;++a){var p=(t[a].x+h*t[a].y)/(1+h*h);t[a].x=2*p-t[a].x;t[a].y=2*p*h-t[a].y}}}}function O(t){t.map(function(t){t.parent=t});function i(t){if(t.parent!==t){t.parent=i(t.parent)}return t.parent}function e(t,e){var r=i(t),a=i(e);r.parent=a}for(var r=0;r<t.length;++r){for(var a=r+1;a<t.length;++a){var n=t[r].radius+t[a].radius;if(A(t[r],t[a])+1e-10<n){e(t[a],t[r])}}}var o={},s;for(r=0;r<t.length;++r){s=i(t[r]).parent.setid;if(!(s in o)){o[s]=[]}o[s].push(t[r])}t.map(function(t){delete t.parent});var l=[];for(s in o){if(o.hasOwnProperty(s)){l.push(o[s])}}return l}function R(a){var t=function(e){var t=Math.max.apply(null,a.map(function(t){return t[e]+t.radius})),r=Math.min.apply(null,a.map(function(t){return t[e]-t.radius}));return{max:t,min:r}};return{xRange:t("x"),yRange:t("y")}}function j(t,e,r){if(e===null){e=Math.PI/2}var l=[],a,i;for(i in t){if(t.hasOwnProperty(i)){var n=t[i];l.push({x:n.x,y:n.y,radius:n.radius,setid:i})}}var o=O(l);for(a=0;a<o.length;++a){y(o[a],e,r);var s=R(o[a]);o[a].size=(s.xRange.max-s.xRange.min)*(s.yRange.max-s.yRange.min);o[a].bounds=s}o.sort(function(t,e){return e.size-t.size});l=o[0];var u=l.bounds;var f=(u.xRange.max-u.xRange.min)/50;function c(t,e,r){if(!t)return;var a=t.bounds,i,n,o;if(e){i=u.xRange.max-a.xRange.min+f}else{i=u.xRange.max-a.xRange.max;o=(a.xRange.max-a.xRange.min)/2-(u.xRange.max-u.xRange.min)/2;if(o<0)i+=o}if(r){n=u.yRange.max-a.yRange.min+f}else{n=u.yRange.max-a.yRange.max;o=(a.yRange.max-a.yRange.min)/2-(u.yRange.max-u.yRange.min)/2;if(o<0)n+=o}for(var s=0;s<t.length;++s){t[s].x+=i;t[s].y+=n;l.push(t[s])}}var v=1;while(v<o.length){c(o[v],true,false);c(o[v+1],false,true);c(o[v+2],true,true);v+=3;u=R(l)}var h={};for(a=0;a<l.length;++a){h[l[a].setid]=l[a]}return h}function N(t,e,r,a){var i=[],n=[];for(var o in t){if(t.hasOwnProperty(o)){n.push(o);i.push(t[o])}}e-=2*a;r-=2*a;var s=R(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min){console.log("not scaling solution: zero size detected");return t}var f=e/(l.max-l.min),c=r/(u.max-u.min),v=Math.min(c,f),h=(e-(l.max-l.min)*v)/2,p=(r-(u.max-u.min)*v)/2;var g={};for(var d=0;d<i.length;++d){var y=i[d];g[n[d]]={radius:v*y.radius,x:a+h+(y.x-l.min)*v,y:a+p+(y.y-u.min)*v}}return g}function a(){var b=600,_=350,w=15,S=1e3,M=Math.PI/2,C=true,k=true,A=true,P=null,I=null,r={},a=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],i=0,T=function(t){if(t in r){return r[t]}var e=r[t]=a[i];i+=1;if(i>=a.length){i=0}return e},O=n,L=B;function e(t){var e=t.datum();var r={};e.forEach(function(t){if(t.size==0&&t.sets.length==1){r[t.sets[0]]=1}});e=e.filter(function(t){return!t.sets.some(function(t){return t in r})});var i={};var a={};if(e.length>0){var n=O(e,{lossFunction:L});if(C){n=j(n,M,I)}i=N(n,b,_,w);a=X(i,e)}var o={};e.forEach(function(t){if(t.label){o[t.sets]=t.label}});function s(t){if(t.sets in o){return o[t.sets]}if(t.sets.length==1){return""+t.sets[0]}}t.selectAll("svg").data([i]).enter().append("svg");var l=t.select("svg").attr("width",b).attr("height",_);var u={},f=false;l.selectAll(".venn-area path").each(function(t){var e=E.select(this).attr("d");if(t.sets.length==1&&e){f=true;u[t.sets[0]]=W(e)}});var c=function(e){return function(a){var t=e.sets.map(function(t){var e=u[t],r=i[t];if(!e){e={x:b/2,y:_/2,radius:1}}if(!r){r={x:b/2,y:_/2,radius:1}}return{x:e.x*(1-a)+r.x*a,y:e.y*(1-a)+r.y*a,radius:e.radius*(1-a)+r.radius*a}});return G(t)}};var v=l.selectAll(".venn-area").data(e,function(t){return t.sets});var h=v.enter().append("g").attr("class",function(t){return"venn-area venn-"+(t.sets.length==1?"circle":"intersection")}).attr("data-venn-sets",function(t){return t.sets.join("_")});var p=h.append("path"),g=h.append("text").attr("class","label").text(function(t){return s(t)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",b/2).attr("y",_/2);if(A){p.style("fill-opacity","0").filter(function(t){return t.sets.length==1}).style("fill",function(t){return T(t.sets)}).style("fill-opacity",".25");g.style("fill",function(t){return t.sets.length==1?T(t.sets):"#444"})}var d=t;if(f){d=t.transition("venn").duration(S);d.selectAll("path").attrTween("d",c)}else{d.selectAll("path").attr("d",function(t){return G(t.sets.map(function(t){return i[t]}))})}var y=d.selectAll("text").filter(function(t){return t.sets in a}).text(function(t){return s(t)}).attr("x",function(t){return Math.floor(a[t.sets].x)}).attr("y",function(t){return Math.floor(a[t.sets].y)});if(k){if(f){if("on"in y){y.on("end",z(i,s))}else{y.each("end",z(i,s))}}else{y.each(z(i,s))}}var m=v.exit().transition("venn").duration(S).remove();m.selectAll("path").attrTween("d",c);var x=m.selectAll("text").attr("x",b/2).attr("y",_/2);if(P!==null){g.style("font-size","0px");y.style("font-size",P);x.style("font-size","0px")}return{circles:i,textCentres:a,nodes:v,enter:h,update:d,exit:m}}e.wrap=function(t){if(!arguments.length)return k;k=t;return e};e.width=function(t){if(!arguments.length)return b;b=t;return e};e.height=function(t){if(!arguments.length)return _;_=t;return e};e.padding=function(t){if(!arguments.length)return w;w=t;return e};e.colours=function(t){if(!arguments.length)return T;T=t;return e};e.fontSize=function(t){if(!arguments.length)return P;P=t;return e};e.duration=function(t){if(!arguments.length)return S;S=t;return e};e.layoutFunction=function(t){if(!arguments.length)return O;O=t;return e};e.normalize=function(t){if(!arguments.length)return C;C=t;return e};e.styled=function(t){if(!arguments.length)return A;A=t;return e};e.orientation=function(t){if(!arguments.length)return M;M=t;return e};e.orientationOrder=function(t){if(!arguments.length)return I;I=t;return e};e.lossFunction=function(t){if(!arguments.length)return L;L=t;return e};return e}function z(d,y){return function(){var t=E.select(this),e=t.datum(),r=d[e.sets[0]].radius||50,a=y(e)||"";var i=a.split(/\s+/).reverse(),n=3,o=(a.length+i.length)/n,s=i.pop(),l=[s],u,f=0,c=1.1,v=t.text(null).append("tspan").text(s);while(true){s=i.pop();if(!s)break;l.push(s);u=l.join(" ");v.text(u);if(u.length>o&&v.node().getComputedTextLength()>r){l.pop();v.text(l.join(" "));l=[s];v=t.append("tspan").text(s);f++}}var h=.35-f*c/2,p=t.attr("x"),g=t.attr("y");t.selectAll("tspan").attr("x",p).attr("y",g).attr("dy",function(t,e){return h+e*c+"em"})}}function Y(t,e,r){var a=e[0].radius-A(e[0],t),i,n;for(i=1;i<e.length;++i){n=e[i].radius-A(e[i],t);if(n<=a){a=n}}for(i=0;i<r.length;++i){n=A(r[i],t)-r[i].radius;if(n<=a){a=n}}return a}function V(e,r){var t=[],a;for(a=0;a<e.length;++a){var i=e[a];t.push({x:i.x,y:i.y});t.push({x:i.x+i.radius/2,y:i.y});t.push({x:i.x-i.radius/2,y:i.y});t.push({x:i.x,y:i.y+i.radius/2});t.push({x:i.x,y:i.y-i.radius/2})}var n=t[0],o=Y(t[0],e,r);for(a=1;a<t.length;++a){var s=Y(t[a],e,r);if(s>=o){n=t[a];o=s}}var l=h(function(t){return-1*Y({x:t[0],y:t[1]},e,r)},[n.x,n.y],{maxIterations:500,minErrorDelta:1e-10}).x;var u={x:l[0],y:l[1]};var f=true;for(a=0;a<e.length;++a){if(A(u,e[a])>e[a].radius){f=false;break}}for(a=0;a<r.length;++a){if(A(u,r[a])<r[a].radius){f=false;break}}if(!f){if(e.length==1){u={x:e[0].x,y:e[0].y}}else{var c={};v(e,c);if(c.arcs.length===0){u={x:0,y:-1e3,disjoint:true}}else if(c.arcs.length==1){u={x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}}else if(r.length){u=V(e,[])}else{u=P(c.arcs.map(function(t){return t.p1}))}}}return u}function H(t){var e={},r=[];for(var a in t){r.push(a);e[a]=[]}for(var i=0;i<r.length;i++){var n=t[r[i]];for(var o=i+1;o<r.length;++o){var s=t[r[o]],l=A(n,s);if(l+s.radius<=n.radius+1e-10){e[r[o]].push(r[i])}else if(l+n.radius<=s.radius+1e-10){e[r[i]].push(r[o])}}}return e}function X(t,e){var r={},a=H(t);for(var i=0;i<e.length;++i){var n=e[i].sets,o={},s={};for(var l=0;l<n.length;++l){o[n[l]]=true;var u=a[n[l]];for(var f=0;f<u.length;++f){s[u[f]]=true}}var c=[],v=[];for(var h in t){if(h in o){c.push(t[h])}else if(!(h in s)){v.push(t[h])}}var p=V(c,v);r[n]=p;if(p.disjoint&&e[i].size>0){console.log("WARNING: area "+n+" not represented on screen")}}return r}function o(t,r){var e=H(t.selectAll("svg").datum());var a={};for(var i=0;i<r.sets.length;++i){var n=r.sets[i];for(var o in e){var s=e[o];for(var l=0;l<s.length;++l){if(s[l]==n){a[o]=true;break}}}}function u(t){for(var e=0;e<t.length;++e){if(!(t[e]in a)){return false}}return true}t.selectAll("g").sort(function(t,e){if(t.sets.length!=e.sets.length){return t.sets.length-e.sets.length}if(t==r){return u(e.sets)?-1:1}if(e==r){return u(t.sets)?1:-1}return e.size-t.size})}function u(t,e,r){var a=[];a.push("\nM",t,e);a.push("\nm",-r,0);a.push("\na",r,r,0,1,0,r*2,0);a.push("\na",r,r,0,1,0,-r*2,0);return a.join(" ")}function W(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function G(t){var e={};v(t,e);var r=e.arcs;if(r.length===0){return"M 0 0"}else if(r.length==1){var a=r[0].circle;return u(a.x,a.y,a.radius)}else{var i=["\nM",r[0].p2.x,r[0].p2.y];for(var n=0;n<r.length;++n){var o=r[n],s=o.circle.radius,l=o.width>s;i.push("\nA",s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}}t.intersectionArea=v;t.circleCircleIntersection=L;t.circleOverlap=f;t.circleArea=k;t.distance=A;t.venn=n;t.greedyLayout=l;t.scaleSolution=N;t.normalizeSolution=j;t.bestInitialLayout=d;t.lossFunction=B;t.disjointCluster=O;t.distanceFromIntersectArea=F;t.VennDiagram=a;t.wrapText=z;t.computeTextCentres=X;t.computeTextCentre=V;t.sortAreas=o;t.circlePath=u;t.circleFromPath=W;t.intersectionAreaPath=G;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,r){"use strict";var a=r(361);var i=r(380);e["a"]=function(t){return Object(i["a"])(Object(a["a"])(t).call(document.documentElement))}},function(t,e,r){"use strict";var c=r(70);var v=r(373);e["a"]=function(t){if(typeof t!=="function")t=Object(v["a"])(t);for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var n=e[i],o=n.length,s=a[i]=new Array(o),l,u,f=0;f<o;++f){if((l=n[f])&&(u=t.call(l,l.__data__,f,n))){if("__data__"in l)u.__data__=l.__data__;s[f]=u}}}return new c["a"](a,this._parents)}},function(t,e,r){"use strict";var f=r(70);var c=r(381);e["a"]=function(t){if(typeof t!=="function")t=Object(c["a"])(t);for(var e=this._groups,r=e.length,a=[],i=[],n=0;n<r;++n){for(var o=e[n],s=o.length,l,u=0;u<s;++u){if(l=o[u]){a.push(t.call(l,l.__data__,u,o));i.push(l)}}}return new f["a"](a,i)}},function(t,e,r){"use strict";var f=r(70);var c=r(382);e["a"]=function(t){if(typeof t!=="function")t=Object(c["a"])(t);for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var n=e[i],o=n.length,s=a[i]=[],l,u=0;u<o;++u){if((l=n[u])&&t.call(l,l.__data__,u,n)){s.push(l)}}}return new f["a"](a,this._parents)}},function(t,e,r){"use strict";var w=r(70);var p=r(383);var S=r(407);var g="$";function M(t,e,r,a,i,n){var o=0,s,l=e.length,u=n.length;for(;o<u;++o){if(s=e[o]){s.__data__=n[o];a[o]=s}else{r[o]=new p["a"](t,n[o])}}for(;o<l;++o){if(s=e[o]){i[o]=s}}}function C(t,e,r,a,i,n,o){var s,l,u={},f=e.length,c=n.length,v=new Array(f),h;for(s=0;s<f;++s){if(l=e[s]){v[s]=h=g+o.call(l,l.__data__,s,e);if(h in u){i[s]=l}else{u[h]=l}}}for(s=0;s<c;++s){h=g+o.call(t,n[s],s,n);if(l=u[h]){a[s]=l;l.__data__=n[s];u[h]=null}else{r[s]=new p["a"](t,n[s])}}for(s=0;s<f;++s){if((l=e[s])&&u[v[s]]===l){i[s]=l}}}e["a"]=function(t,e){if(!t){h=new Array(this.size()),u=-1;this.each(function(t){h[++u]=t});return h}var r=e?C:M,a=this._parents,i=this._groups;if(typeof t!=="function")t=Object(S["a"])(t);for(var n=i.length,o=new Array(n),s=new Array(n),l=new Array(n),u=0;u<n;++u){var f=a[u],c=i[u],v=c.length,h=t.call(f,f&&f.__data__,u,a),p=h.length,g=s[u]=new Array(p),d=o[u]=new Array(p),y=l[u]=new Array(v);r(f,c,g,d,y,h,e);for(var m=0,x=0,b,_;m<p;++m){if(b=g[m]){if(m>=x)x=m+1;while(!(_=d[x])&&++x<p);b._next=_||null}}}o=new w["a"](o,a);o._enter=s;o._exit=l;return o}},function(t,e,r){"use strict";e["a"]=function(t){return function(){return t}}},function(t,e,r){"use strict";var a=r(384);var i=r(70);e["a"]=function(){return new i["a"](this._exit||this._groups.map(a["a"]),this._parents)}},function(t,e,r){"use strict";e["a"]=function(t,e,r){var a=this.enter(),i=this,n=this.exit();a=typeof t==="function"?t(a):a.append(t+"");if(e!=null)i=e(i);if(r==null)n.remove();else r(n);return a&&i?a.merge(i).order():i}},function(t,e,r){"use strict";var p=r(70);e["a"]=function(t){for(var e=this._groups,r=t._groups,a=e.length,i=r.length,n=Math.min(a,i),o=new Array(a),s=0;s<n;++s){for(var l=e[s],u=r[s],f=l.length,c=o[s]=new Array(f),v,h=0;h<f;++h){if(v=l[h]||u[h]){c[h]=v}}}for(;s<a;++s){o[s]=e[s]}return new p["a"](o,this._parents)}},function(t,e,r){"use strict";e["a"]=function(){for(var t=this._groups,e=-1,r=t.length;++e<r;){for(var a=t[e],i=a.length-1,n=a[i],o;--i>=0;){if(o=a[i]){if(n&&o.compareDocumentPosition(n)^4)n.parentNode.insertBefore(o,n);n=o}}}return this}},function(t,e,r){"use strict";var c=r(70);e["a"]=function(r){if(!r)r=v;function t(t,e){return t&&e?r(t.__data__,e.__data__):!t-!e}for(var e=this._groups,a=e.length,i=new Array(a),n=0;n<a;++n){for(var o=e[n],s=o.length,l=i[n]=new Array(s),u,f=0;f<s;++f){if(u=o[f]){l[f]=u}}l.sort(t)}return new c["a"](i,this._parents).order()};function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,r){"use strict";e["a"]=function(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}},function(t,e,r){"use strict";e["a"]=function(){var t=new Array(this.size()),e=-1;this.each(function(){t[++e]=this});return t}},function(t,e,r){"use strict";e["a"]=function(){for(var t=this._groups,e=0,r=t.length;e<r;++e){for(var a=t[e],i=0,n=a.length;i<n;++i){var o=a[i];if(o)return o}}return null}},function(t,e,r){"use strict";e["a"]=function(){var t=0;this.each(function(){++t});return t}},function(t,e,r){"use strict";e["a"]=function(){return!this.node()}},function(t,e,r){"use strict";e["a"]=function(t){for(var e=this._groups,r=0,a=e.length;r<a;++r){for(var i=e[r],n=0,o=i.length,s;n<o;++n){if(s=i[n])t.call(s,s.__data__,n,i)}}return this}},function(t,e,r){"use strict";var i=r(371);function n(t){return function(){this.removeAttribute(t)}}function o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function s(t,e){return function(){this.setAttribute(t,e)}}function l(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function u(e,r){return function(){var t=r.apply(this,arguments);if(t==null)this.removeAttribute(e);else this.setAttribute(e,t)}}function f(e,r){return function(){var t=r.apply(this,arguments);if(t==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,t)}}e["a"]=function(t,e){var r=Object(i["a"])(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?o:n:typeof e==="function"?r.local?f:u:r.local?l:s)(r,e))}},function(t,e,r){"use strict";function a(t){return function(){delete this[t]}}function i(t,e){return function(){this[t]=e}}function n(e,r){return function(){var t=r.apply(this,arguments);if(t==null)delete this[e];else this[e]=t}}e["a"]=function(t,e){return arguments.length>1?this.each((e==null?a:typeof e==="function"?n:i)(t,e)):this.node()[t]}},function(t,e,r){"use strict";function o(t){return t.trim().split(/^|\s+/)}function s(t){return t.classList||new a(t)}function a(t){this._node=t;this._names=o(t.getAttribute("class")||"")}a.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function i(t,e){var r=s(t),a=-1,i=e.length;while(++a<i)r.add(e[a])}function n(t,e){var r=s(t),a=-1,i=e.length;while(++a<i)r.remove(e[a])}function l(t){return function(){i(this,t)}}function u(t){return function(){n(this,t)}}function f(t,e){return function(){(e.apply(this,arguments)?i:n)(this,t)}}e["a"]=function(t,e){var r=o(t+"");if(arguments.length<2){var a=s(this.node()),i=-1,n=r.length;while(++i<n)if(!a.contains(r[i]))return false;return true}return this.each((typeof e==="function"?f:e?l:u)(r,e))}},function(t,e,r){"use strict";function a(){this.textContent=""}function i(t){return function(){this.textContent=t}}function n(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}e["a"]=function(t){return arguments.length?this.each(t==null?a:(typeof t==="function"?n:i)(t)):this.node().textContent}},function(t,e,r){"use strict";function a(){this.innerHTML=""}function i(t){return function(){this.innerHTML=t}}function n(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}e["a"]=function(t){return arguments.length?this.each(t==null?a:(typeof t==="function"?n:i)(t)):this.node().innerHTML}},function(t,e,r){"use strict";function a(){if(this.nextSibling)this.parentNode.appendChild(this)}e["a"]=function(){return this.each(a)}},function(t,e,r){"use strict";function a(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}e["a"]=function(){return this.each(a)}},function(t,e,r){"use strict";var a=r(361);e["a"]=function(t){var e=typeof t==="function"?t:Object(a["a"])(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,r){"use strict";var i=r(361);var n=r(373);function o(){return null}e["a"]=function(t,e){var r=typeof t==="function"?t:Object(i["a"])(t),a=e==null?o:typeof e==="function"?e:Object(n["a"])(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,r){"use strict";function a(){var t=this.parentNode;if(t)t.removeChild(this)}e["a"]=function(){return this.each(a)}},function(t,e,r){"use strict";function a(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function i(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}e["a"]=function(t){return this.select(t?i:a)}},function(t,e,r){"use strict";e["a"]=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,r){"use strict";var n=r(374);function a(t,e,r){var a=Object(n["a"])(t),i=a.CustomEvent;if(typeof i==="function"){i=new i(e,r)}else{i=a.document.createEvent("Event");if(r)i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function i(t,e){return function(){return a(this,t,e)}}function o(t,e){return function(){return a(this,t,e.apply(this,arguments))}}e["a"]=function(t,e){return this.each((typeof e==="function"?o:i)(t,e))}},function(t,e,r){"use strict";e["a"]=i;var a=0;function i(){return new n}function n(){this._="@"+(++a).toString(36)}n.prototype=i.prototype={constructor:n,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,r){"use strict";var a=r(376);var i=r(362);e["a"]=function(t){var e=Object(a["a"])();if(e.changedTouches)e=e.changedTouches[0];return Object(i["a"])(t,e)}},function(t,e,r){"use strict";var a=r(70);e["a"]=function(t){return typeof t==="string"?new a["a"]([document.querySelectorAll(t)],[document.documentElement]):new a["a"]([t==null?[]:t],a["c"])}},function(t,e,r){"use strict";var o=r(376);var s=r(362);e["a"]=function(t,e,r){if(arguments.length<3)r=e,e=Object(o["a"])().changedTouches;for(var a=0,i=e?e.length:0,n;a<i;++a){if((n=e[a]).identifier===r){return Object(s["a"])(t,n)}}return null}},function(t,e,r){"use strict";var n=r(376);var o=r(362);e["a"]=function(t,e){if(e==null)e=Object(n["a"])().touches;for(var r=0,a=e?e.length:0,i=new Array(a);r<a;++r){i[r]=Object(o["a"])(t,e[r])}return i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=r(438);var i=r(170);r.d(e,"transition",function(){return i["b"]});var n=r(461);r.d(e,"active",function(){return n["a"]});var o=r(386);r.d(e,"interrupt",function(){return o["a"]})},function(t,e,r){"use strict";var a=r(72);var i=r(439);var n=r(442);a["selection"].prototype.interrupt=i["a"];a["selection"].prototype.transition=n["a"]},function(t,e,r){"use strict";var a=r(386);e["a"]=function(t){return this.each(function(){Object(a["a"])(this,t)})}},function(t,e,r){"use strict";var a=r(441);r.d(e,"a",function(){return a["a"]})},function(t,e,r){"use strict";var n={value:function(){}};function a(){for(var t=0,e=arguments.length,r={},a;t<e;++t){if(!(a=arguments[t]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new i(r)}function i(t){this._=t}function s(t,a){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0)e=t.slice(r+1),t=t.slice(0,r);if(t&&!a.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}i.prototype=a.prototype={constructor:i,on:function(t,e){var r=this._,a=s(t+"",r),i,n=-1,o=a.length;if(arguments.length<2){while(++n<o)if((i=(t=a[n]).type)&&(i=l(r[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++n<o){if(i=(t=a[n]).type)r[i]=u(r[i],t.name,e);else if(e==null)for(i in r)r[i]=u(r[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new i(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),a=0,i,n;a<i;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(n=this._[t],a=0,i=n.length;a<i;++a)n[a].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],i=0,n=a.length;i<n;++i)a[i].value.apply(e,r)}};function l(t,e){for(var r=0,a=t.length,i;r<a;++r){if((i=t[r]).name===e){return i.value}}}function u(t,e,r){for(var a=0,i=t.length;a<i;++a){if(t[a].name===e){t[a]=n,t=t.slice(0,a).concat(t.slice(a+1));break}}if(r!=null)t.push({name:e,value:r});return t}e["a"]=a},function(t,e,r){"use strict";var f=r(170);var c=r(46);var a=r(174);var v=r(171);var h={time:null,delay:0,duration:250,ease:a["easeCubicInOut"]};function p(t,e){var r;while(!(r=t.__transition)||!(r=r[e])){if(!(t=t.parentNode)){return h.time=Object(v["now"])(),h}}return r}e["a"]=function(t){var e,r;if(t instanceof f["a"]){e=t._id,t=t._name}else{e=Object(f["c"])(),(r=h).time=Object(v["now"])(),t=t==null?null:t+""}for(var a=this._groups,i=a.length,n=0;n<i;++n){for(var o=a[n],s=o.length,l,u=0;u<s;++u){if(l=o[u]){Object(c["e"])(l,t,e,u,o,r||p(l,e))}}}return new f["a"](a,this._parents,t,e)}},function(t,e,r){"use strict";var i=r(117);var n=r(72);var o=r(363);var s=r(387);function l(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function f(e,r,a){var i,n=a+"",o;return function(){var t=this.getAttribute(e);return t===n?null:t===i?o:o=r(i=t,a)}}function c(e,r,a){var i,n=a+"",o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===n?null:t===i?o:o=r(i=t,a)}}function v(a,i,n){var o,s,l;return function(){var t,e=n(this),r;if(e==null)return void this.removeAttribute(a);t=this.getAttribute(a);r=e+"";return t===r?null:t===o&&r===s?l:(s=r,l=i(o=t,e))}}function h(a,i,n){var o,s,l;return function(){var t,e=n(this),r;if(e==null)return void this.removeAttributeNS(a.space,a.local);t=this.getAttributeNS(a.space,a.local);r=e+"";return t===r?null:t===o&&r===s?l:(s=r,l=i(o=t,e))}}e["a"]=function(t,e){var r=Object(n["namespace"])(t),a=r==="transform"?i["interpolateTransformSvg"]:s["a"];return this.attrTween(t,typeof e==="function"?(r.local?h:v)(r,a,Object(o["b"])(this,"attr."+t,e)):e==null?(r.local?u:l)(r):(r.local?c:f)(r,a,e))}},function(t,e,r){"use strict";var i=r(72);function n(e,r){return function(t){this.setAttribute(e,r.call(this,t))}}function o(e,r){return function(t){this.setAttributeNS(e.space,e.local,r.call(this,t))}}function s(e,r){var a,i;function t(){var t=r.apply(this,arguments);if(t!==i)a=(i=t)&&o(e,t);return a}t._value=r;return t}function l(e,r){var a,i;function t(){var t=r.apply(this,arguments);if(t!==i)a=(i=t)&&n(e,t);return a}t._value=r;return t}e["a"]=function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;var a=Object(i["namespace"])(t);return this.tween(r,(a.local?s:l)(a,e))}},function(t,e,r){"use strict";var a=r(46);function i(t,e){return function(){Object(a["g"])(this,t).delay=+e.apply(this,arguments)}}function n(t,e){return e=+e,function(){Object(a["g"])(this,t).delay=e}}e["a"]=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?i:n)(e,t)):Object(a["f"])(this.node(),e).delay}},function(t,e,r){"use strict";var a=r(46);function i(t,e){return function(){Object(a["h"])(this,t).duration=+e.apply(this,arguments)}}function n(t,e){return e=+e,function(){Object(a["h"])(this,t).duration=e}}e["a"]=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?i:n)(e,t)):Object(a["f"])(this.node(),e).duration}},function(t,e,r){"use strict";var a=r(46);function i(t,e){if(typeof e!=="function")throw new Error;return function(){Object(a["h"])(this,t).ease=e}}e["a"]=function(t){var e=this._id;return arguments.length?this.each(i(e,t)):Object(a["f"])(this.node(),e).ease}},function(t,e,r){"use strict";var f=r(72);var c=r(170);e["a"]=function(t){if(typeof t!=="function")t=Object(f["matcher"])(t);for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var n=e[i],o=n.length,s=a[i]=[],l,u=0;u<o;++u){if((l=n[u])&&t.call(l,l.__data__,u,n)){s.push(l)}}}return new c["a"](a,this._parents,this._name,this._id)}},function(t,e,r){"use strict";var p=r(170);e["a"]=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,a=e.length,i=r.length,n=Math.min(a,i),o=new Array(a),s=0;s<n;++s){for(var l=e[s],u=r[s],f=l.length,c=o[s]=new Array(f),v,h=0;h<f;++h){if(v=l[h]||u[h]){c[h]=v}}}for(;s<a;++s){o[s]=e[s]}return new p["a"](o,this._parents,this._name,this._id)}},function(t,e,r){"use strict";var l=r(46);function u(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"})}function a(r,a,i){var n,o,s=u(a)?l["g"]:l["h"];return function(){var t=s(this,r),e=t.on;if(e!==n)(o=(n=e).copy()).on(a,i);t.on=o}}e["a"]=function(t,e){var r=this._id;return arguments.length<2?Object(l["f"])(this.node(),r).on.on(t):this.each(a(r,t,e))}},function(t,e,r){"use strict";function a(r){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==r)return;if(t)t.removeChild(this)}}e["a"]=function(){return this.on("end.remove",a(this._id))}},function(t,e,r){"use strict";var h=r(72);var p=r(170);var g=r(46);e["a"]=function(t){var e=this._name,r=this._id;if(typeof t!=="function")t=Object(h["selector"])(t);for(var a=this._groups,i=a.length,n=new Array(i),o=0;o<i;++o){for(var s=a[o],l=s.length,u=n[o]=new Array(l),f,c,v=0;v<l;++v){if((f=s[v])&&(c=t.call(f,f.__data__,v,s))){if("__data__"in f)c.__data__=f.__data__;u[v]=c;Object(g["e"])(u[v],e,r,v,u,Object(g["f"])(f,r))}}}return new p["a"](n,this._parents,e,r)}},function(t,e,r){"use strict";var y=r(72);var m=r(170);var x=r(46);e["a"]=function(t){var e=this._name,r=this._id;if(typeof t!=="function")t=Object(y["selectorAll"])(t);for(var a=this._groups,i=a.length,n=[],o=[],s=0;s<i;++s){for(var l=a[s],u=l.length,f,c=0;c<u;++c){if(f=l[c]){for(var v=t.call(f,f.__data__,c,l),h,p=Object(x["f"])(f,r),g=0,d=v.length;g<d;++g){if(h=v[g]){Object(x["e"])(h,e,r,g,v,p)}}n.push(v);o.push(f)}}}return new m["a"](n,o,e,r)}},function(t,e,r){"use strict";var a=r(72);var i=a["selection"].prototype.constructor;e["a"]=function(){return new i(this._groups,this._parents)}},function(t,e,r){"use strict";var i=r(117);var u=r(72);var c=r(46);var n=r(363);var o=r(387);function s(r,a){var i,n,o;return function(){var t=Object(u["style"])(this,r),e=(this.style.removeProperty(r),Object(u["style"])(this,r));return t===e?null:t===i&&e===n?o:o=a(i=t,n=e)}}function v(t){return function(){this.style.removeProperty(t)}}function l(e,r,a){var i,n=a+"",o;return function(){var t=Object(u["style"])(this,e);return t===n?null:t===i?o:o=r(i=t,a)}}function f(a,i,n){var o,s,l;return function(){var t=Object(u["style"])(this,a),e=n(this),r=e+"";if(e==null)r=e=(this.style.removeProperty(a),Object(u["style"])(this,a));return t===r?null:t===o&&r===s?l:(s=r,l=i(o=t,e))}}function h(a,i){var n,o,s,l="style."+i,u="end."+l,f;return function(){var t=Object(c["h"])(this,a),e=t.on,r=t.value[l]==null?f||(f=v(i)):undefined;if(e!==n||s!==r)(o=(n=e).copy()).on(u,s=r);t.on=o}}e["a"]=function(t,e,r){var a=(t+="")==="transform"?i["interpolateTransformCss"]:o["a"];return e==null?this.styleTween(t,s(t,a)).on("end.style."+t,v(t)):typeof e==="function"?this.styleTween(t,f(t,a,Object(n["b"])(this,"style."+t,e))).each(h(this._id,t)):this.styleTween(t,l(t,a,e),r).on("end.style."+t,null)}},function(t,e,r){"use strict";function o(e,r,a){return function(t){this.style.setProperty(e,r.call(this,t),a)}}function i(e,r,a){var i,n;function t(){var t=r.apply(this,arguments);if(t!==n)i=(n=t)&&o(e,t,a);return i}t._value=r;return t}e["a"]=function(t,e,r){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!=="function")throw new Error;return this.tween(a,i(t,e,r==null?"":r))}},function(t,e,r){"use strict";var a=r(363);function i(t){return function(){this.textContent=t}}function n(e){return function(){var t=e(this);this.textContent=t==null?"":t}}e["a"]=function(t){return this.tween("text",typeof t==="function"?n(Object(a["b"])(this,"text",t)):i(t==null?"":t+""))}},function(t,e,r){"use strict";function i(e){return function(t){this.textContent=e.call(this,t)}}function a(e){var r,a;function t(){var t=e.apply(this,arguments);if(t!==a)r=(a=t)&&i(t);return r}t._value=e;return t}e["a"]=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!=="function")throw new Error;return this.tween(e,a(t))}},function(t,e,r){"use strict";var c=r(170);var v=r(46);e["a"]=function(){var t=this._name,e=this._id,r=Object(c["c"])();for(var a=this._groups,i=a.length,n=0;n<i;++n){for(var o=a[n],s=o.length,l,u=0;u<s;++u){if(l=o[u]){var f=Object(v["f"])(l,e);Object(v["e"])(l,t,r,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}}}return new c["a"](a,this._parents,t,r)}},function(t,e,r){"use strict";var u=r(46);e["a"]=function(){var i,n,o=this,s=o._id,l=o.size();return new Promise(function(t,e){var r={value:e},a={value:function(){if(--l===0)t()}};o.each(function(){var t=Object(u["h"])(this,s),e=t.on;if(e!==i){n=(i=e).copy();n._.cancel.push(r);n._.interrupt.push(r);n._.end.push(a)}t.on=n})})}},function(t,e,r){"use strict";var n=r(170);var o=r(46);var s=[null];e["a"]=function(t,e){var r=t.__transition,a,i;if(r){e=e==null?null:e+"";for(i in r){if((a=r[i]).state>o["c"]&&a.name===e){return new n["a"]([[t]],s,e,+i)}}}return null}},function(t,e,r){var l=r(0);var a=r(18);var i=r(45);var n=r(7);var u=l.PathUtil;function f(t){var e=n.shape.venn;var r=l.mix({},e,t.style);i.addFillAttrs(r,t);return r}function c(t){var e=n.shape.hollowVenn;var r=l.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}var o=a.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function t(e,r){var a=r.lineWidth||1;if(e==="hollow"){return{lineWidth:a+1}}var i=r.fillOpacity||r.opacity||1;return{fillOpacity:i-.08}},getSelectedCfg:function t(e,r){if(r&&r.style){return r.style}return this.getActiveCfg(e,r)}});a.registerShape("venn","venn",{draw:function t(e,r){var a=e.origin._origin;var i=a.path;var n=f(e);var o=u.parsePathString(i);var s=r.addShape("path",{attrs:l.mix(n,{path:o})});return s},getMarkerCfg:function t(e){return l.mix({symbol:"circle",radius:4},f(e))}});a.registerShape("venn","hollow",{draw:function t(e,r){var a=e.origin._origin;var i=a.path;var n=c(e);var o=u.parsePathString(i);var s=r.addShape("path",{attrs:l.mix(n,{path:o})});return s},getMarkerCfg:function t(e){return l.mix({symbol:"circle",radius:4},f(e))}});t.exports=o},function(t,e,r){function a(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var n=r(21);var o=r(0);var s=r(358);r(464);var l=function(n){i(e,n);var t=e.prototype;t.getDefaultCfg=function t(){var e=n.prototype.getDefaultCfg.call(this);e.type="violin";e.shapeType="violin";e.generatePoints=true;return e};function e(t){var e;e=n.call(this,t)||this;o.assign(a(e),s);return e}t.createShapePointsCfg=function t(e){var r=this;var a=n.prototype.createShapePointsCfg.call(this,e);a.size=r.getNormalizedSize(e);var i=r.get("_sizeField");a._size=e._origin[i];return a};t.clearInner=function t(){n.prototype.clearInner.call(this);this.set("defaultSize",null)};t._initAttrs=function t(){var e=this;var r=e.get("attrOptions");var a=r.size?r.size.field:e.get("_sizeField")?e.get("_sizeField"):"size";e.set("_sizeField",a);delete r.size;n.prototype._initAttrs.call(this)};return e}(n);var u=function(r){i(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.hasDefaultAdjust=true;e.adjusts=[{type:"dodge"}];return e};return t}(l);l.Dodge=u;n.Violin=l;n.ViolinDodge=u;t.exports=l},function(t,e,r){var u=r(0);var a=r(18);var i=r(45);var n=r(7);var l=r(23);function o(t){var e=n.shape.venn;var r=u.mix({},e,t.style);i.addFillAttrs(r,t);if(t.color){r.stroke=r.stroke||t.color}return r}function s(t){var e=n.shape.hollowVenn;var r=u.mix({},e,t.style);i.addStrokeAttrs(r,t);return r}function f(t){var e=[];for(var r=0;r<t.length;r++){var a=t[r];if(a){var i=r===0?"M":"L";e.push([i,a.x,a.y])}}var n=t[0];if(n){e.push(["L",n.x,n.y]);e.push(["z"])}return e}function c(t){var e=t.length/2;var r=[];var a=[];for(var i=0;i<t.length;i++){if(i<e){r.push(t[i])}else{a.push(t[i])}}var n=l.getSplinePath(r,false);var o=l.getSplinePath(a,false);if(a.length){n.push(["L",a[0].x,a[0].y])}o.shift();var s=n.concat(o);if(r.length){s.push(["L",r[0].x,r[0].y])}s.push(["z"]);return s}function v(t){var e=Math.max.apply(null,t);return t.map(function(t){return t/e})}var h=a.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function t(n){var o=n.size/2;var s=[];var l=v(n._size);u.each(n.y,function(t,e){var r=l[e]*o;var a=e===0;var i=e===n.y.length-1;s.push({isMin:a,isMax:i,x:n.x-r,y:t});s.unshift({isMin:a,isMax:i,x:n.x+r,y:t})});return s},getActiveCfg:function t(e,r){var a=r.lineWidth||1;if(e==="hollow"){return{lineWidth:a+1}}var i=r.fillOpacity||r.opacity||1;return{fillOpacity:i-.08}},getSelectedCfg:function t(e,r){if(r&&r.style){return r.style}return this.getActiveCfg(e,r)}});a.registerShape("violin","violin",{draw:function t(e,r){var a=o(e);var i=f(e.points);i=this.parsePath(i);var n=r.addShape("path",{attrs:u.mix(a,{path:i})});return n},getMarkerCfg:function t(e){return u.mix({symbol:"circle",radius:4},o(e))}});a.registerShape("violin","smooth",{draw:function t(e,r){var a=o(e);var i=c(e.points);i=this.parsePath(i);var n=r.addShape("path",{attrs:u.mix(a,{path:i})});return n},getMarkerCfg:function t(e){return u.mix({symbol:"circle",radius:4},o(e))}});a.registerShape("violin","hollow",{draw:function t(e,r){var a=s(e);var i=f(e.points);i=this.parsePath(i);var n=r.addShape("path",{attrs:u.mix(a,{path:i})});return n},getMarkerCfg:function t(e){return u.mix({symbol:"circle",radius:4},s(e))}});a.registerShape("violin","smoothHollow",{draw:function t(e,r){var a=s(e);var i=c(e.points);i=this.parsePath(i);var n=r.addShape("path",{attrs:u.mix(a,{path:i})});return n},getMarkerCfg:function t(e){return u.mix({symbol:"circle",radius:4},s(e))}});t.exports=h},function(t,e,r){var n=r(0);var a=r(147);var o={};o.Rect=r(388);o.List=r(389);o.Circle=r(466);o.Tree=r(467);o.Mirror=r(468);o.Matrix=r(469);a.prototype.facet=function(t,e){var r=o[n.upperFirst(t)];if(!r){throw new Error("Not support such type of facets as: "+t)}var a=this.get("facets");if(a){a.destroy()}e.chart=this;var i=new r(e);this.set("facets",i)};t.exports=o},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(364);function c(t,e,r){return{x:t.x+e*Math.cos(r),y:t.y+e*Math.sin(r)}}var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="circle";return e};e.getRegion=function t(e,r){var a=1/2;var i=Math.PI*2/e;var n=-1*Math.PI/2+i*r;var o=a/(1+1/Math.sin(i/2));var s={x:.5,y:.5};var l=c(s,a-o,n);var u=Math.PI*5/4;var f=Math.PI*1/4;return{start:c(l,o,u),end:c(l,o,f)}};e.generateFacets=function t(o){var s=this;var e=s.fields;var l=e[0];if(!l){throw"Please specify for the field for facet!"}var u=s.getFieldValues(l,o);var f=u.length;var c=[];u.forEach(function(t,e){var r=[{field:l,value:t,values:u}];var a=s.getFilter(r);var i=o.filter(a);var n={type:s.type,colValue:t,colField:l,colIndex:e,cols:f,rows:1,rowIndex:0,data:i,region:s.getRegion(f,e)};c.push(n)});return c};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(364);var n=r(0);var o=n.assign;var s=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="tree";e.line={lineWidth:1,stroke:"#ddd"};e.lineSmooth=false;return e};e.generateFacets=function t(e){var r=this;var a=r.fields;if(!a.length){throw"Please specify for the fields for facet!"}var i=[];var n=r.getRootFacet(e);i.push(n);n.children=r.getChildFacets(e,1,i);r.setRegion(i);return i};e.getRootFacet=function t(e){var r=this;var a={type:r.type,rows:r.getRows(),rowIndex:0,colIndex:0,colValue:r.rootTitle,data:e};return a};e.getRows=function t(){return this.fields.length+1};e.getChildFacets=function t(o,s,l){var u=this;var e=u.fields;var r=e.length;if(r<s){return}var f=[];var c=e[s-1];var v=u.getFieldValues(c,o);v.forEach(function(t,e){var r=[{field:c,value:t,values:v}];var a=u.getFilter(r);var i=o.filter(a);if(i.length){var n={type:u.type,colValue:t,colField:c,colIndex:e,rows:u.getRows(),rowIndex:s,data:i,children:u.getChildFacets(i,s+1,l)};f.push(n);l.push(n)}});return f};e.setRegion=function t(e){var r=this;r.forceColIndex(e);e.forEach(function(t){t.region=r.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)})};e.forceColIndex=function t(e){var r=this;var a=[];var i=0;e.forEach(function(t){if(r.isLeaf(t)){a.push(t);t.colIndex=i;i++}});a.forEach(function(t){t.cols=a.length});var n=r.fields.length;for(var o=n-1;o>=0;o--){var s=r.getFacetsByLevel(e,o);for(var l=0;l<s.length;l++){var u=s[l];if(!r.isLeaf(u)){u.originColIndex=u.colIndex;u.colIndex=r.getRegionIndex(u.children);u.cols=a.length}}}};e.getFacetsByLevel=function t(e,r){var a=[];e.forEach(function(t){if(t.rowIndex===r){a.push(t)}});return a};e.getRegion=function t(e,r,a,i){var n=1/r;var o=1/e;var s={x:n*a,y:o*i};var l={x:s.x+n,y:s.y+o*2/3};return{start:s,end:l}};e.getRegionIndex=function t(e){var r=e[0];var a=e[e.length-1];return(a.colIndex-r.colIndex)/2+r.colIndex};e.isLeaf=function t(e){return!e.children||!e.children.length};e.setXAxis=function t(e,r,a){if(a.rowIndex!==a.rows-1){r[e].label=null;r[e].title=null}};e.setYAxis=function t(e,r,a){if(a.originColIndex!==0&&a.colIndex!==0){r[e].title=null;r[e].label=null}};e.onPaint=function t(){r.prototype.onPaint.call(this);this.group.clear();if(this.facets&&this.line){this.drawLines(this.facets,this.group)}};e.drawLines=function t(e,r){var a=this;var i=r.addGroup();e.forEach(function(t){if(!a.isLeaf(t)){var e=t.children;a._addFacetLines(t,e,i)}})};e._addFacetLines=function t(e,r,n){var o=this;var a=e.view;var i=a.getViewRegion();var s={x:i.start.x+(i.end.x-i.start.x)/2,y:i.start.y};r.forEach(function(t){var e=t.view.getViewRegion();var r={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y};var a={x:s.x,y:s.y+(r.y-s.y)/2};var i={x:r.x,y:a.y};o._drawLine([s,a,i,r],n)})};e._getPath=function t(e){var r=this;var a=[];var i=r.lineSmooth;if(i){a.push(["M",e[0].x,e[0].y]);a.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])}else{e.forEach(function(t,e){if(e===0){a.push(["M",t.x,t.y])}else{a.push(["L",t.x,t.y])}})}return a};e._drawLine=function t(e,r){var a=this;var i=a._getPath(e);var n=a.line;r.addShape("path",{attrs:o({path:i},n)})};return t}(i);t.exports=s},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(389);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="mirror";this.transpose=false;return e};e.init=function t(){var e=this;if(e.transpose){e.cols=2;e.rows=1}else{e.cols=1;e.rows=2}r.prototype.init.call(this)};e.beforeProcessView=function t(e,r){if(this.transpose){if(r.colIndex%2===0){e.coord().transpose().scale(-1,1)}else{e.coord().transpose()}}else{if(r.rowIndex%2!==0){e.coord().scale(1,-1)}}};e.renderTitle=function t(e,r){if(this.transpose){this.drawColTitle(e,r)}else{this.drawRowTitle(e,r)}};e.setXAxis=function t(e,r,a){if(a.colIndex===1||a.rowIndex===1){r[e].label=null;r[e].title=null}};e.setYAxis=function t(){};return t}(i);t.exports=n},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var i=r(388);var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);e.type="matrix";e.showTitle=false;return e};e.generateFacets=function t(e){var r=this;var a=r.fields;var i=a.length;var n=i;var o=[];for(var s=0;s<n;s++){var l=a[s];for(var u=0;u<i;u++){var f=a[u];var c={type:r.type,colValue:l,rowValue:f,colField:l,rowField:f,colIndex:s,rowIndex:u,cols:n,rows:i,data:e,region:r.getRegion(i,n,s,u)};o.push(c)}}return o};e.setXAxis=function t(e,r,a){if(a.rowIndex!==a.rows-1){r[e].title=null;r[e].label=null}};e.setYAxis=function t(e,r,a){if(a.colIndex!==0){r[e].title=null;r[e].label=null}};return t}(i);t.exports=n},function(t,e,r){var n=r(173);var a=r(147);var i=r(0);var o={Base:r(172),Brush:r(471),Drag:r(472),ScrollBar:r(474),ShapeSelect:r(476),Slider:r(477),Zoom:r(479)};n._Interactions={};n.registerInteraction=function(t,e){n._Interactions[t]=e};n.getInteraction=function(t){return n._Interactions[t]};a.prototype.getInteractions=function(){var t=this;if(!t._interactions){t._interactions={}}return t._interactions};a.prototype._setInteraction=function(t,e){var r=this;var a=r.getInteractions();if(a[t]&&a[t]!==e){a[t].destroy()}a[t]=e};a.prototype.clearInteraction=function(t){var e=this;var r=e.getInteractions();if(t){if(r[t]){r[t]._reset();r[t].destroy()}delete r[t]}else{i.each(r,function(t,e){t._reset();t.destroy();delete r[e]})}};a.prototype.interact=a.prototype.interaction=function(t,e){var r=this;var a=n.getInteraction(t);var i=new a(e,r);r._setInteraction(t,i);return r};n.registerInteraction("brush",o.Brush);n.registerInteraction("Brush",o.Brush);n.registerInteraction("drag",o.Drag);n.registerInteraction("Drag",o.Drag);n.registerInteraction("zoom",o.Zoom);n.registerInteraction("Zoom",o.Zoom);n.registerInteraction("scroll-bar",o.ScrollBar);n.registerInteraction("ScrollBar",o.ScrollBar);n.registerInteraction("shape-select",o.ShapeSelect);n.registerInteraction("ShapeSelect",o.ShapeSelect);n.registerInteraction("slider",o.Slider);n.registerInteraction("Slider",o.Slider);t.exports=o},function(t,e,r){function f(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var T=r(0);var i=r(172);var c=["X","Y","XY","POLYGON"];var v="XY";var n=function(u){a(e,u);var t=e.prototype;t.getDefaultCfg=function t(){var e=u.prototype.getDefaultCfg.call(this);return T.mix({},e,{type:v,startPoint:null,brushing:false,dragging:false,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:false,dragOffX:0,dragOffY:0,inPlot:true,xField:null,yField:null})};function e(t,e){var r;r=u.call(this,t,e)||this;var a=f(r);a.filter=!a.draggable;a.type=a.type.toUpperCase();a.chart=e;if(!c.includes(a.type)){a.type=v}var i=a.canvas;if(i){var n;i.get("children").map(function(t){if(t.get("type")==="plotBack"){n=t.get("plotRange");return false}return t});a.plot={start:n.bl,end:n.tr}}if(e){var o=e.get("coord");a.plot={start:o.start,end:o.end};e.on("afterrender",function(){a.plot={start:o.start,end:o.end}});a.isTransposed=o.isTransposed;var s=e._getScales("x");var l=e._getScales("y");a.xScale=a.xField?s[a.xField]:e.getXScale();a.yScale=a.yField?l[a.yField]:e.getYScales()[0]}return r}t.start=function t(e){var r=this;var a=r.canvas,i=r.type,n=r.brushShape;if(!i)return;if(r.brushing){r.end(e)}var o={x:e.offsetX,y:e.offsetY};if(!o.x)return;var s=r.plot&&r.inPlot;var l=a.get("canvasDOM");var u=a.get("pixelRatio");if(r.selection)r.selection=null;if(r.draggable&&n&&!n.get("destroyed")){if(n.isHit(o.x*u,o.y*u)){l.style.cursor="move";r.selection=n;r.dragging=true;if(i==="X"){r.dragoffX=o.x-n.attr("x");r.dragoffY=0}else if(i==="Y"){r.dragoffX=0;r.dragoffY=o.y-n.attr("y")}else if(i==="XY"){r.dragoffX=o.x-n.attr("x");r.dragoffY=o.y-n.attr("y")}else if(i==="POLYGON"){var f=n.getBBox();r.dragoffX=o.x-f.minX;r.dragoffY=o.y-f.minY}if(s){}r.onDragstart&&r.onDragstart(e)}r.prePoint=o}if(!r.dragging){r.onBrushstart&&r.onBrushstart(o);var c=r.container;if(s){var v=r.plot,t=v.start,h=v.end;if(o.x<t.x||o.x>h.x||o.y<h.y||o.y>t.y)return}l.style.cursor="crosshair";r.startPoint=o;r.brushShape=null;r.brushing=true;if(!c){c=a.addGroup({zIndex:5});c.initTransform()}else{c.clear()}r.container=c;if(i==="POLYGON")r.polygonPath="M "+o.x+" "+o.y}};t.process=function t(e){var r=this;var a=r.brushing,i=r.dragging,n=r.type,o=r.plot,s=r.startPoint,l=r.xScale,u=r.yScale,f=r.canvas;if(!a&&!i){return}var c={x:e.offsetX,y:e.offsetY};var v=f.get("canvasDOM");if(a){v.style.cursor="crosshair";var h=o.start,p=o.end;var g=r.polygonPath;var d=r.brushShape;var y=r.container;if(r.plot&&r.inPlot){c=r._limitCoordScope(c)}var m;var x;var b;var _;if(n==="Y"){m=h.x;x=c.y>=s.y?s.y:c.y;b=Math.abs(h.x-p.x);_=Math.abs(s.y-c.y)}else if(n==="X"){m=c.x>=s.x?s.x:c.x;x=p.y;b=Math.abs(s.x-c.x);_=Math.abs(p.y-h.y)}else if(n==="XY"){if(c.x>=s.x){m=s.x;x=c.y>=s.y?s.y:c.y}else{m=c.x;x=c.y>=s.y?s.y:c.y}b=Math.abs(s.x-c.x);_=Math.abs(s.y-c.y)}else if(n==="POLYGON"){g+="L "+c.x+" "+c.y;r.polygonPath=g;if(!d){d=y.addShape("path",{attrs:T.mix(r.style,{path:g})})}else{!d.get("destroyed")&&d.attr(T.mix({},d._attrs,{path:g}))}}if(n!=="POLYGON"){if(!d){d=y.addShape("rect",{attrs:T.mix(r.style,{x:m,y:x,width:b,height:_})})}else{!d.get("destroyed")&&d.attr(T.mix({},d._attrs,{x:m,y:x,width:b,height:_}))}}r.brushShape=d}else if(i){v.style.cursor="move";var w=r.selection;if(w&&!w.get("destroyed")){if(n==="POLYGON"){var S=r.prePoint;r.selection.translate(c.x-S.x,c.y-S.y)}else{r.dragoffX&&w.attr("x",c.x-r.dragoffX);r.dragoffY&&w.attr("y",c.y-r.dragoffY)}}}r.prePoint=c;f.draw();var M=r._getSelected(),C=M.data,k=M.shapes,A=M.xValues,P=M.yValues;var I={data:C,shapes:k};if(l){I[l.field]=A}if(u){I[u.field]=P}T.mix(e,I);I.x=c.x;I.y=c.y;r.onDragmove&&r.onDragmove(I);r.onBrushmove&&r.onBrushmove(I)};t.end=function t(e){var r=this;if(!r.brushing&&!r.dragging){return}var a=r.data,i=r.shapes,n=r.xValues,o=r.yValues,s=r.canvas,l=r.type,u=r.startPoint,f=r.chart,c=r.container,v=r.xScale,h=r.yScale;var p=e.offsetX,g=e.offsetY;var d=s.get("canvasDOM");d.style.cursor="default";if(u===null){return}if(Math.abs(u.x-p)<=1&&Math.abs(u.y-g)<=1){r.brushing=false;r.dragging=false;c.clear();s.draw();return}var y={data:a,shapes:i};if(v){y[v.field]=n}if(h){y[h.field]=o}T.mix(e,y);y.x=p;y.y=g;if(r.dragging){r.dragging=false;r.onDragend&&r.onDragend(y)}else if(r.brushing){r.brushing=false;var m=r.brushShape;var x=r.polygonPath;if(l==="POLYGON"){x+="z";m&&!m.get("destroyed")&&m.attr(T.mix({},m._attrs,{path:x}));r.polygonPath=x;s.draw()}if(r.onBrushend){r.onBrushend(y)}else if(f&&r.filter){c.clear();if(!r.isTransposed&&l==="X"||r.isTransposed&&l==="Y"){v&&f.filter(v.field,function(t){return n.indexOf(t)>-1})}else if(!r.isTransposed&&l==="Y"||r.isTransposed&&l==="X"){h&&f.filter(h.field,function(t){return o.indexOf(t)>-1})}else{v&&f.filter(v.field,function(t){return n.indexOf(t)>-1});h&&f.filter(h.field,function(t){return o.indexOf(t)>-1})}f.repaint()}}};t.reset=function t(){var e=this;var r=e.chart,a=e.filter,i=e.brushShape,n=e.canvas;this._init();if(r&&a){r.get("options").filters={};r.repaint()}if(i){i.destroy();n.draw()}};t._limitCoordScope=function t(e){var r=this.plot;var a=r.start,i=r.end;if(e.x<a.x){e.x=a.x}if(e.x>i.x){e.x=i.x}if(e.y<i.y){e.y=i.y}if(e.y>a.y){e.y=a.y}return e};t._getSelected=function t(){var e=this;var r=e.chart,a=e.xScale,i=e.yScale,n=e.brushShape,o=e.canvas;var s=o.get("pixelRatio");var l=[];var u=[];var f=[];var c=[];if(r){var v=r.get("geoms");v.map(function(t){var e=t.getShapes();e.map(function(r){var t=r.get("origin");if(!Array.isArray(t)){t=[t]}t.map(function(t){if(n.isHit(t.x*s,t.y*s)){l.push(r);var e=t._origin;c.push(e);a&&u.push(e[a.field]);i&&f.push(e[i.field])}return t});return r});return t})}e.shapes=l;e.xValues=u;e.yValues=f;e.data=c;o.draw();return{data:c,xValues:u,yValues:f,shapes:l}};return e}(i);t.exports=n},function(t,e,r){function u(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var A=r(0);var i=r(172);var f=r(473);var P=r(378);var c=r(379);var I=864e5;var v=["X","Y","XY"];var h="X";var n=function(l){a(e,l);var t=e.prototype;t.getDefaultCfg=function t(){var e=l.prototype.getDefaultCfg.call(this);return A.mix({},e,{type:h,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:false})};t._disableTooltip=function t(){var e=this;var r=e.chart;var a=r.get("tooltipController");if(a){e._showTooltip=true;r.tooltip(false)}};t._enableTooltip=function t(e){var r=this;var a=r.chart;if(r._showTooltip){a.tooltip(true);a.showTooltip(e)}};function e(t,e){var r;r=l.call(this,t,e)||this;var a=u(r);a.type=a.type.toUpperCase();a.chart=e;a.coord=e.get("coord");var i=a.data=e.get("data");f(e);var n=e.getYScales();var o=e.getXScale();n.push(o);var s=e.get("scaleController");n.forEach(function(t){var e=t.field;a.limitRange[e]=c(i,t);var r=s.defs[e]||{};a.originScaleDefsByField[e]=A.mix(r,{nice:!!r.nice});if(t.isLinear){a.stepByField[e]=(t.max-t.min)*a.stepRatio}});if(!v.includes(a.type)){a.type=h}a._disableTooltip();return r}t._applyTranslate=function t(e,r,a){if(r===void 0){r=0}var i=this;if(e.isLinear){i._translateLinearScale(e,r,a)}else{i._translateCatScale(e,r,a)}};t._translateCatScale=function t(e,r,a){var i=this;var n=i.chart;var o=e.type,s=e.field,l=e.values,u=e.ticks;var f=P(n,s);var c=i.limitRange[s];var v=r/a;var h=l.length;var p=Math.max(1,Math.abs(parseInt(v*h)));var g=c.indexOf(l[0]);var d=c.indexOf(l[h-1]);if(r>0&&g>=0){for(var y=0;y<p&&g>0;y++){g-=1;d-=1}var m=c.slice(g,d+1);var x=null;if(o==="timeCat"){var b=u.length>2?u[1]-u[0]:I;for(var _=u[0]-b;_>=m[0];_-=b){u.unshift(_)}x=u}n.scale(s,A.mix({},f,{values:m,ticks:x}))}else if(r<0&&d<=c.length-1){for(var w=0;w<p&&d<c.length-1;w++){g+=1;d+=1}var S=c.slice(g,d+1);var M=null;if(o==="timeCat"){var C=u.length>2?u[1]-u[0]:I;for(var k=u[u.length-1]+C;k<=S[S.length-1];k+=C){u.push(k)}M=u}n.scale(s,A.mix({},f,{values:S,ticks:M}))}};t._translateLinearScale=function t(e,r,a){var i=this;var n=i.chart,o=i.limitRange;var s=e.min,l=e.max,u=e.field;if(s===o[u].min&&l===o[u].max)return;var f=r/a;var c=l-s;var v=P(n,u);n.scale(u,A.mix({},v,{nice:false,min:s+f*c,max:l+f*c}))};t.start=function t(e){var r=this;var a=r.canvas;var i=a.get("canvasDOM");i.style.cursor="pointer";r.isDragging=true;r.previousPoint={x:e.x,y:e.y};r._disableTooltip()};t.process=function t(e){var r=this;if(r.isDragging){var a=r.chart,i=r.type,n=r.canvas,o=r.coord,s=r.threshold;var l=n.get("canvasDOM");l.style.cursor="move";var u=r.previousPoint;var f=e;var c=f.x-u.x;var v=f.y-u.y;var h=false;if(Math.abs(c)>s&&i.indexOf("X")>-1){h=true;var p=a.getXScale();r._applyTranslate(p,p.isLinear?-c:c,o.width)}if(Math.abs(v)>s&&i.indexOf("Y")>-1){h=true;var g=a.getYScales();g.forEach(function(t){r._applyTranslate(t,f.y-u.y,o.height)})}if(h){r.previousPoint=f;a.repaint()}}};t.end=function t(e){var r=this;r.isDragging=false;var a=r.canvas;var i=a.get("canvasDOM");i.style.cursor="default";r._enableTooltip(e)};t.reset=function t(){var e=this;var r=e.view,a=e.originScaleDefsByField;var i=r.getYScales();var n=r.getXScale();i.push(n);i.forEach(function(t){if(t.isLinear){var e=t.field;r.scale(e,a[e])}});r.repaint();e._disableTooltip()};return e}(i);t.exports=n},function(t,e,r){var l=r(0);var u=r(71);var n=r(377);t.exports=function(i){i.on("beforeinitgeoms",function(){i.set("limitInPlot",true);var t=i.get("data");var o=n(i);if(!o)return t;var e=i.get("geoms");var r=false;l.each(e,function(t){if(["area","line","path"].includes(t.get("type"))){r=true;return false}});var a=[];l.each(o,function(t,e){if(!r&&t&&(t.values||t.min||t.max)){a.push(e)}});if(a.length===0){return t}var s=[];l.each(t,function(i){var n=true;l.each(a,function(t){var e=i[t];if(e){var r=o[t];if(r.type==="timeCat"){var a=r.values;if(l.isNumber(a[0])){e=u.toTimeStamp(e)}}if(r.values&&!r.values.includes(e)||r.min&&e<r.min||r.max&&e>r.max){n=false}}});if(n){s.push(i)}});i.set("filteredData",s)})}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var n=r(0);var i=r(172);var B=r(475);var R=r(379);var o="X";var s=function(i){a(e,i);var t=e.prototype;t.getDefaultCfg=function t(){var e=i.prototype.getDefaultCfg.call(this);return n.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:o,xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})};t._renderScrollBars=function t(){var e=this.chart;var r=e.get("_scrollBarCfg");if(!r)return;var a=e.get("data");var i=e.get("plotRange");i.width=Math.abs(i.br.x-i.bl.x);i.height=Math.abs(i.tl.y-i.bl.y);var n=e.get("backPlot");var o=e.get("canvas");var s=o.get("height");var l=e.get("_limitRange");var u=r.type;if(u.indexOf("X")>-1){var f=r.xStyle,c=f.offsetX,v=f.offsetY,h=f.lineCap,p=f.backgroundColor,g=f.fillerColor,d=f.size;var y=e.getXScale();var m=l[y.field];if(!m){m=R(a,y);l[y.field]=m}var x=B(y,m,y.type);var b=e.get("_horizontalBar");var _=s-d/2+v;if(b){var w=b.get("children")[1];w.attr({x1:Math.max(i.bl.x+i.width*x[0]+c,i.bl.x),x2:Math.min(i.bl.x+i.width*x[1]+c,i.br.x)})}else{b=n.addGroup({className:"horizontalBar"});b.addShape("line",{attrs:{x1:i.bl.x+c,y1:_,x2:i.br.x+c,y2:_,lineWidth:d,stroke:p,lineCap:h}});b.addShape("line",{attrs:{x1:Math.max(i.bl.x+i.width*x[0]+c,i.bl.x),y1:_,x2:Math.min(i.bl.x+i.width*x[1]+c,i.br.x),y2:_,lineWidth:d,stroke:g,lineCap:h}});e.set("_horizontalBar",b)}}if(u.indexOf("Y")>-1){var S=r.yStyle,M=S.offsetX,C=S.offsetY,k=S.lineCap,A=S.backgroundColor,P=S.fillerColor,I=S.size;var T=e.getYScales()[0];var O=l[T.field];if(!O){O=R(a,T);l[T.field]=O}var L=B(T,O,T.type);var E=e.get("_verticalBar");var D=I/2+M;if(E){var F=E.get("children")[1];F.attr({y1:Math.max(i.tl.y+i.height*L[0]+C,i.tl.y),y2:Math.min(i.tl.y+i.height*L[1]+C,i.bl.y)})}else{E=n.addGroup({className:"verticalBar"});E.addShape("line",{attrs:{x1:D,y1:i.tl.y+C,x2:D,y2:i.bl.y+C,lineWidth:I,stroke:A,lineCap:k}});E.addShape("line",{attrs:{x1:D,y1:Math.max(i.tl.y+i.height*L[0]+C,i.tl.y),x2:D,y2:Math.min(i.tl.y+i.height*L[1]+C,i.bl.y),lineWidth:I,stroke:P,lineCap:k}});e.set("_verticalBar",E)}}};function e(t,e){var r;r=i.call(this,t,e)||this;var a=r.getDefaultCfg();e.set("_scrollBarCfg",n.deepMix({},a,t));e.set("_limitRange",{});if(!e.get("_horizontalBar")&&!e.get("_verticalBar")){r._renderScrollBars()}return r}t._clear=function t(){var e=this.chart;if(e){var r=e.get("_horizontalBar");var a=e.get("_verticalBar");r&&r.remove(true);a&&a.remove(true);e.set("_horizontalBar",null);e.set("_verticalBar",null)}};t._bindEvents=function t(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this);this._onAfterclearinner=this._onAfterclearinner.bind(this);this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var e=this.chart;e.on("afterclear",this._onAfterclearOrBeforechangedata);e.on("beforechangedata",this._onAfterclearOrBeforechangedata);e.on("afterclearinner",this._onAfterclearinner);e.on("afterdrawgeoms",this._onAfterdrawgeoms)};t._onAfterclearOrBeforechangedata=function t(){this.chart&&this.chart.set("_limitRange",{})};t._onAfterclearinner=function t(){this._clear()};t._onAfterdrawgeoms=function t(){this._renderScrollBars()};t._clearEvents=function t(){var e=this.chart;if(e){e.off("afterclear",this._onAfterclearOrBeforechangedata);e.off("beforechangedata",this._onAfterclearOrBeforechangedata);e.off("afterclearinner",this._onAfterclearinner);e.off("afterdrawgeoms",this._onAfterdrawgeoms)}};t.destroy=function t(){this._clearEvents();this._clear();this.canvas.draw()};return e}(i);t.exports=s},function(t,e){t.exports=function(t,e,r){if(!t)return[0,1];var a=0;var i=0;if(r==="linear"){var n=e.min,o=e.max;var s=o-n;a=(t.min-n)/s;i=(t.max-n)/s}else{var l=e;var u=t.values;var f=l.indexOf(u[0]);var c=l.indexOf(u[u.length-1]);a=f/(l.length-1);i=c/(l.length-1)}return[a,i]}},function(t,e,r){function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var u=r(0);var i=r(172);function f(t,e){var r={};for(var a in e){r[a]=t[a]}return r}var n=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;e.getDefaultCfg=function t(){var e=r.prototype.getDefaultCfg.call(this);return u.mix({},e,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:true})};e.start=function t(r){var e=this;var a=e.view;var i;var n=[];a.eachShape(function(t,e){if(e.isPointInPath(r.x,r.y)){i=e}else{n.push(e)}});if(!i){e.reset();return}if(i.get("_selected")){if(!e.cancelable){return}e.reset()}else{var o=e.selectStyle,s=e.unSelectStyle;var l=f(i.attr(),i);i.set("_originAttrs",l);i.attr(o);u.each(n,function(t){var e=t.get("_originAttrs");if(e){t.attr(e)}t.set("_selected",false);if(s){e=f(t.attr(),s);t.set("_originAttrs",e);t.attr(s)}});i.set("_selected",true);e.selectedShape=i;e.canvas.draw()}};e.end=function t(e){var r=this.selectedShape;if(r&&!r.get("destroyed")&&r.get("origin")){e.data=r.get("origin")._origin;e.shapeInfo=r.get("origin");e.shape=r;e.selected=!!r.get("_selected")}};e.reset=function t(){var e=this;if(!e.selectedShape){return}var r=e.view;var a=r.get("geoms")[0];var i=a.get("container").get("children")[0];var n=i.get("children");u.each(n,function(t){var e=t.get("_originAttrs");if(e){t._attrs=e;t.set("_originAttrs",null)}t.set("_selected",false)});e.canvas.draw()};return t}(i);t.exports=n},function(t,e,r){function n(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var o=r(478);var d=r(147);var y=r(0);var i=r(16);var s=r(7);var l=r(172);var p=r(378);var m=r(377);var u=i.Canvas;var f=y.DomUtil,x=y.isNumber;var c=function(i){a(e,i);var t=e.prototype;t.getDefaultCfg=function t(){var e=i.prototype.getDefaultCfg.call(this);return y.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:s.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})};t._initContainer=function t(){var e=this;var r=e.container;if(!r){throw new Error("Please specify the container for the Slider!")}if(y.isString(r)){e.domContainer=document.getElementById(r)}else{e.domContainer=r}};t.forceFit=function t(){var e=this;if(!e||e.destroyed){return}var r=f.getWidth(e.domContainer);var a=e.height;if(r!==e.domWidth){var i=e.canvas;i.changeSize(r,a);e.bgChart&&e.bgChart.changeWidth(r);i.clear();e._initWidth();e._initSlider();e._bindEvent();i.draw()}};t._initForceFitEvent=function t(){var e=this;var r=setTimeout(y.wrapBehavior(e,"forceFit"),200);clearTimeout(e.resizeTimer);e.resizeTimer=r};t._initStyle=function t(){var e=this;e.handleStyle=y.mix({width:e.height,height:e.height},e.handleStyle);if(e.width==="auto"){window.addEventListener("resize",y.wrapBehavior(e,"_initForceFitEvent"))}};t._initWidth=function t(){var e=this;var r;if(e.width==="auto"){r=f.getWidth(e.domContainer)}else{r=e.width}e.domWidth=r;var a=y.toAllPadding(e.padding);if(e.layout==="horizontal"){e.plotWidth=r-a[1]-a[3];e.plotPadding=a[3];e.plotHeight=e.height}else if(e.layout==="vertical"){e.plotWidth=e.width;e.plotHeight=e.height-a[0]-a[2];e.plotPadding=a[0]}};t._initCanvas=function t(){var e=this;var r=e.domWidth;var a=e.height;var i=new u({width:r,height:a,containerDOM:e.domContainer,capture:false});var n=i.get("el");n.style.position="absolute";n.style.top=0;n.style.left=0;n.style.zIndex=3;e.canvas=i};t._initBackground=function t(){var e;var r=this;var a=this.chart;var i=a.getAllGeoms[0];var n=r.data=r.data||a.get("data");var o=a.getXScale();var s=r.xAxis||o.field;var l=r.yAxis||a.getYScales()[0].field;var u=y.deepMix((e={},e[""+s]={range:[0,1]},e),m(a),r.scales);delete u[s].min;delete u[s].max;if(!n){throw new Error("Please specify the data!")}if(!s){throw new Error("Please specify the xAxis!")}if(!l){throw new Error("Please specify the yAxis!")}var f=r.backgroundChart;var c=f.type||i.get("type");var v=f.color||"grey";var h=f.shape;if(!y.isArray(c)){c=[c]}var p=y.toAllPadding(r.padding);var g=new d({container:r.container,width:r.domWidth,height:r.height,padding:[0,p[1],0,p[3]],animate:false});g.source(n);g.scale(u);g.axis(false);g.tooltip(false);g.legend(false);y.each(c,function(t,e){var r=g[t]().position(s+"*"+l).opacity(1);var a=y.isArray(v)?v[e]:v;if(a){if(y.isObject(a)){if(a.field){r.color(a.field,a.colors)}}else{r.color(a)}}var i=y.isArray(h)?h[e]:h;if(i){if(y.isObject(i)){if(i.field){r.shape(i.field,i.callback||i.shapes)}}else{r.shape(i)}}});g.render();r.bgChart=g;r.scale=r.layout==="horizontal"?g.getXScale():g.getYScales()[0];if(r.layout==="vertical"){g.destroy()}};t._initRange=function t(){var e=this;var r=e.startRadio;var a=e.endRadio;var i=e._startValue;var n=e._endValue;var o=e.scale;var s=0;var l=1;if(x(r)){s=r}else if(i){s=o.scale(o.translate(i))}if(x(a)){l=a}else if(n){l=o.scale(o.translate(n))}var u=e.minSpan,f=e.maxSpan;var c=0;if(o.type==="time"||o.type==="timeCat"){var v=o.values;var h=v[0];var p=v[v.length-1];c=p-h}else if(o.isLinear){c=o.max-o.min}if(c&&u){e.minRange=u/c*100}if(c&&f){e.maxRange=f/c*100}var g=[s*100,l*100];e.range=g;return g};t._getHandleValue=function t(e){var r=this;var a;var i=r.range;var n=i[0]/100;var o=i[1]/100;var s=r.scale;if(e==="min"){a=r._startValue?r._startValue:s.invert(n)}else{a=r._endValue?r._endValue:s.invert(o)}return a};t._initSlider=function t(){var e=this;var r=e.canvas;var a=e._initRange();var i=e.scale;var n=r.addGroup(o,{middleAttr:e.fillerStyle,range:a,minRange:e.minRange,maxRange:e.maxRange,layout:e.layout,width:e.plotWidth,height:e.plotHeight,backgroundStyle:e.backgroundStyle,textStyle:e.textStyle,handleStyle:e.handleStyle,minText:i.getText(e._getHandleValue("min")),maxText:i.getText(e._getHandleValue("max"))});if(e.layout==="horizontal"){n.translate(e.plotPadding,0)}else if(e.layout==="vertical"){n.translate(0,e.plotPadding)}e.rangeElement=n};t._updateElement=function t(e,r){var a=this;var i=a.chart,n=a.scale,o=a.rangeElement;var s=n.field;var l=o.get("minTextElement");var u=o.get("maxTextElement");var f=n.invert(e);var c=n.invert(r);var v=n.getText(f);var h=n.getText(c);l.attr("text",v);u.attr("text",h);a._startValue=v;a._endValue=h;if(a.onChange){a.onChange({startText:v,endText:h,startValue:f,endValue:c,startRadio:e,endRadio:r})}i.scale(s,y.mix({},p(i,s),{nice:false,min:f,max:c}));i.repaint()};t._bindEvent=function t(){var i=this;var e=i.rangeElement;e.on("sliderchange",function(t){var e=t.range;var r=e[0]/100;var a=e[1]/100;i._updateElement(r,a)})};function e(t,e){var r;r=i.call(this,t,e)||this;var a=n(r);a._initContainer();a._initStyle();a.render();return r}t.clear=function t(){var e=this;e.canvas.clear();e.bgChart&&e.bgChart.destroy();e.bgChart=null;e.scale=null;e.canvas.draw()};t.repaint=function t(){var e=this;e.clear();e.render()};t.render=function t(){var e=this;e._initWidth();e._initCanvas();e._initBackground();e._initSlider();e._bindEvent();e.canvas.draw()};t.destroy=function t(){var e=this;clearTimeout(e.resizeTimer);var r=e.rangeElement;r.off("sliderchange");e.bgChart&&e.bgChart.destroy();e.canvas.destroy();var a=e.domContainer;while(a.hasChildNodes()){a.removeChild(a.firstChild)}window.removeEventListener("resize",y.getWrapBehavior(e,"_initForceFitEvent"));e.destroyed=true};return e}(l);t.exports=c},function(t,e,r){var d=r(0);var a=r(16);var i=a.Group;var n=d.DomUtil;var h=5;var o=function t(e){t.superclass.constructor.call(this,e)};d.extend(o,i);d.augment(o,{getDefaultCfg:function t(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function t(e){var r=this;var a=r.addGroup();var i=r.get("layout");var n=r.get("handleStyle");var o=n.img;var s=n.width;var l=n.height;var u;var f;var c;if(i==="horizontal"){var v=n.width;c="ew-resize";f=a.addShape("Image",{attrs:{x:-v/2,y:0,width:v,height:l,img:o,cursor:c}});u=a.addShape("Text",{attrs:d.mix({x:e==="min"?-(v/2+h):v/2+h,y:l/2,textAlign:e==="min"?"end":"start",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:c},this.get("textStyle"))})}else{c="ns-resize";f=a.addShape("Image",{attrs:{x:0,y:-l/2,width:s,height:l,img:o,cursor:c}});u=a.addShape("Text",{attrs:d.mix({x:s/2,y:e==="min"?l/2+h:-(l/2+h),textAlign:"center",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:c},this.get("textStyle"))})}this.set(e+"TextElement",u);this.set(e+"IconElement",f);return a},_initSliderBackground:function t(){var e=this.addGroup();e.initTransform();e.translate(0,0);e.addShape("Rect",{attrs:d.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))});return e},_beforeRenderUI:function t(){var e=this._initSliderBackground();var r=this._initHandle("min");var a=this._initHandle("max");var i=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",i);this.set("minHandleElement",r);this.set("maxHandleElement",a);this.set("backgroundElement",e);e.set("zIndex",0);i.set("zIndex",1);r.set("zIndex",2);a.set("zIndex",2);i.attr("cursor","move");this.sort()},_renderUI:function t(){if(this.get("layout")==="horizontal"){this._renderHorizontal()}else{this._renderVertical()}},_transform:function t(e){var r=this.get("range");var a=r[0]/100;var i=r[1]/100;var n=this.get("width");var o=this.get("height");var s=this.get("minHandleElement");var l=this.get("maxHandleElement");var u=this.get("middleHandleElement");if(s.resetMatrix){s.resetMatrix();l.resetMatrix()}else{s.initTransform();l.initTransform()}if(e==="horizontal"){u.attr({x:n*a,y:0,width:(i-a)*n,height:o});s.translate(a*n,0);l.translate(i*n,0)}else{u.attr({x:0,y:o*(1-i),width:n,height:(i-a)*o});s.translate(0,(1-a)*o);l.translate(0,(1-i)*o)}},_renderHorizontal:function t(){this._transform("horizontal")},_renderVertical:function t(){this._transform("vertical")},_bindUI:function t(){this.on("mousedown",d.wrapBehavior(this,"_onMouseDown"))},_isElement:function t(e,r){var a=this.get(r);if(e===a){return true}if(a.isGroup){var i=a.get("children");return i.indexOf(e)>-1}return false},_getRange:function t(e,r){var a=e+r;a=a>100?100:a;a=a<0?0:a;return a},_limitRange:function t(e,r,a){a[0]=this._getRange(e,a[0]);a[1]=a[0]+r;if(a[1]>100){a[1]=100;a[0]=a[1]-r}},_updateStatus:function t(e,r){var a=e==="x"?this.get("width"):this.get("height");e=d.upperFirst(e);var i=this.get("range");var n=this.get("page"+e);var o=this.get("currentTarget");var s=this.get("rangeStash");var l=this.get("layout");var u=l==="vertical"?-1:1;var f=r["page"+e];var c=f-n;var v=c/a*100*u;var h;var p=this.get("minRange");var g=this.get("maxRange");if(this._isElement(o,"middleHandleElement")){h=s[1]-s[0];this._limitRange(v,h,i)}this.emit("sliderchange",{range:i});this.set("page"+e,f);this._renderUI();this.get("canvas").draw();return},_onMouseDown:function t(e){var r=e.currentTarget;var a=e.event;var i=this.get("range");a.stopPropagation();a.preventDefault();this.set("pageX",a.pageX);this.set("pageY",a.pageY);this.set("currentTarget",r);this.set("rangeStash",[i[0],i[1]]);this._bindCanvasEvents()},_bindCanvasEvents:function t(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=n.addEventListener(e,"mousemove",d.wrapBehavior(this,"_onCanvasMouseMove"));this.onMouseUpListener=n.addEventListener(e,"mouseup",d.wrapBehavior(this,"_onCanvasMouseUp"));this.onMouseLeaveListener=n.addEventListener(e,"mouseleave",d.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function t(e){var r=this.get("layout");if(r==="horizontal"){this._updateStatus("x",e)}else{this._updateStatus("y",e)}},_onCanvasMouseUp:function t(){this._removeDocumentEvents()},_removeDocumentEvents:function t(){this.onMouseMoveListener.remove();this.onMouseUpListener.remove();this.onMouseLeaveListener.remove()}});t.exports=o},function(t,e,r){function u(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var Y=r(0);var i=r(172);var V=r(378);var f=r(379);var c=["X","Y","XY"];var v="X";var n=function(l){a(e,l);var t=e.prototype;t.getDefaultCfg=function t(){var e=l.prototype.getDefaultCfg.call(this);return Y.mix({},e,{processEvent:"mousewheel",type:v,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})};function e(t,e){var r;r=l.call(this,t,e)||this;var a=u(r);a.chart=e;a.type=a.type.toUpperCase();var i=a.data=e.get("data");var n=e.getYScales();var o=e.getXScale();n.push(o);var s=e.get("scaleController");n.forEach(function(t){var e=t.field;var r=s.defs[e]||{};a.limitRange[e]=f(i,t);a.originScaleDefsByField[e]=Y.mix(r,{nice:!!r.nice});if(t.isLinear){a.stepByField[e]=(t.max-t.min)*a.stepRatio}else{a.stepByField[e]=a.catStep}});if(!c.includes(a.type)){a.type=v}return r}t._applyScale=function t(e,r,a,i){if(a===void 0){a=0}var n=this;var o=n.chart,s=n.stepByField;if(e.isLinear){var l=e.min,u=e.max,f=e.field;var c=1-a;var v=s[f]*r;var h=l+v*a;var p=u-v*c;if(p>h){var g=V(o,f);o.scale(f,Y.mix({},g,{nice:false,min:h,max:p}))}}else{var d=e.field,y=e.values;var m=n.chart;var x=m.get("coord");var b=V(m,d);var _=n.limitRange[d];var w=_.length;var S=n.maxScale;var M=n.minScale;var C=w/S;var k=w/M;var A=y.length;var P=x.invertPoint(i);var I=P.x;var T=A-r*this.catStep;var O=parseInt(T*I);var L=T+O;if(r>0&&A>=C){var E=O;var D=L;if(L>A){D=A-1;E=A-T}var F=y.slice(E,D);m.scale(d,Y.mix({},b,{values:F}))}else if(r<0&&A<=k){var B=_.indexOf(y[0]);var R=_.indexOf(y[A-1]);var j=Math.max(0,B-O);var N=Math.min(R+L,w);var z=_.slice(j,N);m.scale(d,Y.mix({},b,{values:z}))}}};t.process=function t(e){var r=this;var a=r.chart,i=r.type;var n=a.get("coord");var o=e.deltaY;var s=n.invertPoint(e);if(o){r.onZoom&&r.onZoom(o,s,r);if(o>0){r.onZoomin&&r.onZoomin(o,s,r)}else{r.onZoomout&&r.onZoomout(o,s,r)}var l=o/Math.abs(o);if(i.indexOf("X")>-1){r._applyScale(a.getXScale(),l,s.x,e)}if(i.indexOf("Y")>-1){var u=a.getYScales();u.forEach(function(t){r._applyScale(t,l,s.y,e)})}}a.repaint()};t.reset=function t(){var e=this;var r=e.view,a=e.originScaleDefsByField;var i=r.getYScales();var n=r.getXScale();i.push(n);i.forEach(function(t){if(t.isLinear){var e=t.field;r.scale(e,a[e])}});r.repaint()};return e}(i);t.exports=n}])});