(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{503:function(t,e,n){var a=n(147),i=n(571);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},568:function(t,e,n){t.exports=n.p+"Content/img/back.png"},569:function(t,e,n){!function(t){"use strict";!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),n=" .timeline { padding: 0; position: relative; list-style: none; font-family: PingFangSC-light, Avenir, Helvetica, Arial, Hiragino Sans GB, Microsoft YaHei, sans-serif; -webkit-font-smoothing: antialiased; margin: 10px 20px; } .timeline:after { position: absolute; content: ''; left: 0; top: 0; width: 1px; height: 100%; background-color: var(--timelineTheme); } .timeline-item { position: relative; margin: 1.5em 0 0 28px; padding-bottom: 1.5em; border-bottom: 1px dotted var(--timelineTheme); } .timeline-item:last-child { border-bottom: none; } .timeline-circle { position: absolute; top: .28em; left: -34px; width: 10px; height: 10px; border-radius: 50%; border: 1px solid var(--timelineTheme); background-color: var(--timelineTheme); z-index: 1; box-sizing: content-box; } .timeline-circle.hollow { background-color: var(--timelineBg); } .timeline-title { position: relative; display: inline-block; /** * BFC inline-block 元素与其兄弟元素、子元素和父元素的外边距都不会折叠（包括其父元素和子元素） */ cursor: crosshair; margin: -.15em 0 15px 28px } .timeline-title:not(:first-child) { margin-top: 28px; } .timeline-title-circle { left: -36px; top: .15em; width: 16px; height: 16px; } .timeline-others { width: 40px; height: auto; top: .2em; left: -48px; line-height: 1; padding: 2px 0; text-align: center; border: none; background-color: var(--timelineBg); } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}}();var e={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{ref:"timeline",staticClass:"timeline"},[this._t("default")],2)},staticRenderFns:[],name:"Timeline",props:{timelineTheme:{type:String,default:"#dbdde0"},timelineBg:{type:String,default:"#fff"}},mounted:function(){var t=this.$refs.timeline;t.style.setProperty("--timelineTheme",this.timelineTheme),t.style.setProperty("--timelineBg",this.timelineBg)}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var n={name:"TimelineItemBase",props:{bgColor:{type:String,default:""},lineColor:{type:String,default:""},hollow:{type:Boolean,default:!1},fontColor:{type:String,default:"#37414a"}},data:function(){return{slotOthers:!1}},computed:{circleStyle:function(){if(this.bgColor||this.lineColor||this.hollow){var t={};return this.bgColor&&(t={"border-color":this.bgColor,"background-color":this.bgColor}),this.lineColor&&(t=Object.assign({},t,{"border-color":this.lineColor})),t}},itemStyle:function(){return{color:this.fontColor}},slotClass:function(){var t="";return this.slotOthers?t="timeline-others":this.hollow&&(t="hollow"),t}},mounted:function(){this.slotOthers=!!this.$refs.others.innerHTML}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"timeline-item",style:this.itemStyle},[e("div",{ref:"others",staticClass:"timeline-circle",class:this.slotClass,style:this.circleStyle},[this._t("others")],2),this._v(" "),this._t("default")],2)},staticRenderFns:[],extends:n};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"timeline-title",style:this.itemStyle},[e("div",{ref:"others",staticClass:"timeline-circle timeline-title-circle",class:this.slotClass,style:this.circleStyle},[this._t("others")],2),this._v(" "),this._t("default")],2)},staticRenderFns:[],extends:n};"undefined"!=typeof window&&window.Vue&&(window.Vue.component(e.name,e),window.Vue.component(a.name,a),window.Vue.component(i.name,i)),t.Timeline=e,t.TimelineItem=a,t.TimelineTitle=i,Object.defineProperty(t,"__esModule",{value:!0})}(e)},570:function(t,e,n){"use strict";var a=n(503);n.n(a).a},571:function(t,e,n){(e=n(487)(!1)).push([t.i,"/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n[data-v-538fb0f3]::-webkit-scrollbar {\n  width: 0.32rem;\n  height: 0.32rem;\n  background-color: #F5F5F5;\n}\n/*定义滚动条轨道 内阴影+圆角*/\n[data-v-538fb0f3]::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  border-radius: 0.2rem;\n  background-color: #F5F5F5;\n}\n/*定义滑块 内阴影+圆角*/\n[data-v-538fb0f3]::-webkit-scrollbar-thumb {\n  border-radius: 0.2rem;\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n}\n.container[data-v-538fb0f3] {\n  min-width: 1200px;\n  width: 100%;\n  height: 100%;\n  background: #D7E0EE;\n  overflow: hidden;\n  font-size: 0.4rem;\n  padding: 0.3rem;\n  display: flex;\n}\n.container .b-left[data-v-538fb0f3] {\n  width: 50%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.container .b-left .b-left-top[data-v-538fb0f3] {\n  height: 50%;\n  width: 100%;\n  padding: 0.15rem;\n}\n.container .b-left .b-left-top .b-left-top-content[data-v-538fb0f3] {\n  border-radius: 0.16rem;\n  height: 100%;\n  background: #fff;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box[data-v-538fb0f3] {\n  background: #fff;\n  /*flex: 1;*/\n  padding: 0.5rem;\n  position: relative;\n  border-radius: 0.16rem;\n  height: 100%;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .name[data-v-538fb0f3] {\n  position: absolute;\n  font-size: 0.5rem;\n  font-weight: bold;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-expenditure[data-v-538fb0f3] {\n  top: 1rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-loss[data-v-538fb0f3] {\n  top: 1.5rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-div[data-v-538fb0f3] {\n  position: absolute;\n  left: 1.25rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-div .legend[data-v-538fb0f3] {\n  display: inline-block;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-div .light-blue-border[data-v-538fb0f3] {\n  border: 5px solid #86C7E6;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-div .blue-border[data-v-538fb0f3] {\n  border: 5px solid #1B85E7;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .legend-div .red-border[data-v-538fb0f3] {\n  border: 5px solid #f00000;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1[data-v-538fb0f3] {\n  position: absolute;\n  right: 0;\n  left: 0;\n  padding-right: 0.2rem;\n  top: 0.5rem;\n  display: flex;\n  justify-content: flex-end;\n  z-index: 2;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list[data-v-538fb0f3] {\n  display: flex;\n  align-items: baseline;\n  margin-left: 0.2rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .total[data-v-538fb0f3] {\n  margin-right: 0.2rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .total .value[data-v-538fb0f3] {\n  font-weight: bold;\n  font-size: 0.6rem;\n  margin-bottom: 0.1rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .total .text[data-v-538fb0f3] {\n  font-size: 0.4rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status .value[data-v-538fb0f3] {\n  font-weight: bold;\n  font-size: 0.6rem;\n  display: flex;\n  align-items: baseline;\n  margin-bottom: 0.1rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status .value .iconfont[data-v-538fb0f3] {\n  font-size: 0.7rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status .text[data-v-538fb0f3] {\n  color: #000;\n  font-size: 0.4rem;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status.red[data-v-538fb0f3] {\n  color: #E64340;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status.green[data-v-538fb0f3] {\n  color: #3eaf7c;\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box .list-box1 .list .status.down .iconfont[data-v-538fb0f3] {\n  transform: rotate(180deg);\n}\n.container .b-left .b-left-top .b-left-top-content .chart1-box #chart1[data-v-538fb0f3] {\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.container .b-left .b-left-bottom[data-v-538fb0f3] {\n  height: 50%;\n  width: 100%;\n  padding: 0.15rem;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content[data-v-538fb0f3] {\n  border-radius: 0.16rem;\n  height: 100%;\n  background: #fff;\n  display: flex;\n  position: relative;\n  width: 100%;\n  flex-direction: column;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .name[data-v-538fb0f3] {\n  position: absolute;\n  left: 0.5rem;\n  top: 0.5rem;\n  z-index: 10;\n  width: 90%;\n  font-size: 0.4rem;\n  font-weight: bold;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail[data-v-538fb0f3] {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  height: 100%;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .flex-column[data-v-538fb0f3] {\n  display: flex;\n  flex-direction: column;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .column-end[data-v-538fb0f3] {\n  justify-content: flex-end;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .column-center[data-v-538fb0f3] {\n  justify-content: center;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .column-end[data-v-538fb0f3] {\n  justify-content: flex-start;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box[data-v-538fb0f3] {\n  width: 35%;\n  height: 80%;\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  font-size: 0.36rem;\n  padding: 1.25rem 0 0 0.7rem;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .name-lower[data-v-538fb0f3] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .name-lower .link[data-v-538fb0f3]:hover {\n  cursor: pointer;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .detail-data[data-v-538fb0f3] {\n  height: 65%;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .detail-img[data-v-538fb0f3] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .detail-img .img[data-v-538fb0f3] {\n  max-width: 100%;\n  max-height: 100%;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .name-lower-box .detail-po[data-v-538fb0f3] {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail #chart3[data-v-538fb0f3] {\n  width: 50%;\n  height: 100%;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .list3[data-v-538fb0f3] {\n  width: 25%;\n  font-weight: bold;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: 0.3rem;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .list3 .item[data-v-538fb0f3] {\n  margin: 0.3rem 0;\n}\n.container .b-left .b-left-bottom .b-left-bottom-content .bottom-detail .list3 .item .count[data-v-538fb0f3] {\n  margin-right: 0.5rem;\n}\n.container .b-right[data-v-538fb0f3] {\n  width: 50%;\n  height: 100%;\n  padding: 0.15rem;\n}\n.container .b-right .b-right-content[data-v-538fb0f3] {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.16rem;\n  background: #fff;\n  padding: 0.8rem;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] {\n  width: 100%;\n  height: 95%;\n  overflow-y: auto;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline {\n  margin: 0.5rem 1rem;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline:after {\n  top: 0rem;\n  height: auto;\n  bottom: 0.7rem;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline .timeline-title {\n  font-size: 0.6rem;\n  font-weight: bold;\n  margin: -0.15em 0 0.5rem 0;\n  cursor: unset;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline .timeline-item {\n  margin: 0.5em 0 0 0.5rem;\n  padding-bottom: 0.5em;\n  border-bottom: 0px dotted;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline .timelineP {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n  padding-bottom: 3px;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline .timeline-circle {\n  top: 0;\n  width: 0.3rem;\n  height: 0.3rem;\n  left: -0.65rem;\n}\n.container .b-right .b-right-content .b-timeline[data-v-538fb0f3] .timeline .timeline-title-circle {\n  width: 0;\n  height: 0;\n  display: none;\n}\n.container[data-v-538fb0f3] .g2-tooltip {\n  z-index: 99;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 0.16rem;\n  color: #ddd;\n  white-space: nowrap;\n  font-size: 0.36rem;\n  line-height: 1.2;\n  padding: 0.24rem 0.24rem 0.1rem 0.24rem;\n  box-shadow: 0 0 0.1rem #aeaeae;\n}\n.container[data-v-538fb0f3] .g2-tooltip-title {\n  font-size: 0.4rem;\n}\n.container[data-v-538fb0f3] .g2-tooltip-list {\n  padding: 0;\n  list-style-type: none;\n  margin-top: 0.2rem;\n}\n.container[data-v-538fb0f3] .g2-tooltip-list .g2-tooltip-li {\n  margin: 0.2rem 0;\n}\n.container canvas[data-v-538fb0f3] {\n  background: #fff;\n  width: 100%;\n  height: 100%;\n}\n",""]),t.exports=e},576:function(t,e,n){"use strict";n.r(e);var a=n(209),i=n.n(a),o=n(490),r=n.n(o),l=n(493),s=n.n(l),c=n(486),d=n(494),f=n.n(d),m=n(495),b=n(485),h=n(488),u=n(489),p=n(569),v={components:{EventList:h.a,KpiList:u.a,Timeline:p.Timeline,TimelineItem:p.TimelineItem,TimelineTitle:p.TimelineTitle},data:function(){return{base_url:b.a,timelineTitle:"",timeline:[],id:this.$route.query.id,currentData:{name:"",start_time:""},name1:"",chart1:{data:[],chart:{}},income:0,incomeLast:0,rate1:0,rate2:0,expense:0,expenseLast:0,chart3:{data:[],list:[],chart:null},maxCount:0,radarTemplate:[{item:"维修",typeId:1},{item:"保养",typeId:2},{item:"强检",typeId:3},{item:"巡检",typeId:4},{item:"校准",typeId:5}],date:localStorage.getItem("date")?new Date(localStorage.getItem("date")):new Date}},computed:{},created:function(){var t=this;this.getChart1().then(function(){!t.chart1.data.length||t.chart1.data.every(function(t){return/^null_[0-9]*$/.test(t.name)})?t.currentData={ID:0,name:"",brand:"",model:"",value:"",seriesNumber:"",department:"",start_time:"",status:"",warrantyStatus:""}:t.currentData=t.chart1.data[0],t.renderChart1(),t.getChart3().then(function(){t.renderChart3()}),t.getTimeline()})},methods:{refreshAll:function(){var t=this;t.chart1&&t.chart1.chart&&s()(t.chart1.chart).length&&!t.chart1.chart.destroyed&&t.chart1.chart.destroy(),t.chart3&&t.chart3.chart&&s()(t.chart3.chart).length&&!t.chart3.chart.destroyed&&t.chart3.chart.destroy(),this.getChart1().then(function(){!t.chart1.data.length||t.chart1.data.every(function(t){return/^null_[0-9]*$/.test(t.name)})?t.currentData={ID:0,name:"",brand:"",model:"",value:"",seriesNumber:"",department:"",start_time:"",status:"",warrantyStatus:""}:t.currentData=t.chart1.data[0],t.renderChart1(),t.getChart3().then(function(){t.renderChart3()}),t.getTimeline()})},navigateTo:function(t){0!=t.id&&window.open(b.a+"/Dispatch/DispatchResponse?dispatchID="+t.id+"&requestType="+t.requestType)},goToRequest:function(t,e){window.open(b.a+"/Request/RequestList?equipmentId="+t+"&requestType="+e)},returnToDashboard:function(){this.$router.push("indexU").catch(function(t){return t})},getChart1:function(){var t=this;return new r.a(function(e){Object(c.b)({id:t.id,date:t.date}).then(function(n){if(t.chart1.data=[],n.Data.map(function(e,n){t.income+=e.Incomes,t.expense+=e.Expenses,t.incomeLast+=e.LastIncomes,t.expenseLast+=e.LastExpenses,0==e.Incomes&&0==e.Expenses||t.chart1.data.push(i()({},e,{name:e.Name+" - "+e.Manufacturer.Name+" - "+e.EquipmentCode+"?"+n,"收入":Number(e.Incomes/1e4),"支出":Number(e.Expenses/1e4),brand:e.Manufacturer.Name,model:e.EquipmentCode,value:Number(e.PurchaseAmount/1e4),seriesNumber:e.AssetCode,department:e.Department.Name,start_time:e.InstalDate,status:e.EquipmentStatus.Name,warrantyStatus:e.WarrantyStatus}))}),t.chart1.data.length)for(;t.chart1.data.length-5<0;)t.chart1.data.push({name:"null_"+t.chart1.data.length});0==t.expenseLast?t.rate2=0:t.rate2=(t.expense-t.expenseLast)/t.expenseLast,0==t.incomeLast?t.rate1=0:t.rate1=(t.income-t.incomeLast)/t.incomeLast,e()})})},random:function(t,e){return Math.floor(Math.random()*(e-t))+t},getChart3:function(){var t=this,e=this;return new r.a(function(n){Object(c.i)({id:t.currentData.ID,date:t.date}).then(function(a){var i=t.radarTemplate;i[0].value=a.Data.Repair||0,i[1].value=a.Data.Maintain||0,i[2].value=a.Data.Inspection||0,i[3].value=a.Data.OnSiteInspection||0,i[4].value=a.Data.Correcting||0;for(var o=0,r=0;r<i.length;r++)o<i[r].value&&(o=i[r].value);e.maxCount=o,e.maxTickCount=o>5?5:o<2?2:o,e.chart3.list=i;var l=(new(0,m.DataSet.DataView)).source(e.chart3.list);l.transform({type:"fold",fields:["value"],key:"user",value:"score"}),t.chart3.data=l,n(l)})})},itemColor:function(t){switch(t){case 1:case 3:return"#E64340";case 4:case 2:case 5:return"#3eaf7c";default:return"#f0f0f0"}},getTimeline:function(){var t=this;Object(c.k)({id:this.currentData.ID,date:this.date}).then(function(e){if(0!=t.currentData.ID){t.timelineTitle=e.Data.Name+" - "+e.Data.EquipmentCode;var n=e.Data.Dispatches.map(function(e,n){return{date:e.EndDate.split("T")[0],event:e.TimelineDesc,color:t.itemColor(e.RequestType.ID),id:e.ID,requestType:e.RequestType.ID}});t.timeline=n}else t.timeline=[]})},renderChart1:function(){var t=this,e=new m.DataSet.DataView;if(!this.chart1.data.every(function(t){return!t.name})){e.source(this.chart1.data).transform({type:"map",callback:function(t){return/^null_[0-9]*$/.test(t.name)||(t["支出"]*=-1),t}}).transform({type:"fold",fields:["收入","支出"],key:"opinion",value:"value",retains:["name"]});var n={"收入":"#86C7E6","支出":"#1B85E7"};t.chart1&&t.chart1.chart&&s()(t.chart1.chart).length&&!t.chart1.chart.destroyed&&t.chart1.chart.destroy(),t.chart1.chart=new f.a.Chart({container:"chart1",forceFit:t.chart1.data.length<=20,height:document.querySelector("#chart1").clientHeight,width:48*t.chart1.data.length,padding:[Object(b.b)(1.6),0,0,0]});var a=t.chart1.chart;a.source(e),a.axis(!1),this.chart1.data.forEach(function(t,e){t["支出"]&&t["收入"]&&t["支出"]>t["收入"]&&a.guide().regionFilter({top:!0,start:[e-.5,-t["收入"]],end:[e+.5,-t["支出"]],color:"#E2340D"}),a.guide().line({top:!0,start:[e-.25,0],end:[e+.25,0],lineStyle:{stroke:"#3aa0ff",lineWidth:1,lineDash:[2,2]}})}),a.tooltip({inPlot:!0,useHtml:!0,htmlContent:function(e,n){var a={};return t.chart1.data.forEach(function(t){t.name===e&&(a=t)}),'<div class="g2-tooltip">\n                    <div class="g2-tooltip-title">'+e.split("?")[0]+'</div>\n                    <ul class="g2-tooltip-list">\n                      <li class="g2-tooltip-li">设备价值：'+t.numberComma(Math.floor(Number(a.value)))+'万</li>\n                      <li class="g2-tooltip-li">型号：'+t.numberComma(a.model)+'</li>\n                      <li class="g2-tooltip-li">品牌：'+t.numberComma(a.brand)+'</li>\n                      <li class="g2-tooltip-li">收入：'+t.numberComma(Math.floor(Number(a.收入)))+'万</li>\n                      <li class="g2-tooltip-li">支出：'+t.numberComma(Math.floor(Number(a.支出)))+"万</li>\n                    </ul>\n                  </div>"}}),a.coord(),a.intervalStack().position("name*value").color("opinion",function(t){return n[t]}),a.on("click",function(e){var n=a.getSnapRecords({x:e.x,y:e.y})[0]._origin.name,i=t.chart1.data.find(function(t){return t.name===n});i.name&&!/^null_[0-9]*$/.test(i.name)&&(t.currentData=i,t.getChart3().then(function(){t.renderChart3()}),t.getTimeline())}),a.render()}},renderChart3:function(){var t=this,e=this;e.chart3&&e.chart3.chart&&s()(e.chart3.chart).length&&!e.chart3.chart.destroyed&&e.chart3.chart.destroy(),e.chart3.chart=new f.a.Chart({container:"chart3",forceFit:!0,height:document.querySelector("#chart3").clientHeight,padding:[Object(b.b)(.5),Object(b.b)(.2),0,Object(b.b)(.1)]}),e.chart3.chart.source(e.chart3.data,{score:{min:0,max:e.maxCount,tickCount:e.maxTickCount}}),e.chart3.chart.coord("polar",{radius:.6}),e.chart3.chart.axis("item",{line:null,label:{textStyle:{fontSize:Object(b.b)(.3),fontWeight:"bold"}},tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}}),e.chart3.chart.axis("score",{label:null,line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineWidth:Object(b.b)(.02),lineDash:null}}}),e.chart3.chart.legend(!1),e.chart3.chart.tooltip({"g2-tooltip":{"background-color":"rgba(0, 0, 0, 0.7)",color:"#ddd"},itemTpl:'<li style="font-size: .4rem;">次数：{value}</li>'}),e.chart3.chart.line().position("item*score").color("user").size(Object(b.b)(.01)),e.chart3.chart.area().position("item*score").color("user"),e.chart3.chart.on("click",function(n){var a=e.chart3.chart.getSnapRecords({x:n.x,y:n.y})[0]._origin.typeId,i=e.chart3.list.find(function(t){return t.typeId==a});i&&-1!=i.id&&t.goToRequest(t.currentData.ID,i.typeId)}),e.chart3.chart.render()},numberComma:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(t=String(t).split("."))[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{"+e+"})+$)","ig"),"$1,"),t.join(".")}}},g=(n(570),n(148)),x=Object(g.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"b-left"},[a("div",{staticClass:"b-left-top"},[a("div",{staticClass:"b-left-top-content"},[a("div",{staticClass:"chart1-box"},[a("div",{staticStyle:{"z-index":"10",position:"absolute",cursor:"pointer",left:"0.25rem"},on:{click:function(e){return t.returnToDashboard()}}},[a("img",{staticStyle:{opacity:"0.3"},attrs:{width:"35px",src:n(568)},on:{click:function(e){return t.returnToDashboard()}}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"list-box1"},[a("div",{staticClass:"list"},[a("div",{staticClass:"total"},[a("div",{staticClass:" center-center value"},[t._v(t._s(t.numberComma(Math.floor(t.income/1e4))))]),t._v(" "),a("div",{staticClass:" center-center text"},[t._v("总收入（万元）")])]),t._v(" "),a("div",{class:t.rate1>0?"status up green":"status down red"},[a("div",{staticClass:" center-center value"},[a("span",[t._v(t._s(Math.abs((100*t.rate1).toFixed(2)))+"%")]),t._v(" "),a("span",{staticClass:"iconfont icon-shang"})]),t._v(" "),a("div",{staticClass:" center-center text"},[t._v("\n                    同比\n                  ")])])]),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"total"},[a("div",{staticClass:" center-center value"},[t._v(t._s(t.numberComma(Math.floor(t.expense/1e4))))]),t._v(" "),a("div",{staticClass:" center-center text"},[t._v("总支出（万元）")])]),t._v(" "),a("div",{class:t.rate2>0?"status up green":"status down red"},[a("div",{staticClass:" center-center value"},[a("span",[t._v(t._s(Math.abs((100*t.rate2).toFixed(2)))+"%")]),t._v(" "),a("span",{staticClass:"iconfont icon-shang"})]),t._v(" "),a("div",{staticClass:" center-center text"},[t._v("\n                    同比\n                  ")])])])]),t._v(" "),a("div",{attrs:{id:"chart1"}})])])]),t._v(" "),a("div",{staticClass:"b-left-bottom"},[a("div",{staticClass:"b-left-bottom-content"},[a("div",{staticClass:"bottom-detail"},[a("div",{staticClass:"name-lower-box flex-column column-end"},[a("div",{staticClass:"name-lower"},[a("span",[t._v("当前位置：")]),t._v(" "),a("span",{staticStyle:{"margin-top":"5px",color:"rgb(55, 65, 74)"},attrs:{title:t.currentData.department}},[t._v(t._s(t.currentData.department))])]),t._v(" "),a("div",{staticClass:"name-lower"},[a("span",[t._v("当前状态：")]),t._v(" "),a("span",{staticStyle:{"margin-top":"5px",color:"rgb(55, 65, 74)"},attrs:{title:t.currentData.status}},[t._v(t._s(t.currentData.status))])]),t._v(" "),a("div",{staticClass:"name-lower detail-data detail-img"},[a("img",{staticClass:"img",attrs:{src:t.base_url+(t.currentData.url?"/Documents/Equipment/"+t.currentData.url:"/Content/img/appearance.png"),alt:"无图片"}})])]),t._v(" "),a("div",{staticClass:"name-lower-box flex-column column-end"},[a("div",{staticClass:"name-lower"},[a("span",[t._v("安装日期：")]),t._v(" "),a("span",{staticStyle:{"margin-top":"5px",color:"rgb(55, 65, 74)"},attrs:{title:t.currentData&&t.currentData.start_time?t.currentData.start_time.split("T")[0]:""}},[t._v(t._s(t.currentData&&t.currentData.start_time?t.currentData.start_time.split("T")[0]:""))])]),t._v(" "),a("div",{staticClass:"name-lower"},[a("span",[t._v("维保状态：")]),t._v(" "),a("span",{staticStyle:{"margin-top":"5px",color:"rgb(55, 65, 74)"},attrs:{title:t.currentData.warrantyStatus}},[t._v(t._s(t.currentData.warrantyStatus))])]),t._v(" "),a("div",{staticClass:"name-lower detail-data detail-po"},t._l(t.chart3.list,function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(e.item))]),t._v(" "),a("span",[t._v("：")]),t._v(" "),a("span",{staticClass:"link",staticStyle:{"margin-top":"5px",color:"rgb(55, 65, 74)"},attrs:{title:e.value},on:{click:function(n){return t.goToRequest(t.currentData.ID,e.typeId)}}},[t._v(t._s(e.value))])])}),0)]),t._v(" "),a("div",{attrs:{id:"chart3"}})]),t._v(" "),a("div",{staticClass:"name",attrs:{title:t.currentData.name.split("?")[0]+" - "+t.currentData.seriesNumber}},[t._v("\n            "+t._s(t.currentData&&t.currentData.seriesNumber&&t.currentData.name?t.currentData.name.split("?")[0]+" - "+t.currentData.seriesNumber:"")+"\n          ")])])])]),t._v(" "),a("div",{staticClass:"b-right"},[a("div",{staticClass:"b-right-content"},[a("div",{staticClass:"timeline-title",staticStyle:{"font-size":"0.64rem",cursor:"auto","line-height":"1.2"}},[t._v(t._s(t.timelineTitle))]),t._v(" "),a("div",{staticClass:"b-timeline"},[a("timeline",t._l(t.timeline,function(e,n){return a("timeline-item",{key:n,attrs:{title:e.date+" "+e.event,"bg-color":e.color},nativeOn:{click:function(n){return t.navigateTo(e)}}},[a("p",{staticClass:"timelineP",staticStyle:{cursor:"pointer"}},[t._v(t._s(e.date)+" "+t._s(e.event))])])}),1)],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legend-div"},[e("span",{staticClass:"legend light-blue-border"}),this._v(" 收入")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legend-div legend-expenditure"},[e("span",{staticClass:"legend blue-border"}),this._v(" 支出")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legend-div legend-loss"},[e("span",{staticClass:"legend red-border"}),this._v(" 亏损")])}],!1,null,"538fb0f3",null);e.default=x.exports}}]);