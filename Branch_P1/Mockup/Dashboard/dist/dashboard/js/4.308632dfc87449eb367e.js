webpackJsonp([4],{F1rO:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("P9l9"),e=a("Y2UX"),n=a.n(e),l=a("eeqE"),c=a("F+jZ"),r=a("3Jf1"),o=a("Wd67"),h={components:{EventList:r.a,KpiList:o.a},data:()=>({chart1:{data:[{name:"骨科","收入":800,"支出":600,"设备数量":40,"设备价值":4800,"服务人次":99},{name:"重症医学科","收入":400,"支出":111,"设备数量":30,"设备价值":8800,"服务人次":2334},{name:"血库","收入":330,"支出":234,"设备数量":5,"设备价值":9800,"服务人次":99},{name:"肿瘤消化肾病科","收入":444,"支出":580,"设备数量":47,"设备价值":8800,"服务人次":555},{name:"肾病综合内科","收入":999,"支出":490,"设备数量":5,"设备价值":8800,"服务人次":666},{name:"肝胆外科","收入":666,"支出":290,"设备数量":4,"设备价值":8800,"服务人次":222},{name:"神经内外科","收入":222,"支出":333,"设备数量":4,"设备价值":8800,"服务人次":28},{name:"消化呼吸科","收入":111,"支出":222,"设备数量":4,"设备价值":8800,"服务人次":333},{name:"泌尿五官科","收入":333,"支出":112,"设备数量":3,"设备价值":8800,"服务人次":101},{name:"新生儿科","收入":123,"支出":82,"设备数量":3,"设备价值":8800,"服务人次":111},{name:"放射科","收入":175,"支出":111,"设备数量":4,"设备价值":8800,"服务人次":69},{name:"手术室","收入":388,"支出":345,"设备数量":3,"设备价值":8800,"服务人次":23},{name:"妇产科","收入":356,"支出":234,"设备数量":4,"设备价值":8800,"服务人次":34}]},chart3:{data:[{name:"骨科",count:5,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1}]},{name:"呼吸科",count:3,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1}]},{name:"放射科",count:4,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1}]},{name:"手术科",count:2,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1}]},{name:"急诊科",count:1,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1}]},{name:"血液科",count:5,list:[{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!0},{name:"十二指肠内窥镜EW34-96\tEW34-49\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"十二指肠内窥镜EW34-96\tPhilips 781-296",status:!0},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1},{name:"电子上消化道内窥镜 EG-530WR\tPhilips 781-296",status:!1},{name:"上呼吸道内窥镜EW34-49\tPhilips 781-296",status:!1}]}],interval:null,activeIndex:0,timing:null},list3:[]}),computed:{},created(){this.$nextTick(()=>{this.renderChart1(),this.renderChart3()}),this.autoSelectchart3()},methods:{getqueryOverview(){Object(i.c)().then(t=>{console.log(t)})},renderChart1(){let t=this;var s=new l.DataSet.DataView;s.source(this.chart1.data).transform({type:"map",callback:function(t){return t["支出"]*=-1,t}}).transform({type:"fold",fields:["收入","支出"],key:"opinion",value:"value",retains:["name"]}),console.log(s);var a={"收入":"#86C7E6","支出":"#1B85E7"},i=new n.a.Chart({container:"chart1",forceFit:!0,height:document.querySelector("#chart1").clientHeight,padding:[Object(c.b)(1.6),0,0,0]});i.source(s),i.axis(!1),this.chart1.data.forEach(function(t,s){t["支出"]>t["收入"]&&i.guide().regionFilter({top:!0,start:[s-.25,-t["收入"]],end:[s+.25,-t["支出"]],color:"#E2340D"})}),i.tooltip({inPlot:!0,useHtml:!0,htmlContent:function(s,a){let i={};return t.chart1.data.forEach(t=>{t.name===s&&(i=t)}),`<div class="g2-tooltip">\n                  <div class="g2-tooltip-title">${s}</div>\n                  <ul class="g2-tooltip-list">\n                    <li class="g2-tooltip-li">设备数量：${t.numberComma(i.设备数量)}</li>\n                    <li class="g2-tooltip-li">设备价值：${t.numberComma(i.设备价值)}万</li>\n                    <li class="g2-tooltip-li">服务人次：${t.numberComma(i.服务人次)}万</li>\n                    <li class="g2-tooltip-li">收入：${t.numberComma(i.收入)}万</li>\n                    <li class="g2-tooltip-li">支出：${t.numberComma(i.支出)}万</li>\n                  </ul>\n                </div>`}}),i.legend({custom:!0,itemWidth:Object(c.b)(1.4),items:[{value:"收入",marker:{symbol:"square",fill:a["收入"],radius:Object(c.b)(.1)}},{value:"支出",marker:{symbol:"square",fill:a["支出"],radius:Object(c.b)(.1)}}],position:"top-left",offsetX:Object(c.b)(.5),offsetY:-Object(c.b)(.8),textStyle:{fill:"#000",fontSize:Object(c.b)(.4)},hoverable:!1,reactive:!1,clickable:!1}),i.coord(),i.intervalStack().position("name*value").color("opinion",function(t){return a[t]}),i.on("click",s=>{var a=i.getSnapRecords({x:s.x,y:s.y});console.log(a);const e=a[0]._origin.name;t.$router.push({path:"/radar",query:{name:e}})}),i.render()},renderChart3(){let t=0;this.chart3.data.forEach(s=>{t+=s.count});let s=new n.a.Chart({container:"chart3",forceFit:!0,padding:0,height:document.querySelector("#chart3").clientHeight});s.source(this.chart3.data,{}),s.coord("theta",{radius:.75,innerRadius:.7}),s.tooltip({showTitle:!1,"g2-tooltip":{"background-color":"rgba(0, 0, 0, 0.7)",color:"#ddd"},itemTpl:'<li style="font-size: .4rem;">{name}<br/><br/><span style="font-size:.36rem;">参报数量：{value}</span></li>'}),s.guide().html({position:["50%","50%"],html:`<div class="total-repair" style="font-size: .4rem;text-align: center;width: 10em;cursor: pointer;">\n                <span style="font-size:.8rem;font-weight: bold;">${t}</span>件\n                <div style="margin-top: .25rem">今日总报修</div>\n              </div>`,alignX:"middle",alignY:"middle"}),s.legend(!1),this.chart3.interval=s.intervalStack().position("count").style({cursor:"pointer"}).color("name"),s.render(),this.addEvent(!0),this.chart3.interval.setSelected(this.chart3.data[this.chart3.activeIndex]),this.getchart3List(this.chart3.activeIndex),s.on("interval:click",t=>{const s=t.data;if(s){let t=s._origin.name;this.chart3.data.forEach((s,a)=>{s.name===t&&(this.chart3.activeIndex=a,this.getchart3List(this.chart3.activeIndex),clearInterval(this.chart3.timing),this.autoSelectchart3())})}})},autoSelectchart3(){this.chart3.timing=setInterval(()=>{this.chart3.activeIndex++,this.chart3.activeIndex>this.chart3.data.length-1&&(this.chart3.activeIndex=0),this.chart3.interval.setSelected(this.chart3.data[this.chart3.activeIndex]),this.getchart3List(this.chart3.activeIndex)},3e4)},getchart3List(t){console.log(t),this.list3=this.chart3.data[t].list,document.querySelector(".list-box3").scrollTo(0,0)},numberComma:(t,s=3)=>((t=String(t).split("."))[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{"+s+"})+$)","ig"),"$1,"),t.join(".")),clickEvent(){window.open("page/index-FujiManagerRepair.html","_self")},addEvent(t){let s=document.querySelector(".total-repair");s&&(t?s.addEventListener("click",this.clickEvent):s.document.querySelector(".total-repair").removeEventListener("click",this.clickEvent))}},beforeDestroy(){this.addEvent(!1)}},m={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("div",{staticClass:"left box box1"},[a("div",{staticClass:"top-list-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"value"},[t._v(t._s(t.numberComma(1133)))]),t._v(" "),a("div",{staticClass:"text"},[t._v("设备数量（台）")])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"value"},[t._v(t._s(t.numberComma(22314.34)))]),t._v(" "),a("div",{staticClass:"text"},[t._v("设备金额（万元）")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"value"},[t._v(t._s(t.numberComma(123)))]),t._v(" "),a("div",{staticClass:"text"},[t._v("当年服务人次(万人)")])])]),t._v(" "),a("div",{staticClass:"chart1-box"},[a("div",{staticClass:"list-box1"},[a("div",{staticClass:"list"},[a("div",{staticClass:"total"},[a("div",{staticClass:"value"},[t._v(t._s(t.numberComma(22608.09)))]),t._v(" "),a("div",{staticClass:"text"},[t._v("总收入（万元）")])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"total"},[a("div",{staticClass:"value"},[t._v(t._s(t.numberComma(16530.01)))]),t._v(" "),a("div",{staticClass:"text"},[t._v("总支出（万元）")])]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{attrs:{id:"chart1"}})])]),t._v(" "),a("div",{staticClass:"right box box2"},[a("EventList")],1)]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"left box box3"},[a("div",{attrs:{id:"chart3"}}),t._v(" "),a("div",{staticClass:"list-box-container"},[a("div",{staticClass:"list-box3"},t._l(t.list3,function(s,i){return a("div",{key:i,staticClass:"list"},[a("span",{staticClass:"index"},[t._v(t._s(i+1))]),t._v(" "),a("span",{staticClass:"name elip",attrs:{title:s.name}},[t._v(t._s(s.name))]),t._v(" "),a("span",{staticClass:"status",class:{err:s.status}},[t._v(t._s(s.status?"待维修":"已完成"))])])}),0)])]),t._v(" "),a("div",{staticClass:"right box box4"},[a("KpiList")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"item"},[s("div",{staticClass:"value"},[this._v("33.44%")]),this._v(" "),s("div",{staticClass:"text"},[this._v("折旧率")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"status up"},[s("div",{staticClass:"value"},[s("span",[this._v("23.45%")]),this._v(" "),s("span",{staticClass:"iconfont icon-shang"})]),this._v(" "),s("div",{staticClass:"text"},[this._v("\n                  同比去年\n                ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"status down"},[s("div",{staticClass:"value"},[s("span",[this._v("23.45%")]),this._v(" "),s("span",{staticClass:"iconfont icon-shang"})]),this._v(" "),s("div",{staticClass:"text"},[this._v("\n                  同比去年\n                ")])])}]};var v=a("C7Lr")(h,m,!1,function(t){a("iifg")},"data-v-4598016e",null);s.default=v.exports},iifg:function(t,s){}});
//# sourceMappingURL=4.308632dfc87449eb367e.js.map